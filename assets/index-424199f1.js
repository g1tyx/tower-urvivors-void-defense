(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function ed(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var za={exports:{}},Ls={},Ua={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cr=Symbol.for("react.element"),td=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),rd=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),od=Symbol.for("react.context"),id=Symbol.for("react.forward_ref"),ad=Symbol.for("react.suspense"),cd=Symbol.for("react.memo"),ud=Symbol.for("react.lazy"),Ti=Symbol.iterator;function dd(e){return e===null||typeof e!="object"?null:(e=Ti&&e[Ti]||e["@@iterator"],typeof e=="function"?e:null)}var Ha={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ba=Object.assign,Da={};function Hn(e,t,n){this.props=e,this.context=t,this.refs=Da,this.updater=n||Ha}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fa(){}Fa.prototype=Hn.prototype;function Ro(e,t,n){this.props=e,this.context=t,this.refs=Da,this.updater=n||Ha}var No=Ro.prototype=new Fa;No.constructor=Ro;Ba(No,Hn.prototype);No.isPureReactComponent=!0;var Ri=Array.isArray,Va=Object.prototype.hasOwnProperty,bo={current:null},Wa={key:!0,ref:!0,__self:!0,__source:!0};function Ga(e,t,n){var r,s={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)Va.call(t,r)&&!Wa.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),o=0;o<c;o++)u[o]=arguments[o+2];s.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Cr,type:e,key:l,ref:a,props:s,_owner:bo.current}}function fd(e,t){return{$$typeof:Cr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ko(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cr}function hd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ni=/\/+/g;function rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hd(""+e.key):t.toString(36)}function qr(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Cr:case td:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+rl(a,0):r,Ri(s)?(n="",e!=null&&(n=e.replace(Ni,"$&/")+"/"),qr(s,t,n,"",function(o){return o})):s!=null&&(ko(s)&&(s=fd(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ni,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ri(e))for(var c=0;c<e.length;c++){l=e[c];var u=r+rl(l,c);a+=qr(l,t,n,u,s)}else if(u=dd(e),typeof u=="function")for(e=u.call(e),c=0;!(l=e.next()).done;)l=l.value,u=r+rl(l,c++),a+=qr(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Lr(e,t,n){if(e==null)return e;var r=[],s=0;return qr(e,r,"","",function(l){return t.call(n,l,s++)}),r}function pd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},es={transition:null},md={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:es,ReactCurrentOwner:bo};function $a(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Lr,forEach:function(e,t,n){Lr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lr(e,function(){t++}),t},toArray:function(e){return Lr(e,function(t){return t})||[]},only:function(e){if(!ko(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Hn;V.Fragment=nd;V.Profiler=sd;V.PureComponent=Ro;V.StrictMode=rd;V.Suspense=ad;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=md;V.act=$a;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ba({},e.props),s=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=bo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)Va.call(t,u)&&!Wa.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var o=0;o<u;o++)c[o]=arguments[o+2];r.children=c}return{$$typeof:Cr,type:e.type,key:s,ref:l,props:r,_owner:a}};V.createContext=function(e){return e={$$typeof:od,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ld,_context:e},e.Consumer=e};V.createElement=Ga;V.createFactory=function(e){var t=Ga.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:id,render:e}};V.isValidElement=ko;V.lazy=function(e){return{$$typeof:ud,_payload:{_status:-1,_result:e},_init:pd}};V.memo=function(e,t){return{$$typeof:cd,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=es.transition;es.transition={};try{e()}finally{es.transition=t}};V.unstable_act=$a;V.useCallback=function(e,t){return ke.current.useCallback(e,t)};V.useContext=function(e){return ke.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};V.useEffect=function(e,t){return ke.current.useEffect(e,t)};V.useId=function(){return ke.current.useId()};V.useImperativeHandle=function(e,t,n){return ke.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return ke.current.useMemo(e,t)};V.useReducer=function(e,t,n){return ke.current.useReducer(e,t,n)};V.useRef=function(e){return ke.current.useRef(e)};V.useState=function(e){return ke.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return ke.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return ke.current.useTransition()};V.version="18.3.1";Ua.exports=V;var W=Ua.exports;const gd=ed(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd=W,vd=Symbol.for("react.element"),yd=Symbol.for("react.fragment"),wd=Object.prototype.hasOwnProperty,Sd=xd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ed={key:!0,ref:!0,__self:!0,__source:!0};function Ya(e,t,n){var r,s={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)wd.call(t,r)&&!Ed.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:vd,type:e,key:l,ref:a,props:s,_owner:Sd.current}}Ls.Fragment=yd;Ls.jsx=Ya;Ls.jsxs=Ya;za.exports=Ls;var i=za.exports,jl={},Ka={exports:{}},Fe={},Qa={exports:{}},Xa={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,U){var H=O.length;O.push(U);e:for(;0<H;){var K=H-1>>>1,q=O[K];if(0<s(q,U))O[K]=U,O[H]=q,H=K;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var U=O[0],H=O.pop();if(H!==U){O[0]=H;e:for(var K=0,q=O.length,Rt=q>>>1;K<Rt;){var Xe=2*(K+1)-1,Fn=O[Xe],dt=Xe+1,un=O[dt];if(0>s(Fn,H))dt<q&&0>s(un,Fn)?(O[K]=un,O[dt]=H,K=dt):(O[K]=Fn,O[Xe]=H,K=Xe);else if(dt<q&&0>s(un,H))O[K]=un,O[dt]=H,K=dt;else break e}}return U}function s(O,U){var H=O.sortIndex-U.sortIndex;return H!==0?H:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var u=[],o=[],h=1,g=null,p=3,S=!1,y=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var U=n(o);U!==null;){if(U.callback===null)r(o);else if(U.startTime<=O)r(o),U.sortIndex=U.expirationTime,t(u,U);else break;U=n(o)}}function E(O){if(T=!1,m(O),!y)if(n(u)!==null)y=!0,z(j);else{var U=n(o);U!==null&&F(E,U.startTime-O)}}function j(O,U){y=!1,T&&(T=!1,d(R),R=-1),S=!0;var H=p;try{for(m(U),g=n(u);g!==null&&(!(g.expirationTime>U)||O&&!b());){var K=g.callback;if(typeof K=="function"){g.callback=null,p=g.priorityLevel;var q=K(g.expirationTime<=U);U=e.unstable_now(),typeof q=="function"?g.callback=q:g===n(u)&&r(u),m(U)}else r(u);g=n(u)}if(g!==null)var Rt=!0;else{var Xe=n(o);Xe!==null&&F(E,Xe.startTime-U),Rt=!1}return Rt}finally{g=null,p=H,S=!1}}var M=!1,w=null,R=-1,N=5,I=-1;function b(){return!(e.unstable_now()-I<N)}function G(){if(w!==null){var O=e.unstable_now();I=O;var U=!0;try{U=w(!0,O)}finally{U?D():(M=!1,w=null)}}else M=!1}var D;if(typeof f=="function")D=function(){f(G)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,_e=J.port2;J.port1.onmessage=G,D=function(){_e.postMessage(null)}}else D=function(){A(G,0)};function z(O){w=O,M||(M=!0,D())}function F(O,U){R=A(function(){O(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||S||(y=!0,z(j))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var H=p;p=U;try{return O()}finally{p=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var H=p;p=O;try{return U()}finally{p=H}},e.unstable_scheduleCallback=function(O,U,H){var K=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?K+H:K):H=K,O){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=H+q,O={id:h++,callback:U,priorityLevel:O,startTime:H,expirationTime:q,sortIndex:-1},H>K?(O.sortIndex=H,t(o,O),n(u)===null&&O===n(o)&&(T?(d(R),R=-1):T=!0,F(E,H-K))):(O.sortIndex=q,t(u,O),y||S||(y=!0,z(j))),O},e.unstable_shouldYield=b,e.unstable_wrapCallback=function(O){var U=p;return function(){var H=p;p=U;try{return O.apply(this,arguments)}finally{p=H}}}})(Xa);Qa.exports=Xa;var Td=Qa.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=W,De=Td;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Za=new Set,dr={};function an(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(dr[e]=t,e=0;e<t.length;e++)Za.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ml=Object.prototype.hasOwnProperty,Nd=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bi={},ki={};function bd(e){return Ml.call(ki,e)?!0:Ml.call(bi,e)?!1:Nd.test(e)?ki[e]=!0:(bi[e]=!0,!1)}function kd(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cd(e,t,n,r){if(t===null||typeof t>"u"||kd(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,n,r,s,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var Co=/[\-:]([a-z])/g;function jo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Co,jo);ye[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Co,jo);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Co,jo);ye[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mo(e,t,n,r){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cd(t,n,s,r)&&(n=null),r||s===null?bd(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tt=Rd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zr=Symbol.for("react.element"),fn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),Io=Symbol.for("react.strict_mode"),Il=Symbol.for("react.profiler"),Ja=Symbol.for("react.provider"),qa=Symbol.for("react.context"),Ao=Symbol.for("react.forward_ref"),Al=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Oo=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),ec=Symbol.for("react.offscreen"),Ci=Symbol.iterator;function Vn(e){return e===null||typeof e!="object"?null:(e=Ci&&e[Ci]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,sl;function Zn(e){if(sl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sl=t&&t[1]||""}return`
`+sl+e}var ll=!1;function ol(e,t){if(!e||ll)return"";ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var r=o}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){r=o}e.call(t.prototype)}else{try{throw Error()}catch(o){r=o}e()}}catch(o){if(o&&r&&typeof o.stack=="string"){for(var s=o.stack.split(`
`),l=r.stack.split(`
`),a=s.length-1,c=l.length-1;1<=a&&0<=c&&s[a]!==l[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==l[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==l[c]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=c);break}}}finally{ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zn(e):""}function jd(e){switch(e.tag){case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return e=ol(e.type,!1),e;case 11:return e=ol(e.type.render,!1),e;case 1:return e=ol(e.type,!0),e;default:return""}}function _l(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case fn:return"Portal";case Il:return"Profiler";case Io:return"StrictMode";case Al:return"Suspense";case Ol:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qa:return(e.displayName||"Context")+".Consumer";case Ja:return(e._context.displayName||"Context")+".Provider";case Ao:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Oo:return t=e.displayName||null,t!==null?t:_l(e.type)||"Memo";case bt:t=e._payload,e=e._init;try{return _l(e(t))}catch{}}return null}function Md(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _l(t);case 8:return t===Io?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Id(e){var t=tc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ur(e){e._valueTracker||(e._valueTracker=Id(e))}function nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pl(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ji(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rc(e,t){t=t.checked,t!=null&&Mo(e,"checked",t,!1)}function Ll(e,t){rc(e,t);var n=Dt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&zl(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mi(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zl(e,t,n){(t!=="number"||ds(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jn=Array.isArray;function Nn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ii(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Jn(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dt(n)}}function sc(e,t){var n=Dt(t.value),r=Dt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ai(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,oc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ad=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(e){Ad.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tr[t]=tr[e]})});function ic(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tr.hasOwnProperty(e)&&tr[e]?(""+t).trim():t+"px"}function ac(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ic(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Od=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bl(e,t){if(t){if(Od[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function _o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,bn=null,kn=null;function Oi(e){if(e=Ir(e)){if(typeof Vl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Ds(t),Vl(e.stateNode,e.type,t))}}function cc(e){bn?kn?kn.push(e):kn=[e]:bn=e}function uc(){if(bn){var e=bn,t=kn;if(kn=bn=null,Oi(e),t)for(e=0;e<t.length;e++)Oi(t[e])}}function dc(e,t){return e(t)}function fc(){}var il=!1;function hc(e,t,n){if(il)return e(t,n);il=!0;try{return dc(e,t,n)}finally{il=!1,(bn!==null||kn!==null)&&(fc(),uc())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ds(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Wl=!1;if(yt)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Wl=!1}function _d(e,t,n,r,s,l,a,c,u){var o=Array.prototype.slice.call(arguments,3);try{t.apply(n,o)}catch(h){this.onError(h)}}var nr=!1,fs=null,hs=!1,Gl=null,Pd={onError:function(e){nr=!0,fs=e}};function Ld(e,t,n,r,s,l,a,c,u){nr=!1,fs=null,_d.apply(Pd,arguments)}function zd(e,t,n,r,s,l,a,c,u){if(Ld.apply(this,arguments),nr){if(nr){var o=fs;nr=!1,fs=null}else throw Error(C(198));hs||(hs=!0,Gl=o)}}function cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _i(e){if(cn(e)!==e)throw Error(C(188))}function Ud(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return _i(s),e;if(l===r)return _i(s),t;l=l.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=l;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=l;break}if(c===r){a=!0,r=s,n=l;break}c=c.sibling}if(!a){for(c=l.child;c;){if(c===n){a=!0,n=l,r=s;break}if(c===r){a=!0,r=l,n=s;break}c=c.sibling}if(!a)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function mc(e){return e=Ud(e),e!==null?gc(e):null}function gc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gc(e);if(t!==null)return t;e=e.sibling}return null}var xc=De.unstable_scheduleCallback,Pi=De.unstable_cancelCallback,Hd=De.unstable_shouldYield,Bd=De.unstable_requestPaint,ue=De.unstable_now,Dd=De.unstable_getCurrentPriorityLevel,Po=De.unstable_ImmediatePriority,vc=De.unstable_UserBlockingPriority,ps=De.unstable_NormalPriority,Fd=De.unstable_LowPriority,yc=De.unstable_IdlePriority,zs=null,ct=null;function Vd(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(zs,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:$d,Wd=Math.log,Gd=Math.LN2;function $d(e){return e>>>=0,e===0?32:31-(Wd(e)/Gd|0)|0}var Br=64,Dr=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ms(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=qn(c):(l&=a,l!==0&&(r=qn(l)))}else a=n&~s,a!==0?r=qn(a):l!==0&&(r=qn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-rt(t),s=1<<n,r|=e[n],t&=~s;return r}function Yd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-rt(l),c=1<<a,u=s[a];u===-1?(!(c&n)||c&r)&&(s[a]=Yd(c,t)):u<=t&&(e.expiredLanes|=c),l&=~c}}function $l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wc(){var e=Br;return Br<<=1,!(Br&4194240)&&(Br=64),e}function al(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=n}function Qd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-rt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Lo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Q=0;function Sc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec,zo,Tc,Rc,Nc,Yl=!1,Fr=[],Ot=null,_t=null,Pt=null,pr=new Map,mr=new Map,jt=[],Xd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Li(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function Gn(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Ir(t),t!==null&&zo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Zd(e,t,n,r,s){switch(t){case"focusin":return Ot=Gn(Ot,e,t,n,r,s),!0;case"dragenter":return _t=Gn(_t,e,t,n,r,s),!0;case"mouseover":return Pt=Gn(Pt,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return pr.set(l,Gn(pr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,mr.set(l,Gn(mr.get(l)||null,e,t,n,r,s)),!0}return!1}function bc(e){var t=Zt(e.target);if(t!==null){var n=cn(t);if(n!==null){if(t=n.tag,t===13){if(t=pc(n),t!==null){e.blockedOn=t,Nc(e.priority,function(){Tc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return t=Ir(n),t!==null&&zo(t),e.blockedOn=n,!1;t.shift()}return!0}function zi(e,t,n){ts(e)&&n.delete(t)}function Jd(){Yl=!1,Ot!==null&&ts(Ot)&&(Ot=null),_t!==null&&ts(_t)&&(_t=null),Pt!==null&&ts(Pt)&&(Pt=null),pr.forEach(zi),mr.forEach(zi)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,Yl||(Yl=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,Jd)))}function gr(e){function t(s){return $n(s,e)}if(0<Fr.length){$n(Fr[0],e);for(var n=1;n<Fr.length;n++){var r=Fr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ot!==null&&$n(Ot,e),_t!==null&&$n(_t,e),Pt!==null&&$n(Pt,e),pr.forEach(t),mr.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)bc(n),n.blockedOn===null&&jt.shift()}var Cn=Tt.ReactCurrentBatchConfig,gs=!0;function qd(e,t,n,r){var s=Q,l=Cn.transition;Cn.transition=null;try{Q=1,Uo(e,t,n,r)}finally{Q=s,Cn.transition=l}}function e0(e,t,n,r){var s=Q,l=Cn.transition;Cn.transition=null;try{Q=4,Uo(e,t,n,r)}finally{Q=s,Cn.transition=l}}function Uo(e,t,n,r){if(gs){var s=Kl(e,t,n,r);if(s===null)vl(e,t,r,xs,n),Li(e,r);else if(Zd(s,e,t,n,r))r.stopPropagation();else if(Li(e,r),t&4&&-1<Xd.indexOf(e)){for(;s!==null;){var l=Ir(s);if(l!==null&&Ec(l),l=Kl(e,t,n,r),l===null&&vl(e,t,r,xs,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else vl(e,t,r,null,n)}}var xs=null;function Kl(e,t,n,r){if(xs=null,e=_o(r),e=Zt(e),e!==null)if(t=cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xs=e,null}function kc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dd()){case Po:return 1;case vc:return 4;case ps:case Fd:return 16;case yc:return 536870912;default:return 16}default:return 16}}var It=null,Ho=null,ns=null;function Cc(){if(ns)return ns;var e,t=Ho,n=t.length,r,s="value"in It?It.value:It.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[l-r];r++);return ns=s.slice(e,1<r?1-r:void 0)}function rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vr(){return!0}function Ui(){return!1}function Ve(e){function t(n,r,s,l,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Vr:Ui,this.isPropagationStopped=Ui,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=Ve(Bn),Mr=oe({},Bn,{view:0,detail:0}),t0=Ve(Mr),cl,ul,Yn,Us=oe({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(cl=e.screenX-Yn.screenX,ul=e.screenY-Yn.screenY):ul=cl=0,Yn=e),cl)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),Hi=Ve(Us),n0=oe({},Us,{dataTransfer:0}),r0=Ve(n0),s0=oe({},Mr,{relatedTarget:0}),dl=Ve(s0),l0=oe({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),o0=Ve(l0),i0=oe({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a0=Ve(i0),c0=oe({},Bn,{data:0}),Bi=Ve(c0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},f0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=f0[e])?!!t[e]:!1}function Do(){return h0}var p0=oe({},Mr,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m0=Ve(p0),g0=oe({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=Ve(g0),x0=oe({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),v0=Ve(x0),y0=oe({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),w0=Ve(y0),S0=oe({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),E0=Ve(S0),T0=[9,13,27,32],Fo=yt&&"CompositionEvent"in window,rr=null;yt&&"documentMode"in document&&(rr=document.documentMode);var R0=yt&&"TextEvent"in window&&!rr,jc=yt&&(!Fo||rr&&8<rr&&11>=rr),Fi=String.fromCharCode(32),Vi=!1;function Mc(e,t){switch(e){case"keyup":return T0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function N0(e,t){switch(e){case"compositionend":return Ic(t);case"keypress":return t.which!==32?null:(Vi=!0,Fi);case"textInput":return e=t.data,e===Fi&&Vi?null:e;default:return null}}function b0(e,t){if(pn)return e==="compositionend"||!Fo&&Mc(e,t)?(e=Cc(),ns=Ho=It=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jc&&t.locale!=="ko"?null:t.data;default:return null}}var k0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!k0[e.type]:t==="textarea"}function Ac(e,t,n,r){cc(r),t=vs(t,"onChange"),0<t.length&&(n=new Bo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var sr=null,xr=null;function C0(e){Vc(e,0)}function Hs(e){var t=xn(e);if(nc(t))return e}function j0(e,t){if(e==="change")return t}var Oc=!1;if(yt){var fl;if(yt){var hl="oninput"in document;if(!hl){var Gi=document.createElement("div");Gi.setAttribute("oninput","return;"),hl=typeof Gi.oninput=="function"}fl=hl}else fl=!1;Oc=fl&&(!document.documentMode||9<document.documentMode)}function $i(){sr&&(sr.detachEvent("onpropertychange",_c),xr=sr=null)}function _c(e){if(e.propertyName==="value"&&Hs(xr)){var t=[];Ac(t,xr,e,_o(e)),hc(C0,t)}}function M0(e,t,n){e==="focusin"?($i(),sr=t,xr=n,sr.attachEvent("onpropertychange",_c)):e==="focusout"&&$i()}function I0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(xr)}function A0(e,t){if(e==="click")return Hs(t)}function O0(e,t){if(e==="input"||e==="change")return Hs(t)}function _0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:_0;function vr(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ml.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function Yi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ki(e,t){var n=Yi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yi(n)}}function Pc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lc(){for(var e=window,t=ds();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ds(e.document)}return t}function Vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function P0(e){var t=Lc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pc(n.ownerDocument.documentElement,n)){if(r!==null&&Vo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Ki(n,l);var a=Ki(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L0=yt&&"documentMode"in document&&11>=document.documentMode,mn=null,Ql=null,lr=null,Xl=!1;function Qi(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||mn==null||mn!==ds(r)||(r=mn,"selectionStart"in r&&Vo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lr&&vr(lr,r)||(lr=r,r=vs(Ql,"onSelect"),0<r.length&&(t=new Bo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},pl={},zc={};yt&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function Bs(e){if(pl[e])return pl[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zc)return pl[e]=t[n];return e}var Uc=Bs("animationend"),Hc=Bs("animationiteration"),Bc=Bs("animationstart"),Dc=Bs("transitionend"),Fc=new Map,Xi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){Fc.set(e,t),an(t,[e])}for(var ml=0;ml<Xi.length;ml++){var gl=Xi[ml],z0=gl.toLowerCase(),U0=gl[0].toUpperCase()+gl.slice(1);Vt(z0,"on"+U0)}Vt(Uc,"onAnimationEnd");Vt(Hc,"onAnimationIteration");Vt(Bc,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(Dc,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("cancel close invalid load scroll toggle".split(" ").concat(er));function Zi(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zd(r,t,void 0,e),e.currentTarget=null}function Vc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,o=c.currentTarget;if(c=c.listener,u!==l&&s.isPropagationStopped())break e;Zi(s,c,o),l=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,o=c.currentTarget,c=c.listener,u!==l&&s.isPropagationStopped())break e;Zi(s,c,o),l=u}}}if(hs)throw e=Gl,hs=!1,Gl=null,e}function ee(e,t){var n=t[to];n===void 0&&(n=t[to]=new Set);var r=e+"__bubble";n.has(r)||(Wc(t,e,2,!1),n.add(r))}function xl(e,t,n){var r=0;t&&(r|=4),Wc(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function yr(e){if(!e[Gr]){e[Gr]=!0,Za.forEach(function(n){n!=="selectionchange"&&(H0.has(n)||xl(n,!1,e),xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,xl("selectionchange",!1,t))}}function Wc(e,t,n,r){switch(kc(t)){case 1:var s=qd;break;case 4:s=e0;break;default:s=Uo}n=s.bind(null,t,n,e),s=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function vl(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=Zt(c),a===null)return;if(u=a.tag,u===5||u===6){r=l=a;continue e}c=c.parentNode}}r=r.return}hc(function(){var o=l,h=_o(n),g=[];e:{var p=Fc.get(e);if(p!==void 0){var S=Bo,y=e;switch(e){case"keypress":if(rs(n)===0)break e;case"keydown":case"keyup":S=m0;break;case"focusin":y="focus",S=dl;break;case"focusout":y="blur",S=dl;break;case"beforeblur":case"afterblur":S=dl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Hi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=r0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=v0;break;case Uc:case Hc:case Bc:S=o0;break;case Dc:S=w0;break;case"scroll":S=t0;break;case"wheel":S=E0;break;case"copy":case"cut":case"paste":S=a0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=Di}var T=(t&4)!==0,A=!T&&e==="scroll",d=T?p!==null?p+"Capture":null:p;T=[];for(var f=o,m;f!==null;){m=f;var E=m.stateNode;if(m.tag===5&&E!==null&&(m=E,d!==null&&(E=hr(f,d),E!=null&&T.push(wr(f,E,m)))),A)break;f=f.return}0<T.length&&(p=new S(p,y,null,n,h),g.push({event:p,listeners:T}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",p&&n!==Fl&&(y=n.relatedTarget||n.fromElement)&&(Zt(y)||y[wt]))break e;if((S||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,S?(y=n.relatedTarget||n.toElement,S=o,y=y?Zt(y):null,y!==null&&(A=cn(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(S=null,y=o),S!==y)){if(T=Hi,E="onMouseLeave",d="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(T=Di,E="onPointerLeave",d="onPointerEnter",f="pointer"),A=S==null?p:xn(S),m=y==null?p:xn(y),p=new T(E,f+"leave",S,n,h),p.target=A,p.relatedTarget=m,E=null,Zt(h)===o&&(T=new T(d,f+"enter",y,n,h),T.target=m,T.relatedTarget=A,E=T),A=E,S&&y)t:{for(T=S,d=y,f=0,m=T;m;m=dn(m))f++;for(m=0,E=d;E;E=dn(E))m++;for(;0<f-m;)T=dn(T),f--;for(;0<m-f;)d=dn(d),m--;for(;f--;){if(T===d||d!==null&&T===d.alternate)break t;T=dn(T),d=dn(d)}T=null}else T=null;S!==null&&Ji(g,p,S,T,!1),y!==null&&A!==null&&Ji(g,A,y,T,!0)}}e:{if(p=o?xn(o):window,S=p.nodeName&&p.nodeName.toLowerCase(),S==="select"||S==="input"&&p.type==="file")var j=j0;else if(Wi(p))if(Oc)j=O0;else{j=I0;var M=M0}else(S=p.nodeName)&&S.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=A0);if(j&&(j=j(e,o))){Ac(g,j,n,h);break e}M&&M(e,p,o),e==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&zl(p,"number",p.value)}switch(M=o?xn(o):window,e){case"focusin":(Wi(M)||M.contentEditable==="true")&&(mn=M,Ql=o,lr=null);break;case"focusout":lr=Ql=mn=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,Qi(g,n,h);break;case"selectionchange":if(L0)break;case"keydown":case"keyup":Qi(g,n,h)}var w;if(Fo)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pn?Mc(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(jc&&n.locale!=="ko"&&(pn||R!=="onCompositionStart"?R==="onCompositionEnd"&&pn&&(w=Cc()):(It=h,Ho="value"in It?It.value:It.textContent,pn=!0)),M=vs(o,R),0<M.length&&(R=new Bi(R,e,null,n,h),g.push({event:R,listeners:M}),w?R.data=w:(w=Ic(n),w!==null&&(R.data=w)))),(w=R0?N0(e,n):b0(e,n))&&(o=vs(o,"onBeforeInput"),0<o.length&&(h=new Bi("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:o}),h.data=w))}Vc(g,t)})}function wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=hr(e,n),l!=null&&r.unshift(wr(e,l,s)),l=hr(e,t),l!=null&&r.push(wr(e,l,s))),e=e.return}return r}function dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ji(e,t,n,r,s){for(var l=t._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,o=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&o!==null&&(c=o,s?(u=hr(n,l),u!=null&&a.unshift(wr(n,u,c))):s||(u=hr(n,l),u!=null&&a.push(wr(n,u,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var B0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function qi(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace(D0,"")}function $r(e,t,n){if(t=qi(t),qi(e)!==t&&n)throw Error(C(425))}function ys(){}var Zl=null,Jl=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eo=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,ea=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof ea<"u"?function(e){return ea.resolve(null).then(e).catch(W0)}:eo;function W0(e){setTimeout(function(){throw e})}function yl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),gr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);gr(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ta(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),at="__reactFiber$"+Dn,Sr="__reactProps$"+Dn,wt="__reactContainer$"+Dn,to="__reactEvents$"+Dn,G0="__reactListeners$"+Dn,$0="__reactHandles$"+Dn;function Zt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[wt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ta(e);e!==null;){if(n=e[at])return n;e=ta(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[at]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Ds(e){return e[Sr]||null}var no=[],vn=-1;function Wt(e){return{current:e}}function te(e){0>vn||(e.current=no[vn],no[vn]=null,vn--)}function Z(e,t){vn++,no[vn]=e.current,e.current=t}var Ft={},Te=Wt(Ft),Ie=Wt(!1),nn=Ft;function On(e,t){var n=e.type.contextTypes;if(!n)return Ft;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ae(e){return e=e.childContextTypes,e!=null}function ws(){te(Ie),te(Te)}function na(e,t,n){if(Te.current!==Ft)throw Error(C(168));Z(Te,t),Z(Ie,n)}function Gc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,Md(e)||"Unknown",s));return oe({},n,r)}function Ss(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ft,nn=Te.current,Z(Te,e),Z(Ie,Ie.current),!0}function ra(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=Gc(e,t,nn),r.__reactInternalMemoizedMergedChildContext=e,te(Ie),te(Te),Z(Te,e)):te(Ie),Z(Ie,n)}var mt=null,Fs=!1,wl=!1;function $c(e){mt===null?mt=[e]:mt.push(e)}function Y0(e){Fs=!0,$c(e)}function Gt(){if(!wl&&mt!==null){wl=!0;var e=0,t=Q;try{var n=mt;for(Q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mt=null,Fs=!1}catch(s){throw mt!==null&&(mt=mt.slice(e+1)),xc(Po,Gt),s}finally{Q=t,wl=!1}}return null}var yn=[],wn=0,Es=null,Ts=0,We=[],Ge=0,rn=null,gt=1,xt="";function Yt(e,t){yn[wn++]=Ts,yn[wn++]=Es,Es=e,Ts=t}function Yc(e,t,n){We[Ge++]=gt,We[Ge++]=xt,We[Ge++]=rn,rn=e;var r=gt;e=xt;var s=32-rt(r)-1;r&=~(1<<s),n+=1;var l=32-rt(t)+s;if(30<l){var a=s-s%5;l=(r&(1<<a)-1).toString(32),r>>=a,s-=a,gt=1<<32-rt(t)+s|n<<s|r,xt=l+e}else gt=1<<l|n<<s|r,xt=e}function Wo(e){e.return!==null&&(Yt(e,1),Yc(e,1,0))}function Go(e){for(;e===Es;)Es=yn[--wn],yn[wn]=null,Ts=yn[--wn],yn[wn]=null;for(;e===rn;)rn=We[--Ge],We[Ge]=null,xt=We[--Ge],We[Ge]=null,gt=We[--Ge],We[Ge]=null}var Be=null,He=null,ne=!1,nt=null;function Kc(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,He=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:gt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Be=e,He=null,!0):!1;default:return!1}}function ro(e){return(e.mode&1)!==0&&(e.flags&128)===0}function so(e){if(ne){var t=He;if(t){var n=t;if(!sa(e,t)){if(ro(e))throw Error(C(418));t=Lt(n.nextSibling);var r=Be;t&&sa(e,t)?Kc(r,n):(e.flags=e.flags&-4097|2,ne=!1,Be=e)}}else{if(ro(e))throw Error(C(418));e.flags=e.flags&-4097|2,ne=!1,Be=e}}}function la(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Yr(e){if(e!==Be)return!1;if(!ne)return la(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=He)){if(ro(e))throw Qc(),Error(C(418));for(;t;)Kc(e,t),t=Lt(t.nextSibling)}if(la(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Lt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=Be?Lt(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=He;e;)e=Lt(e.nextSibling)}function _n(){He=Be=null,ne=!1}function $o(e){nt===null?nt=[e]:nt.push(e)}var K0=Tt.ReactCurrentBatchConfig;function Kn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var c=s.refs;a===null?delete c[l]:c[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Kr(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function oa(e){var t=e._init;return t(e._payload)}function Xc(e){function t(d,f){if(e){var m=d.deletions;m===null?(d.deletions=[f],d.flags|=16):m.push(f)}}function n(d,f){if(!e)return null;for(;f!==null;)t(d,f),f=f.sibling;return null}function r(d,f){for(d=new Map;f!==null;)f.key!==null?d.set(f.key,f):d.set(f.index,f),f=f.sibling;return d}function s(d,f){return d=Bt(d,f),d.index=0,d.sibling=null,d}function l(d,f,m){return d.index=m,e?(m=d.alternate,m!==null?(m=m.index,m<f?(d.flags|=2,f):m):(d.flags|=2,f)):(d.flags|=1048576,f)}function a(d){return e&&d.alternate===null&&(d.flags|=2),d}function c(d,f,m,E){return f===null||f.tag!==6?(f=kl(m,d.mode,E),f.return=d,f):(f=s(f,m),f.return=d,f)}function u(d,f,m,E){var j=m.type;return j===hn?h(d,f,m.props.children,E,m.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bt&&oa(j)===f.type)?(E=s(f,m.props),E.ref=Kn(d,f,m),E.return=d,E):(E=us(m.type,m.key,m.props,null,d.mode,E),E.ref=Kn(d,f,m),E.return=d,E)}function o(d,f,m,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Cl(m,d.mode,E),f.return=d,f):(f=s(f,m.children||[]),f.return=d,f)}function h(d,f,m,E,j){return f===null||f.tag!==7?(f=tn(m,d.mode,E,j),f.return=d,f):(f=s(f,m),f.return=d,f)}function g(d,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=kl(""+f,d.mode,m),f.return=d,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case zr:return m=us(f.type,f.key,f.props,null,d.mode,m),m.ref=Kn(d,null,f),m.return=d,m;case fn:return f=Cl(f,d.mode,m),f.return=d,f;case bt:var E=f._init;return g(d,E(f._payload),m)}if(Jn(f)||Vn(f))return f=tn(f,d.mode,m,null),f.return=d,f;Kr(d,f)}return null}function p(d,f,m,E){var j=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:c(d,f,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zr:return m.key===j?u(d,f,m,E):null;case fn:return m.key===j?o(d,f,m,E):null;case bt:return j=m._init,p(d,f,j(m._payload),E)}if(Jn(m)||Vn(m))return j!==null?null:h(d,f,m,E,null);Kr(d,m)}return null}function S(d,f,m,E,j){if(typeof E=="string"&&E!==""||typeof E=="number")return d=d.get(m)||null,c(f,d,""+E,j);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zr:return d=d.get(E.key===null?m:E.key)||null,u(f,d,E,j);case fn:return d=d.get(E.key===null?m:E.key)||null,o(f,d,E,j);case bt:var M=E._init;return S(d,f,m,M(E._payload),j)}if(Jn(E)||Vn(E))return d=d.get(m)||null,h(f,d,E,j,null);Kr(f,E)}return null}function y(d,f,m,E){for(var j=null,M=null,w=f,R=f=0,N=null;w!==null&&R<m.length;R++){w.index>R?(N=w,w=null):N=w.sibling;var I=p(d,w,m[R],E);if(I===null){w===null&&(w=N);break}e&&w&&I.alternate===null&&t(d,w),f=l(I,f,R),M===null?j=I:M.sibling=I,M=I,w=N}if(R===m.length)return n(d,w),ne&&Yt(d,R),j;if(w===null){for(;R<m.length;R++)w=g(d,m[R],E),w!==null&&(f=l(w,f,R),M===null?j=w:M.sibling=w,M=w);return ne&&Yt(d,R),j}for(w=r(d,w);R<m.length;R++)N=S(w,d,R,m[R],E),N!==null&&(e&&N.alternate!==null&&w.delete(N.key===null?R:N.key),f=l(N,f,R),M===null?j=N:M.sibling=N,M=N);return e&&w.forEach(function(b){return t(d,b)}),ne&&Yt(d,R),j}function T(d,f,m,E){var j=Vn(m);if(typeof j!="function")throw Error(C(150));if(m=j.call(m),m==null)throw Error(C(151));for(var M=j=null,w=f,R=f=0,N=null,I=m.next();w!==null&&!I.done;R++,I=m.next()){w.index>R?(N=w,w=null):N=w.sibling;var b=p(d,w,I.value,E);if(b===null){w===null&&(w=N);break}e&&w&&b.alternate===null&&t(d,w),f=l(b,f,R),M===null?j=b:M.sibling=b,M=b,w=N}if(I.done)return n(d,w),ne&&Yt(d,R),j;if(w===null){for(;!I.done;R++,I=m.next())I=g(d,I.value,E),I!==null&&(f=l(I,f,R),M===null?j=I:M.sibling=I,M=I);return ne&&Yt(d,R),j}for(w=r(d,w);!I.done;R++,I=m.next())I=S(w,d,R,I.value,E),I!==null&&(e&&I.alternate!==null&&w.delete(I.key===null?R:I.key),f=l(I,f,R),M===null?j=I:M.sibling=I,M=I);return e&&w.forEach(function(G){return t(d,G)}),ne&&Yt(d,R),j}function A(d,f,m,E){if(typeof m=="object"&&m!==null&&m.type===hn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zr:e:{for(var j=m.key,M=f;M!==null;){if(M.key===j){if(j=m.type,j===hn){if(M.tag===7){n(d,M.sibling),f=s(M,m.props.children),f.return=d,d=f;break e}}else if(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bt&&oa(j)===M.type){n(d,M.sibling),f=s(M,m.props),f.ref=Kn(d,M,m),f.return=d,d=f;break e}n(d,M);break}else t(d,M);M=M.sibling}m.type===hn?(f=tn(m.props.children,d.mode,E,m.key),f.return=d,d=f):(E=us(m.type,m.key,m.props,null,d.mode,E),E.ref=Kn(d,f,m),E.return=d,d=E)}return a(d);case fn:e:{for(M=m.key;f!==null;){if(f.key===M)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(d,f.sibling),f=s(f,m.children||[]),f.return=d,d=f;break e}else{n(d,f);break}else t(d,f);f=f.sibling}f=Cl(m,d.mode,E),f.return=d,d=f}return a(d);case bt:return M=m._init,A(d,f,M(m._payload),E)}if(Jn(m))return y(d,f,m,E);if(Vn(m))return T(d,f,m,E);Kr(d,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(d,f.sibling),f=s(f,m),f.return=d,d=f):(n(d,f),f=kl(m,d.mode,E),f.return=d,d=f),a(d)):n(d,f)}return A}var Pn=Xc(!0),Zc=Xc(!1),Rs=Wt(null),Ns=null,Sn=null,Yo=null;function Ko(){Yo=Sn=Ns=null}function Qo(e){var t=Rs.current;te(Rs),e._currentValue=t}function lo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function jn(e,t){Ns=e,Yo=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(Yo!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Ns===null)throw Error(C(308));Sn=e,Ns.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Jt=null;function Xo(e){Jt===null?Jt=[e]:Jt.push(e)}function Jc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xo(t)):(n.next=s.next,s.next=n),t.interleaved=n,St(e,r)}function St(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kt=!1;function Zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,$&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,St(e,n)}return s=r.interleaved,s===null?(t.next=t,Xo(r)):(t.next=s.next,s.next=t),r.interleaved=t,St(e,n)}function ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lo(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function bs(e,t,n,r){var s=e.updateQueue;kt=!1;var l=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,o=u.next;u.next=null,a===null?l=o:a.next=o,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==a&&(c===null?h.firstBaseUpdate=o:c.next=o,h.lastBaseUpdate=u))}if(l!==null){var g=s.baseState;a=0,h=o=u=null,c=l;do{var p=c.lane,S=c.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:S,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,T=c;switch(p=t,S=n,T.tag){case 1:if(y=T.payload,typeof y=="function"){g=y.call(S,g,p);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=T.payload,p=typeof y=="function"?y.call(S,g,p):y,p==null)break e;g=oe({},g,p);break e;case 2:kt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[c]:p.push(c))}else S={eventTime:S,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(o=h=S,u=g):h=h.next=S,a|=p;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;p=c,c=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(1);if(h===null&&(u=g),s.baseState=u,s.firstBaseUpdate=o,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);ln|=a,e.lanes=a,e.memoizedState=g}}function aa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var Ar={},ut=Wt(Ar),Er=Wt(Ar),Tr=Wt(Ar);function qt(e){if(e===Ar)throw Error(C(174));return e}function Jo(e,t){switch(Z(Tr,t),Z(Er,e),Z(ut,Ar),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Hl(t,e)}te(ut),Z(ut,t)}function Ln(){te(ut),te(Er),te(Tr)}function eu(e){qt(Tr.current);var t=qt(ut.current),n=Hl(t,e.type);t!==n&&(Z(Er,e),Z(ut,n))}function qo(e){Er.current===e&&(te(ut),te(Er))}var se=Wt(0);function ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sl=[];function ei(){for(var e=0;e<Sl.length;e++)Sl[e]._workInProgressVersionPrimary=null;Sl.length=0}var ls=Tt.ReactCurrentDispatcher,El=Tt.ReactCurrentBatchConfig,sn=0,le=null,fe=null,me=null,Cs=!1,or=!1,Rr=0,Q0=0;function we(){throw Error(C(321))}function ti(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function ni(e,t,n,r,s,l){if(sn=l,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ls.current=e===null||e.memoizedState===null?q0:ef,e=n(r,s),or){l=0;do{if(or=!1,Rr=0,25<=l)throw Error(C(301));l+=1,me=fe=null,t.updateQueue=null,ls.current=tf,e=n(r,s)}while(or)}if(ls.current=js,t=fe!==null&&fe.next!==null,sn=0,me=fe=le=null,Cs=!1,t)throw Error(C(300));return e}function ri(){var e=Rr!==0;return Rr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?le.memoizedState=me=e:me=me.next=e,me}function Qe(){if(fe===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?le.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(C(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?le.memoizedState=me=e:me=me.next=e}return me}function Nr(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=Qe(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=fe,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var a=s.next;s.next=l.next,l.next=a}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var c=a=null,u=null,o=l;do{var h=o.lane;if((sn&h)===h)u!==null&&(u=u.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),r=o.hasEagerState?o.eagerState:e(r,o.action);else{var g={lane:h,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};u===null?(c=u=g,a=r):u=u.next=g,le.lanes|=h,ln|=h}o=o.next}while(o!==null&&o!==l);u===null?a=r:u.next=c,lt(r,t.memoizedState)||(Me=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,le.lanes|=l,ln|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rl(e){var t=Qe(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do l=e(l,a.action),a=a.next;while(a!==s);lt(l,t.memoizedState)||(Me=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function tu(){}function nu(e,t){var n=le,r=Qe(),s=t(),l=!lt(r.memoizedState,s);if(l&&(r.memoizedState=s,Me=!0),r=r.queue,si(lu.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,br(9,su.bind(null,n,r,s,t),void 0,null),ge===null)throw Error(C(349));sn&30||ru(n,t,s)}return s}function ru(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function su(e,t,n,r){t.value=n,t.getSnapshot=r,ou(t)&&iu(e)}function lu(e,t,n){return n(function(){ou(t)&&iu(e)})}function ou(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function iu(e){var t=St(e,1);t!==null&&st(t,e,1,-1)}function ca(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=J0.bind(null,le,e),[t.memoizedState,e]}function br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=le.updateQueue,t===null?(t={lastEffect:null,stores:null},le.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function au(){return Qe().memoizedState}function os(e,t,n,r){var s=it();le.flags|=e,s.memoizedState=br(1|t,n,void 0,r===void 0?null:r)}function Vs(e,t,n,r){var s=Qe();r=r===void 0?null:r;var l=void 0;if(fe!==null){var a=fe.memoizedState;if(l=a.destroy,r!==null&&ti(r,a.deps)){s.memoizedState=br(t,n,l,r);return}}le.flags|=e,s.memoizedState=br(1|t,n,l,r)}function ua(e,t){return os(8390656,8,e,t)}function si(e,t){return Vs(2048,8,e,t)}function cu(e,t){return Vs(4,2,e,t)}function uu(e,t){return Vs(4,4,e,t)}function du(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fu(e,t,n){return n=n!=null?n.concat([e]):null,Vs(4,4,du.bind(null,t,e),n)}function li(){}function hu(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pu(e,t){var n=Qe();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ti(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mu(e,t,n){return sn&21?(lt(n,t)||(n=wc(),le.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=n)}function X0(e,t){var n=Q;Q=n!==0&&4>n?n:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{Q=n,El.transition=r}}function gu(){return Qe().memoizedState}function Z0(e,t,n){var r=Ht(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xu(e))vu(t,n);else if(n=Jc(e,t,n,r),n!==null){var s=be();st(n,e,r,s),yu(n,t,r)}}function J0(e,t,n){var r=Ht(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xu(e))vu(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,c=l(a,n);if(s.hasEagerState=!0,s.eagerState=c,lt(c,a)){var u=t.interleaved;u===null?(s.next=s,Xo(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Jc(e,t,s,r),n!==null&&(s=be(),st(n,e,r,s),yu(n,t,r))}}function xu(e){var t=e.alternate;return e===le||t!==null&&t===le}function vu(e,t){or=Cs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lo(e,n)}}var js={readContext:Ke,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},q0={readContext:Ke,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:ua,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,os(4194308,4,du.bind(null,t,e),n)},useLayoutEffect:function(e,t){return os(4194308,4,e,t)},useInsertionEffect:function(e,t){return os(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Z0.bind(null,le,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:ca,useDebugValue:li,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=ca(!1),t=e[0];return e=X0.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=le,s=it();if(ne){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ge===null)throw Error(C(349));sn&30||ru(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,ua(lu.bind(null,r,l,e),[e]),r.flags|=2048,br(9,su.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=it(),t=ge.identifierPrefix;if(ne){var n=xt,r=gt;n=(r&~(1<<32-rt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Q0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ef={readContext:Ke,useCallback:hu,useContext:Ke,useEffect:si,useImperativeHandle:fu,useInsertionEffect:cu,useLayoutEffect:uu,useMemo:pu,useReducer:Tl,useRef:au,useState:function(){return Tl(Nr)},useDebugValue:li,useDeferredValue:function(e){var t=Qe();return mu(t,fe.memoizedState,e)},useTransition:function(){var e=Tl(Nr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:tu,useSyncExternalStore:nu,useId:gu,unstable_isNewReconciler:!1},tf={readContext:Ke,useCallback:hu,useContext:Ke,useEffect:si,useImperativeHandle:fu,useInsertionEffect:cu,useLayoutEffect:uu,useMemo:pu,useReducer:Rl,useRef:au,useState:function(){return Rl(Nr)},useDebugValue:li,useDeferredValue:function(e){var t=Qe();return fe===null?t.memoizedState=e:mu(t,fe.memoizedState,e)},useTransition:function(){var e=Rl(Nr)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:tu,useSyncExternalStore:nu,useId:gu,unstable_isNewReconciler:!1};function qe(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function oo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ws={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),s=Ht(e),l=vt(r,s);l.payload=t,n!=null&&(l.callback=n),t=zt(e,l,s),t!==null&&(st(t,e,s,r),ss(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),s=Ht(e),l=vt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=zt(e,l,s),t!==null&&(st(t,e,s,r),ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=Ht(e),s=vt(n,r);s.tag=2,t!=null&&(s.callback=t),t=zt(e,s,r),t!==null&&(st(t,e,r,n),ss(t,e,r))}};function da(e,t,n,r,s,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!vr(n,r)||!vr(s,l):!0}function wu(e,t,n){var r=!1,s=Ft,l=t.contextType;return typeof l=="object"&&l!==null?l=Ke(l):(s=Ae(t)?nn:Te.current,r=t.contextTypes,l=(r=r!=null)?On(e,s):Ft),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ws,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function fa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ws.enqueueReplaceState(t,t.state,null)}function io(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Zo(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Ke(l):(l=Ae(t)?nn:Te.current,s.context=On(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(oo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ws.enqueueReplaceState(s,s.state,null),bs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,t){try{var n="",r=t;do n+=jd(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Nl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ao(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nf=typeof WeakMap=="function"?WeakMap:Map;function Su(e,t,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Is||(Is=!0,yo=r),ao(e,t)},n}function Eu(e,t,n){n=vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ao(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){ao(e,t),typeof r!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ha(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new nf;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=xf.bind(null,e,t,n),t.then(e,e))}function pa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ma(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=vt(-1,1),t.tag=2,zt(n,t,1))),n.lanes|=1),e)}var rf=Tt.ReactCurrentOwner,Me=!1;function Ne(e,t,n,r){t.child=e===null?Zc(t,null,n,r):Pn(t,e.child,n,r)}function ga(e,t,n,r,s){n=n.render;var l=t.ref;return jn(t,s),r=ni(e,t,n,r,l,s),n=ri(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ne&&n&&Wo(t),t.flags|=1,Ne(e,t,r,s),t.child)}function xa(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!hi(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Tu(e,t,l,r,s)):(e=us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:vr,n(a,r)&&e.ref===t.ref)return Et(e,t,s)}return t.flags|=1,e=Bt(l,r),e.ref=t.ref,e.return=t,t.child=e}function Tu(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(vr(l,r)&&e.ref===t.ref)if(Me=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,Et(e,t,s)}return co(e,t,n,r,s)}function Ru(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Tn,Ue),Ue|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Tn,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,Z(Tn,Ue),Ue|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,Z(Tn,Ue),Ue|=r;return Ne(e,t,s,n),t.child}function Nu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function co(e,t,n,r,s){var l=Ae(n)?nn:Te.current;return l=On(t,l),jn(t,s),n=ni(e,t,n,r,l,s),r=ri(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Et(e,t,s)):(ne&&r&&Wo(t),t.flags|=1,Ne(e,t,n,s),t.child)}function va(e,t,n,r,s){if(Ae(n)){var l=!0;Ss(t)}else l=!1;if(jn(t,s),t.stateNode===null)is(e,t),wu(t,n,r),io(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var u=a.context,o=n.contextType;typeof o=="object"&&o!==null?o=Ke(o):(o=Ae(n)?nn:Te.current,o=On(t,o));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==o)&&fa(t,a,r,o),kt=!1;var p=t.memoizedState;a.state=p,bs(t,r,a,s),u=t.memoizedState,c!==r||p!==u||Ie.current||kt?(typeof h=="function"&&(oo(t,n,h,r),u=t.memoizedState),(c=kt||da(t,n,c,r,p,u,o))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=o,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qc(e,t),c=t.memoizedProps,o=t.type===t.elementType?c:qe(t.type,c),a.props=o,g=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Ke(u):(u=Ae(n)?nn:Te.current,u=On(t,u));var S=n.getDerivedStateFromProps;(h=typeof S=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||p!==u)&&fa(t,a,r,u),kt=!1,p=t.memoizedState,a.state=p,bs(t,r,a,s);var y=t.memoizedState;c!==g||p!==y||Ie.current||kt?(typeof S=="function"&&(oo(t,n,S,r),y=t.memoizedState),(o=kt||da(t,n,o,r,p,y,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=u,r=o):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return uo(e,t,n,r,l,s)}function uo(e,t,n,r,s,l){Nu(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&ra(t,n,!1),Et(e,t,l);r=t.stateNode,rf.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Pn(t,e.child,null,l),t.child=Pn(t,null,c,l)):Ne(e,t,c,l),t.memoizedState=r.state,s&&ra(t,n,!0),t.child}function bu(e){var t=e.stateNode;t.pendingContext?na(e,t.pendingContext,t.pendingContext!==t.context):t.context&&na(e,t.context,!1),Jo(e,t.containerInfo)}function ya(e,t,n,r,s){return _n(),$o(s),t.flags|=256,Ne(e,t,n,r),t.child}var fo={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function ku(e,t,n){var r=t.pendingProps,s=se.current,l=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(se,s&1),e===null)return so(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Ys(a,r,0,null),e=tn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ho(n),t.memoizedState=fo,e):oi(t,a));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return sf(e,t,a,r,c,s,n);if(l){l=r.fallback,a=t.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Bt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=Bt(c,l):(l=tn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?ho(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=fo,r}return l=e.child,e=l.sibling,r=Bt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function oi(e,t){return t=Ys({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qr(e,t,n,r){return r!==null&&$o(r),Pn(t,e.child,null,n),e=oi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sf(e,t,n,r,s,l,a){if(n)return t.flags&256?(t.flags&=-257,r=Nl(Error(C(422))),Qr(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=Ys({mode:"visible",children:r.children},s,0,null),l=tn(l,s,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Pn(t,e.child,null,a),t.child.memoizedState=ho(a),t.memoizedState=fo,l);if(!(t.mode&1))return Qr(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(C(419)),r=Nl(l,r,void 0),Qr(e,t,a,r)}if(c=(a&e.childLanes)!==0,Me||c){if(r=ge,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,St(e,s),st(r,e,s,-1))}return fi(),r=Nl(Error(C(421))),Qr(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vf.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,He=Lt(s.nextSibling),Be=t,ne=!0,nt=null,e!==null&&(We[Ge++]=gt,We[Ge++]=xt,We[Ge++]=rn,gt=e.id,xt=e.overflow,rn=t),t=oi(t,r.children),t.flags|=4096,t)}function wa(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),lo(e.return,t,n)}function bl(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Cu(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Ne(e,t,r.children,n),r=se.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wa(e,n,t);else if(e.tag===19)wa(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(se,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ks(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bl(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ks(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bl(t,!0,n,null,l);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function is(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Et(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Bt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lf(e,t,n){switch(t.tag){case 3:bu(t),_n();break;case 5:eu(t);break;case 1:Ae(t.type)&&Ss(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(Rs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(se,se.current&1),t.flags|=128,null):n&t.child.childLanes?ku(e,t,n):(Z(se,se.current&1),e=Et(e,t,n),e!==null?e.sibling:null);Z(se,se.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Cu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(se,se.current),r)break;return null;case 22:case 23:return t.lanes=0,Ru(e,t,n)}return Et(e,t,n)}var ju,po,Mu,Iu;ju=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};po=function(){};Mu=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qt(ut.current);var l=null;switch(n){case"input":s=Pl(e,s),r=Pl(e,r),l=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),l=[];break;case"textarea":s=Ul(e,s),r=Ul(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ys)}Bl(n,r);var a;n=null;for(o in s)if(!r.hasOwnProperty(o)&&s.hasOwnProperty(o)&&s[o]!=null)if(o==="style"){var c=s[o];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dr.hasOwnProperty(o)?l||(l=[]):(l=l||[]).push(o,null));for(o in r){var u=r[o];if(c=s!=null?s[o]:void 0,r.hasOwnProperty(o)&&u!==c&&(u!=null||c!=null))if(o==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(l||(l=[]),l.push(o,n)),n=u;else o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(l=l||[]).push(o,u)):o==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(o,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(dr.hasOwnProperty(o)?(u!=null&&o==="onScroll"&&ee("scroll",e),l||c===u||(l=[])):(l=l||[]).push(o,u))}n&&(l=l||[]).push("style",n);var o=l;(t.updateQueue=o)&&(t.flags|=4)}};Iu=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qn(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function of(e,t,n){var r=t.pendingProps;switch(Go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ae(t.type)&&ws(),Se(t),null;case 3:return r=t.stateNode,Ln(),te(Ie),te(Te),ei(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(Eo(nt),nt=null))),po(e,t),Se(t),null;case 5:qo(t);var s=qt(Tr.current);if(n=t.type,e!==null&&t.stateNode!=null)Mu(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Se(t),null}if(e=qt(ut.current),Yr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[at]=t,r[Sr]=l,e=(t.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<er.length;s++)ee(er[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":ji(r,l),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ee("invalid",r);break;case"textarea":Ii(r,l),ee("invalid",r)}Bl(n,l),s=null;for(var a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&$r(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&$r(r.textContent,c,e),s=["children",""+c]):dr.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&ee("scroll",r)}switch(n){case"input":Ur(r),Mi(r,l,!0);break;case"textarea":Ur(r),Ai(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ys)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[at]=t,e[Sr]=r,ju(e,t,!1,!1),t.stateNode=e;e:{switch(a=Dl(n,r),n){case"dialog":ee("cancel",e),ee("close",e),s=r;break;case"iframe":case"object":case"embed":ee("load",e),s=r;break;case"video":case"audio":for(s=0;s<er.length;s++)ee(er[s],e);s=r;break;case"source":ee("error",e),s=r;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=r;break;case"details":ee("toggle",e),s=r;break;case"input":ji(e,r),s=Pl(e,r),ee("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),ee("invalid",e);break;case"textarea":Ii(e,r),s=Ul(e,r),ee("invalid",e);break;default:s=r}Bl(n,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var u=c[l];l==="style"?ac(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&oc(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&fr(e,u):typeof u=="number"&&fr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(dr.hasOwnProperty(l)?u!=null&&l==="onScroll"&&ee("scroll",e):u!=null&&Mo(e,l,u,a))}switch(n){case"input":Ur(e),Mi(e,r,!1);break;case"textarea":Ur(e),Ai(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dt(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Nn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Nn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Iu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=qt(Tr.current),qt(ut.current),Yr(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(l=r.nodeValue!==n)&&(e=Be,e!==null))switch(e.tag){case 3:$r(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$r(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return Se(t),null;case 13:if(te(se),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&He!==null&&t.mode&1&&!(t.flags&128))Qc(),_n(),t.flags|=98560,l=!1;else if(l=Yr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(C(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(C(317));l[at]=t}else _n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),l=!1}else nt!==null&&(Eo(nt),nt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||se.current&1?he===0&&(he=3):fi())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Ln(),po(e,t),e===null&&yr(t.stateNode.containerInfo),Se(t),null;case 10:return Qo(t.type._context),Se(t),null;case 17:return Ae(t.type)&&ws(),Se(t),null;case 19:if(te(se),l=t.memoizedState,l===null)return Se(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)Qn(l,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ks(e),a!==null){for(t.flags|=128,Qn(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(se,se.current&1|2),t.child}e=e.sibling}l.tail!==null&&ue()>Un&&(t.flags|=128,r=!0,Qn(l,!1),t.lanes=4194304)}else{if(!r)if(e=ks(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!ne)return Se(t),null}else 2*ue()-l.renderingStartTime>Un&&n!==1073741824&&(t.flags|=128,r=!0,Qn(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ue(),t.sibling=null,n=se.current,Z(se,r?n&1|2:n&1),t):(Se(t),null);case 22:case 23:return di(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function af(e,t){switch(Go(t),t.tag){case 1:return Ae(t.type)&&ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(),te(Ie),te(Te),ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qo(t),null;case 13:if(te(se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(se),null;case 4:return Ln(),null;case 10:return Qo(t.type._context),null;case 22:case 23:return di(),null;case 24:return null;default:return null}}var Xr=!1,Ee=!1,cf=typeof WeakSet=="function"?WeakSet:Set,P=null;function En(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ie(e,t,r)}else n.current=null}function mo(e,t,n){try{n()}catch(r){ie(e,t,r)}}var Sa=!1;function uf(e,t){if(Zl=gs,e=Lc(),Vo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,o=0,h=0,g=e,p=null;t:for(;;){for(var S;g!==n||s!==0&&g.nodeType!==3||(c=a+s),g!==l||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(S=g.firstChild)!==null;)p=g,g=S;for(;;){if(g===e)break t;if(p===n&&++o===s&&(c=a),p===l&&++h===r&&(u=a),(S=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=S}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jl={focusedElem:e,selectionRange:n},gs=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var T=y.memoizedProps,A=y.memoizedState,d=t.stateNode,f=d.getSnapshotBeforeUpdate(t.elementType===t.type?T:qe(t.type,T),A);d.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(E){ie(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=Sa,Sa=!1,y}function ir(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&mo(t,n,l)}s=s.next}while(s!==r)}}function Gs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function go(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Au(e){var t=e.alternate;t!==null&&(e.alternate=null,Au(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Sr],delete t[to],delete t[G0],delete t[$0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ou(e){return e.tag===5||e.tag===3||e.tag===4}function Ea(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ys));else if(r!==4&&(e=e.child,e!==null))for(xo(e,t,n),e=e.sibling;e!==null;)xo(e,t,n),e=e.sibling}function vo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(vo(e,t,n),e=e.sibling;e!==null;)vo(e,t,n),e=e.sibling}var xe=null,et=!1;function Nt(e,t,n){for(n=n.child;n!==null;)_u(e,t,n),n=n.sibling}function _u(e,t,n){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(zs,n)}catch{}switch(n.tag){case 5:Ee||En(n,t);case 6:var r=xe,s=et;xe=null,Nt(e,t,n),xe=r,et=s,xe!==null&&(et?(e=xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):xe.removeChild(n.stateNode));break;case 18:xe!==null&&(et?(e=xe,n=n.stateNode,e.nodeType===8?yl(e.parentNode,n):e.nodeType===1&&yl(e,n),gr(e)):yl(xe,n.stateNode));break;case 4:r=xe,s=et,xe=n.stateNode.containerInfo,et=!0,Nt(e,t,n),xe=r,et=s;break;case 0:case 11:case 14:case 15:if(!Ee&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&mo(n,t,a),s=s.next}while(s!==r)}Nt(e,t,n);break;case 1:if(!Ee&&(En(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ie(n,t,c)}Nt(e,t,n);break;case 21:Nt(e,t,n);break;case 22:n.mode&1?(Ee=(r=Ee)||n.memoizedState!==null,Nt(e,t,n),Ee=r):Nt(e,t,n);break;default:Nt(e,t,n)}}function Ta(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cf),t.forEach(function(r){var s=yf.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:xe=c.stateNode,et=!1;break e;case 3:xe=c.stateNode.containerInfo,et=!0;break e;case 4:xe=c.stateNode.containerInfo,et=!0;break e}c=c.return}if(xe===null)throw Error(C(160));_u(l,a,s),xe=null,et=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(o){ie(s,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pu(t,e),t=t.sibling}function Pu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(t,e),ot(e),r&4){try{ir(3,e,e.return),Gs(3,e)}catch(T){ie(e,e.return,T)}try{ir(5,e,e.return)}catch(T){ie(e,e.return,T)}}break;case 1:Ze(t,e),ot(e),r&512&&n!==null&&En(n,n.return);break;case 5:if(Ze(t,e),ot(e),r&512&&n!==null&&En(n,n.return),e.flags&32){var s=e.stateNode;try{fr(s,"")}catch(T){ie(e,e.return,T)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&rc(s,l),Dl(c,a);var o=Dl(c,l);for(a=0;a<u.length;a+=2){var h=u[a],g=u[a+1];h==="style"?ac(s,g):h==="dangerouslySetInnerHTML"?oc(s,g):h==="children"?fr(s,g):Mo(s,h,g,o)}switch(c){case"input":Ll(s,l);break;case"textarea":sc(s,l);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var S=l.value;S!=null?Nn(s,!!l.multiple,S,!1):p!==!!l.multiple&&(l.defaultValue!=null?Nn(s,!!l.multiple,l.defaultValue,!0):Nn(s,!!l.multiple,l.multiple?[]:"",!1))}s[Sr]=l}catch(T){ie(e,e.return,T)}}break;case 6:if(Ze(t,e),ot(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(T){ie(e,e.return,T)}}break;case 3:if(Ze(t,e),ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gr(t.containerInfo)}catch(T){ie(e,e.return,T)}break;case 4:Ze(t,e),ot(e);break;case 13:Ze(t,e),ot(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(ci=ue())),r&4&&Ta(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Ee=(o=Ee)||h,Ze(t,e),Ee=o):Ze(t,e),ot(e),r&8192){if(o=e.memoizedState!==null,(e.stateNode.isHidden=o)&&!h&&e.mode&1)for(P=e,h=e.child;h!==null;){for(g=P=h;P!==null;){switch(p=P,S=p.child,p.tag){case 0:case 11:case 14:case 15:ir(4,p,p.return);break;case 1:En(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(T){ie(r,n,T)}}break;case 5:En(p,p.return);break;case 22:if(p.memoizedState!==null){Na(g);continue}}S!==null?(S.return=p,P=S):Na(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{s=g.stateNode,o?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=ic("display",a))}catch(T){ie(e,e.return,T)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=o?"":g.memoizedProps}catch(T){ie(e,e.return,T)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Ze(t,e),ot(e),r&4&&Ta(e);break;case 21:break;default:Ze(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ou(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(fr(s,""),r.flags&=-33);var l=Ea(e);vo(e,l,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=Ea(e);xo(e,c,a);break;default:throw Error(C(161))}}catch(u){ie(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function df(e,t,n){P=e,Lu(e)}function Lu(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,l=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Xr;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Ee;c=Xr;var o=Ee;if(Xr=a,(Ee=u)&&!o)for(P=s;P!==null;)a=P,u=a.child,a.tag===22&&a.memoizedState!==null?ba(s):u!==null?(u.return=a,P=u):ba(s);for(;l!==null;)P=l,Lu(l),l=l.sibling;P=s,Xr=c,Ee=o}Ra(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,P=l):Ra(e)}}function Ra(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ee||Gs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ee)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:qe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&aa(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}aa(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var h=o.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&gr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Ee||t.flags&512&&go(t)}catch(p){ie(t,t.return,p)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function Na(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function ba(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gs(4,t)}catch(u){ie(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ie(t,s,u)}}var l=t.return;try{go(t)}catch(u){ie(t,l,u)}break;case 5:var a=t.return;try{go(t)}catch(u){ie(t,a,u)}}}catch(u){ie(t,t.return,u)}if(t===e){P=null;break}var c=t.sibling;if(c!==null){c.return=t.return,P=c;break}P=t.return}}var ff=Math.ceil,Ms=Tt.ReactCurrentDispatcher,ii=Tt.ReactCurrentOwner,Ye=Tt.ReactCurrentBatchConfig,$=0,ge=null,de=null,ve=0,Ue=0,Tn=Wt(0),he=0,kr=null,ln=0,$s=0,ai=0,ar=null,je=null,ci=0,Un=1/0,pt=null,Is=!1,yo=null,Ut=null,Zr=!1,At=null,As=0,cr=0,wo=null,as=-1,cs=0;function be(){return $&6?ue():as!==-1?as:as=ue()}function Ht(e){return e.mode&1?$&2&&ve!==0?ve&-ve:K0.transition!==null?(cs===0&&(cs=wc()),cs):(e=Q,e!==0||(e=window.event,e=e===void 0?16:kc(e.type)),e):1}function st(e,t,n,r){if(50<cr)throw cr=0,wo=null,Error(C(185));jr(e,n,r),(!($&2)||e!==ge)&&(e===ge&&(!($&2)&&($s|=n),he===4&&Mt(e,ve)),Oe(e,r),n===1&&$===0&&!(t.mode&1)&&(Un=ue()+500,Fs&&Gt()))}function Oe(e,t){var n=e.callbackNode;Kd(e,t);var r=ms(e,e===ge?ve:0);if(r===0)n!==null&&Pi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pi(n),t===1)e.tag===0?Y0(ka.bind(null,e)):$c(ka.bind(null,e)),V0(function(){!($&6)&&Gt()}),n=null;else{switch(Sc(r)){case 1:n=Po;break;case 4:n=vc;break;case 16:n=ps;break;case 536870912:n=yc;break;default:n=ps}n=Wu(n,zu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function zu(e,t){if(as=-1,cs=0,$&6)throw Error(C(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=ms(e,e===ge?ve:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Os(e,r);else{t=r;var s=$;$|=2;var l=Hu();(ge!==e||ve!==t)&&(pt=null,Un=ue()+500,en(e,t));do try{mf();break}catch(c){Uu(e,c)}while(1);Ko(),Ms.current=l,$=s,de!==null?t=0:(ge=null,ve=0,t=he)}if(t!==0){if(t===2&&(s=$l(e),s!==0&&(r=s,t=So(e,s))),t===1)throw n=kr,en(e,0),Mt(e,r),Oe(e,ue()),n;if(t===6)Mt(e,r);else{if(s=e.current.alternate,!(r&30)&&!hf(s)&&(t=Os(e,r),t===2&&(l=$l(e),l!==0&&(r=l,t=So(e,l))),t===1))throw n=kr,en(e,0),Mt(e,r),Oe(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Kt(e,je,pt);break;case 3:if(Mt(e,r),(r&130023424)===r&&(t=ci+500-ue(),10<t)){if(ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eo(Kt.bind(null,e,je,pt),t);break}Kt(e,je,pt);break;case 4:if(Mt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-rt(r);l=1<<a,a=t[a],a>s&&(s=a),r&=~l}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ff(r/1960))-r,10<r){e.timeoutHandle=eo(Kt.bind(null,e,je,pt),r);break}Kt(e,je,pt);break;case 5:Kt(e,je,pt);break;default:throw Error(C(329))}}}return Oe(e,ue()),e.callbackNode===n?zu.bind(null,e):null}function So(e,t){var n=ar;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=Os(e,t),e!==2&&(t=je,je=n,t!==null&&Eo(t)),e}function Eo(e){je===null?je=e:je.push.apply(je,e)}function hf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!lt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mt(e,t){for(t&=~ai,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function ka(e){if($&6)throw Error(C(327));Mn();var t=ms(e,0);if(!(t&1))return Oe(e,ue()),null;var n=Os(e,t);if(e.tag!==0&&n===2){var r=$l(e);r!==0&&(t=r,n=So(e,r))}if(n===1)throw n=kr,en(e,0),Mt(e,t),Oe(e,ue()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,je,pt),Oe(e,ue()),null}function ui(e,t){var n=$;$|=1;try{return e(t)}finally{$=n,$===0&&(Un=ue()+500,Fs&&Gt())}}function on(e){At!==null&&At.tag===0&&!($&6)&&Mn();var t=$;$|=1;var n=Ye.transition,r=Q;try{if(Ye.transition=null,Q=1,e)return e()}finally{Q=r,Ye.transition=n,$=t,!($&6)&&Gt()}}function di(){Ue=Tn.current,te(Tn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,F0(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Go(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ws();break;case 3:Ln(),te(Ie),te(Te),ei();break;case 5:qo(r);break;case 4:Ln();break;case 13:te(se);break;case 19:te(se);break;case 10:Qo(r.type._context);break;case 22:case 23:di()}n=n.return}if(ge=e,de=e=Bt(e.current,null),ve=Ue=t,he=0,kr=null,ai=$s=ln=0,je=ar=null,Jt!==null){for(t=0;t<Jt.length;t++)if(n=Jt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=s,r.next=a}n.pending=r}Jt=null}return e}function Uu(e,t){do{var n=de;try{if(Ko(),ls.current=js,Cs){for(var r=le.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Cs=!1}if(sn=0,me=fe=le=null,or=!1,Rr=0,ii.current=null,n===null||n.return===null){he=1,kr=t,de=null;break}e:{var l=e,a=n.return,c=n,u=t;if(t=ve,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var o=u,h=c,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=pa(a);if(S!==null){S.flags&=-257,ma(S,a,c,l,t),S.mode&1&&ha(l,o,t),t=S,u=o;var y=t.updateQueue;if(y===null){var T=new Set;T.add(u),t.updateQueue=T}else y.add(u);break e}else{if(!(t&1)){ha(l,o,t),fi();break e}u=Error(C(426))}}else if(ne&&c.mode&1){var A=pa(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ma(A,a,c,l,t),$o(zn(u,c));break e}}l=u=zn(u,c),he!==4&&(he=2),ar===null?ar=[l]:ar.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var d=Su(l,u,t);ia(l,d);break e;case 1:c=u;var f=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ut===null||!Ut.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=Eu(l,c,t);ia(l,E);break e}}l=l.return}while(l!==null)}Du(n)}catch(j){t=j,de===n&&n!==null&&(de=n=n.return);continue}break}while(1)}function Hu(){var e=Ms.current;return Ms.current=js,e===null?js:e}function fi(){(he===0||he===3||he===2)&&(he=4),ge===null||!(ln&268435455)&&!($s&268435455)||Mt(ge,ve)}function Os(e,t){var n=$;$|=2;var r=Hu();(ge!==e||ve!==t)&&(pt=null,en(e,t));do try{pf();break}catch(s){Uu(e,s)}while(1);if(Ko(),$=n,Ms.current=r,de!==null)throw Error(C(261));return ge=null,ve=0,he}function pf(){for(;de!==null;)Bu(de)}function mf(){for(;de!==null&&!Hd();)Bu(de)}function Bu(e){var t=Vu(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?Du(e):de=t,ii.current=null}function Du(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=af(n,t),n!==null){n.flags&=32767,de=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,de=null;return}}else if(n=of(n,t,Ue),n!==null){de=n;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);he===0&&(he=5)}function Kt(e,t,n){var r=Q,s=Ye.transition;try{Ye.transition=null,Q=1,gf(e,t,n,r)}finally{Ye.transition=s,Q=r}return null}function gf(e,t,n,r){do Mn();while(At!==null);if($&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Qd(e,l),e===ge&&(de=ge=null,ve=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zr||(Zr=!0,Wu(ps,function(){return Mn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ye.transition,Ye.transition=null;var a=Q;Q=1;var c=$;$|=4,ii.current=null,uf(e,n),Pu(n,e),P0(Jl),gs=!!Zl,Jl=Zl=null,e.current=n,df(n),Bd(),$=c,Q=a,Ye.transition=l}else e.current=n;if(Zr&&(Zr=!1,At=e,As=s),l=e.pendingLanes,l===0&&(Ut=null),Vd(n.stateNode),Oe(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Is)throw Is=!1,e=yo,yo=null,e;return As&1&&e.tag!==0&&Mn(),l=e.pendingLanes,l&1?e===wo?cr++:(cr=0,wo=e):cr=0,Gt(),null}function Mn(){if(At!==null){var e=Sc(As),t=Ye.transition,n=Q;try{if(Ye.transition=null,Q=16>e?16:e,At===null)var r=!1;else{if(e=At,At=null,As=0,$&6)throw Error(C(331));var s=$;for($|=4,P=e.current;P!==null;){var l=P,a=l.child;if(P.flags&16){var c=l.deletions;if(c!==null){for(var u=0;u<c.length;u++){var o=c[u];for(P=o;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:ir(8,h,l)}var g=h.child;if(g!==null)g.return=h,P=g;else for(;P!==null;){h=P;var p=h.sibling,S=h.return;if(Au(h),h===o){P=null;break}if(p!==null){p.return=S,P=p;break}P=S}}}var y=l.alternate;if(y!==null){var T=y.child;if(T!==null){y.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}P=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,P=a;else e:for(;P!==null;){if(l=P,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ir(9,l,l.return)}var d=l.sibling;if(d!==null){d.return=l.return,P=d;break e}P=l.return}}var f=e.current;for(P=f;P!==null;){a=P;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,P=m;else e:for(a=f;P!==null;){if(c=P,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Gs(9,c)}}catch(j){ie(c,c.return,j)}if(c===a){P=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,P=E;break e}P=c.return}}if($=s,Gt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(zs,e)}catch{}r=!0}return r}finally{Q=n,Ye.transition=t}}return!1}function Ca(e,t,n){t=zn(n,t),t=Su(e,t,1),e=zt(e,t,1),t=be(),e!==null&&(jr(e,1,t),Oe(e,t))}function ie(e,t,n){if(e.tag===3)Ca(e,e,n);else for(;t!==null;){if(t.tag===3){Ca(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ut===null||!Ut.has(r))){e=zn(n,e),e=Eu(t,e,1),t=zt(t,e,1),e=be(),t!==null&&(jr(t,1,e),Oe(t,e));break}}t=t.return}}function xf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,ge===e&&(ve&n)===n&&(he===4||he===3&&(ve&130023424)===ve&&500>ue()-ci?en(e,0):ai|=n),Oe(e,t)}function Fu(e,t){t===0&&(e.mode&1?(t=Dr,Dr<<=1,!(Dr&130023424)&&(Dr=4194304)):t=1);var n=be();e=St(e,t),e!==null&&(jr(e,t,n),Oe(e,n))}function vf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fu(e,n)}function yf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),Fu(e,n)}var Vu;Vu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ie.current)Me=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Me=!1,lf(e,t,n);Me=!!(e.flags&131072)}else Me=!1,ne&&t.flags&1048576&&Yc(t,Ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;is(e,t),e=t.pendingProps;var s=On(t,Te.current);jn(t,n),s=ni(null,t,r,e,s,n);var l=ri();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ae(r)?(l=!0,Ss(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zo(t),s.updater=Ws,t.stateNode=s,s._reactInternals=t,io(t,r,e,n),t=uo(null,t,r,!0,l,n)):(t.tag=0,ne&&l&&Wo(t),Ne(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(is(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Sf(r),e=qe(r,e),s){case 0:t=co(null,t,r,e,n);break e;case 1:t=va(null,t,r,e,n);break e;case 11:t=ga(null,t,r,e,n);break e;case 14:t=xa(null,t,r,qe(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),co(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),va(e,t,r,s,n);case 3:e:{if(bu(t),e===null)throw Error(C(387));r=t.pendingProps,l=t.memoizedState,s=l.element,qc(e,t),bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=zn(Error(C(423)),t),t=ya(e,t,r,n,s);break e}else if(r!==s){s=zn(Error(C(424)),t),t=ya(e,t,r,n,s);break e}else for(He=Lt(t.stateNode.containerInfo.firstChild),Be=t,ne=!0,nt=null,n=Zc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_n(),r===s){t=Et(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return eu(t),e===null&&so(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,a=s.children,ql(r,s)?a=null:l!==null&&ql(r,l)&&(t.flags|=32),Nu(e,t),Ne(e,t,a,n),t.child;case 6:return e===null&&so(t),null;case 13:return ku(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pn(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),ga(e,t,r,s,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,a=s.value,Z(Rs,r._currentValue),r._currentValue=a,l!==null)if(lt(l.value,a)){if(l.children===s.children&&!Ie.current){t=Et(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){a=l.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=vt(-1,n&-n),u.tag=2;var o=l.updateQueue;if(o!==null){o=o.shared;var h=o.pending;h===null?u.next=u:(u.next=h.next,h.next=u),o.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),lo(l.return,n,t),c.lanes|=n;break}u=u.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(C(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),lo(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Ne(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,jn(t,n),s=Ke(s),r=r(s),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,s=qe(r,t.pendingProps),s=qe(r.type,s),xa(e,t,r,s,n);case 15:return Tu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:qe(r,s),is(e,t),t.tag=1,Ae(r)?(e=!0,Ss(t)):e=!1,jn(t,n),wu(t,r,s),io(t,r,s,n),uo(null,t,r,!0,e,n);case 19:return Cu(e,t,n);case 22:return Ru(e,t,n)}throw Error(C(156,t.tag))};function Wu(e,t){return xc(e,t)}function wf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new wf(e,t,n,r)}function hi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sf(e){if(typeof e=="function")return hi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ao)return 11;if(e===Oo)return 14}return 2}function Bt(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function us(e,t,n,r,s,l){var a=2;if(r=e,typeof e=="function")hi(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case hn:return tn(n.children,s,l,t);case Io:a=8,s|=8;break;case Il:return e=$e(12,n,t,s|2),e.elementType=Il,e.lanes=l,e;case Al:return e=$e(13,n,t,s),e.elementType=Al,e.lanes=l,e;case Ol:return e=$e(19,n,t,s),e.elementType=Ol,e.lanes=l,e;case ec:return Ys(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ja:a=10;break e;case qa:a=9;break e;case Ao:a=11;break e;case Oo:a=14;break e;case bt:a=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=$e(a,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function tn(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function Ys(e,t,n,r){return e=$e(22,e,r,t),e.elementType=ec,e.lanes=n,e.stateNode={isHidden:!1},e}function kl(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function Cl(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ef(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pi(e,t,n,r,s,l,a,c,u){return e=new Ef(e,t,n,c,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=$e(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zo(l),e}function Tf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gu(e){if(!e)return Ft;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ae(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ae(n))return Gc(e,n,t)}return t}function $u(e,t,n,r,s,l,a,c,u){return e=pi(n,r,!0,e,s,l,a,c,u),e.context=Gu(null),n=e.current,r=be(),s=Ht(n),l=vt(r,s),l.callback=t??null,zt(n,l,s),e.current.lanes=s,jr(e,s,r),Oe(e,r),e}function Ks(e,t,n,r){var s=t.current,l=be(),a=Ht(s);return n=Gu(n),t.context===null?t.context=n:t.pendingContext=n,t=vt(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zt(s,t,a),e!==null&&(st(e,s,a,l),ss(e,s,a)),a}function _s(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ja(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mi(e,t){ja(e,t),(e=e.alternate)&&ja(e,t)}function Rf(){return null}var Yu=typeof reportError=="function"?reportError:function(e){console.error(e)};function gi(e){this._internalRoot=e}Qs.prototype.render=gi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ks(e,t,null,null)};Qs.prototype.unmount=gi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){Ks(null,e,null,null)}),t[wt]=null}};function Qs(e){this._internalRoot=e}Qs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&bc(e)}};function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ma(){}function Nf(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var o=_s(a);l.call(o)}}var a=$u(t,r,e,0,null,!1,!1,"",Ma);return e._reactRootContainer=a,e[wt]=a.current,yr(e.nodeType===8?e.parentNode:e),on(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var o=_s(u);c.call(o)}}var u=pi(e,0,!1,null,null,!1,!1,"",Ma);return e._reactRootContainer=u,e[wt]=u.current,yr(e.nodeType===8?e.parentNode:e),on(function(){Ks(t,u,n,r)}),u}function Zs(e,t,n,r,s){var l=n._reactRootContainer;if(l){var a=l;if(typeof s=="function"){var c=s;s=function(){var u=_s(a);c.call(u)}}Ks(t,a,e,s)}else a=Nf(n,t,e,s,r);return _s(a)}Ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qn(t.pendingLanes);n!==0&&(Lo(t,n|1),Oe(t,ue()),!($&6)&&(Un=ue()+500,Gt()))}break;case 13:on(function(){var r=St(e,1);if(r!==null){var s=be();st(r,e,1,s)}}),mi(e,1)}};zo=function(e){if(e.tag===13){var t=St(e,134217728);if(t!==null){var n=be();st(t,e,134217728,n)}mi(e,134217728)}};Tc=function(e){if(e.tag===13){var t=Ht(e),n=St(e,t);if(n!==null){var r=be();st(n,e,t,r)}mi(e,t)}};Rc=function(){return Q};Nc=function(e,t){var n=Q;try{return Q=e,t()}finally{Q=n}};Vl=function(e,t,n){switch(t){case"input":if(Ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ds(r);if(!s)throw Error(C(90));nc(r),Ll(r,s)}}}break;case"textarea":sc(e,n);break;case"select":t=n.value,t!=null&&Nn(e,!!n.multiple,t,!1)}};dc=ui;fc=on;var bf={usingClientEntryPoint:!1,Events:[Ir,xn,Ds,cc,uc,ui]},Xn={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kf={bundleType:Xn.bundleType,version:Xn.version,rendererPackageName:Xn.rendererPackageName,rendererConfig:Xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mc(e),e===null?null:e.stateNode},findFiberByHostInstance:Xn.findFiberByHostInstance||Rf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{zs=Jr.inject(kf),ct=Jr}catch{}}Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bf;Fe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xi(t))throw Error(C(200));return Tf(e,t,null,n)};Fe.createRoot=function(e,t){if(!xi(e))throw Error(C(299));var n=!1,r="",s=Yu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pi(e,1,!1,null,null,n,!1,r,s),e[wt]=t.current,yr(e.nodeType===8?e.parentNode:e),new gi(t)};Fe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=mc(t),e=e===null?null:e.stateNode,e};Fe.flushSync=function(e){return on(e)};Fe.hydrate=function(e,t,n){if(!Xs(t))throw Error(C(200));return Zs(null,e,t,!0,n)};Fe.hydrateRoot=function(e,t,n){if(!xi(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",a=Yu;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=$u(t,null,e,1,n??null,s,!1,l,a),e[wt]=t.current,yr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Qs(t)};Fe.render=function(e,t,n){if(!Xs(t))throw Error(C(200));return Zs(null,e,t,!1,n)};Fe.unmountComponentAtNode=function(e){if(!Xs(e))throw Error(C(40));return e._reactRootContainer?(on(function(){Zs(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Fe.unstable_batchedUpdates=ui;Fe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xs(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Zs(e,t,n,!1,r)};Fe.version="18.3.1-next-f1338f8080-20240426";function Ku(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ku)}catch(e){console.error(e)}}Ku(),Ka.exports=Fe;var Cf=Ka.exports,Ia=Cf;jl.createRoot=Ia.createRoot,jl.hydrateRoot=Ia.hydrateRoot;var ze=(e=>(e.PLAYER="PLAYER",e.ENEMY="ENEMY",e.TOWER="TOWER",e.PROJECTILE="PROJECTILE",e.PARTICLE="PARTICLE",e.SHOCKWAVE="SHOCKWAVE",e.TEXT="TEXT",e))(ze||{}),k=(e=>(e.GRUNT="GRUNT",e.RUNNER="RUNNER",e.TANK="TANK",e.HEALER="HEALER",e.BOSS="BOSS",e.FRACTAL="FRACTAL",e.ORBITER="ORBITER",e.STALKER="STALKER",e.SWARMER="SWARMER",e.BROODMOTHER="BROODMOTHER",e.WORM="WORM",e.DISRUPTOR="DISRUPTOR",e))(k||{}),tt=(e=>(e.NEAREST="NEAREST",e.STRONGEST="STRONGEST",e.FASTEST="FASTEST",e))(tt||{}),x=(e=>(e.TURRET_ARROW="TURRET_ARROW",e.TURRET_MAGIC_MISSILE="TURRET_MAGIC_MISSILE",e.TURRET_FIREBALL="TURRET_FIREBALL",e.TURRET_ICICLE="TURRET_ICICLE",e.TURRET_POISON="TURRET_POISON",e.TURRET_CANNON="TURRET_CANNON",e.TURRET_ICE="TURRET_ICE",e.TURRET_ARCANE="TURRET_ARCANE",e.TURRET_REPULSOR="TURRET_REPULSOR",e.TURRET_TOXIN="TURRET_TOXIN",e.TURRET_CHAOS_BOLT="TURRET_CHAOS_BOLT",e.TURRET_SNIPER="TURRET_SNIPER",e.TURRET_BALLISTA="TURRET_BALLISTA",e.TURRET_ORBITAL="TURRET_ORBITAL",e.TURRET_CLUSTER_BOMB="TURRET_CLUSTER_BOMB",e.TURRET_PERMAFROST="TURRET_PERMAFROST",e.TURRET_CHAOS_BEAM="TURRET_CHAOS_BEAM",e.TURRET_FLAMETHROWER="TURRET_FLAMETHROWER",e.TURRET_CHAOS_RIFT="TURRET_CHAOS_RIFT",e.TURRET_OMNI="TURRET_OMNI",e.STAT_DAMAGE="STAT_DAMAGE",e.STAT_SPEED="STAT_SPEED",e.STAT_RANGE="STAT_RANGE",e.STAT_REGEN="STAT_REGEN",e.HEAL_TOWER="HEAL_TOWER",e.ECON_GPS="ECON_GPS",e.ECON_BOUNTY="ECON_BOUNTY",e))(x||{}),L=(e=>(e.NUKE="NUKE",e.INVULNERABILITY="INVULNERABILITY",e.OVERCLOCK="OVERCLOCK",e.RANGE_BOOST="RANGE_BOOST",e.PASSIVE_PHYSICAL="PASSIVE_PHYSICAL",e.PASSIVE_MAGIC="PASSIVE_MAGIC",e.PASSIVE_FIRE="PASSIVE_FIRE",e.PASSIVE_ICE="PASSIVE_ICE",e.PASSIVE_POISON="PASSIVE_POISON",e.PASSIVE_CHAOS="PASSIVE_CHAOS",e))(L||{});const Qu="Version 0.2 (Demo)",Qt=2560,Xt=1440,Je=72,jf=20*Je,Mf=6,If=25,Af=25,Aa=5,To=800,Of=600,_f=3.5,Oa=320,_a=250,Pf=15,Lf=180,_={PHYSICAL:"#f8fafc",MAGIC:"#ec4899",FIRE:"#ef4444",ICE:"#3b82f6",POISON:"#22c55e",CHAOS:"#9333ea",ECONOMY:"#eab308",EARTH:"#92400e"},ur={PHYSICAL:_.PHYSICAL,MAGIC:_.MAGIC,FIRE:_.FIRE,ICE:_.ICE,POISON:_.POISON,CHAOS:_.CHAOS},Ps=["#0f172a","#022c22","#310b0b","#082f49","#2e1065","#020617","#271c19"],Ct={[k.GRUNT]:{speed:.85,radius:14,color:"#a855f7",hpMod:1,valueMod:1,powerRating:1,minWave:1,shieldMod:0,resistances:{PHYSICAL:1,MAGIC:1,FIRE:1,ICE:1,POISON:1,CHAOS:1}},[k.RUNNER]:{speed:2.2,radius:10,color:_.FIRE,hpMod:.6,valueMod:1.5,powerRating:1.5,minWave:2,shieldMod:0,resistances:{PHYSICAL:1,MAGIC:1,FIRE:.25,ICE:2.5,POISON:1,CHAOS:1}},[k.TANK]:{speed:.45,radius:22,color:"#475569",hpMod:2.2,valueMod:4,powerRating:4,minWave:4,shieldMod:1,resistances:{PHYSICAL:.2,MAGIC:.5,FIRE:.5,ICE:.5,POISON:2,CHAOS:1}},[k.HEALER]:{speed:1,radius:16,color:_.POISON,hpMod:1.5,valueMod:3,powerRating:3,minWave:15,shieldMod:0,resistances:{PHYSICAL:2,MAGIC:.1,FIRE:1,ICE:1,POISON:.5,CHAOS:1}},[k.STALKER]:{speed:1.6,radius:12,color:"#94a3b8",hpMod:.8,valueMod:2,powerRating:2,minWave:5,shieldMod:0,resistances:{PHYSICAL:1,MAGIC:1,FIRE:2,ICE:1,POISON:.1,CHAOS:1}},[k.ORBITER]:{speed:2.2,radius:11,color:_.MAGIC,hpMod:.7,valueMod:2.5,powerRating:2.5,minWave:8,shieldMod:.5,resistances:{PHYSICAL:2,MAGIC:.25,FIRE:1,ICE:1,POISON:1,CHAOS:1}},[k.FRACTAL]:{speed:.3,radius:30,color:_.CHAOS,hpMod:2.5,valueMod:6,powerRating:6,minWave:10,shieldMod:0,resistances:{PHYSICAL:.25,MAGIC:2.5,FIRE:.5,ICE:.5,POISON:1,CHAOS:1}},[k.DISRUPTOR]:{speed:1.8,radius:18,color:"#22d3ee",hpMod:3.5,valueMod:5,powerRating:5,minWave:25,shieldMod:0,resistances:{PHYSICAL:1,MAGIC:1,FIRE:2,ICE:.05,POISON:1,CHAOS:1}},[k.BOSS]:{speed:.6,radius:45,color:_.FIRE,hpMod:7,valueMod:20,powerRating:20,minWave:5,shieldMod:1,resistances:{PHYSICAL:.5,MAGIC:.5,FIRE:.5,ICE:.5,POISON:.5,CHAOS:1}},[k.SWARMER]:{speed:3.5,radius:8,color:"#fde047",hpMod:.2,valueMod:.1,powerRating:.5,minWave:1,shieldMod:0,resistances:{PHYSICAL:1,MAGIC:1,FIRE:1,ICE:1.5,POISON:.2,CHAOS:1}},[k.BROODMOTHER]:{speed:.15,radius:65,color:"#881337",hpMod:15,valueMod:25,powerRating:25,minWave:20,shieldMod:2,resistances:{PHYSICAL:.5,MAGIC:.5,FIRE:.5,ICE:.5,POISON:1,CHAOS:1}},[k.WORM]:{speed:.8,radius:35,color:_.EARTH,hpMod:10,valueMod:15,powerRating:15,minWave:30,shieldMod:0,resistances:{PHYSICAL:.4,MAGIC:.5,FIRE:.5,ICE:.5,POISON:.5,CHAOS:1}}},re={[x.TURRET_ARROW]:{type:x.TURRET_ARROW,name:"Arrow Module",baseCost:25,costScaling:1.15,description:"Basic Physical damage.",color:_.PHYSICAL,tier:1,damage:15,damageType:"PHYSICAL",range:290,cooldown:45},[x.TURRET_POISON]:{type:x.TURRET_POISON,name:"Venom Sprayer",baseCost:60,costScaling:1.15,description:"Poison damage over time.",color:_.POISON,tier:1,damage:2,damageType:"POISON",range:180,cooldown:20,effect:"POISON"},[x.TURRET_FIREBALL]:{type:x.TURRET_FIREBALL,name:"Ember Coil",baseCost:45,costScaling:1.2,description:"Basic Fire damage.",color:_.FIRE,tier:1,damage:12,damageType:"FIRE",range:220,cooldown:50},[x.TURRET_ICICLE]:{type:x.TURRET_ICICLE,name:"Frost Shard",baseCost:50,costScaling:1.2,description:"Basic Ice damage.",color:_.ICE,tier:1,damage:8,damageType:"ICE",range:240,cooldown:40},[x.TURRET_MAGIC_MISSILE]:{type:x.TURRET_MAGIC_MISSILE,name:"Magic Missile",baseCost:55,costScaling:1.2,description:"Basic Magic damage.",color:_.MAGIC,tier:1,damage:10,damageType:"MAGIC",range:280,cooldown:35},[x.HEAL_TOWER]:{type:x.HEAL_TOWER,name:"Nano Repair",baseCost:20,costScaling:1.2,description:"Restores 100 HP to the tower.",color:_.POISON,tier:1},[x.STAT_REGEN]:{type:x.STAT_REGEN,name:"Nanofiber Weave",baseCost:60,costScaling:1.35,description:"Regenerates +0.5 Tower HP per second.",color:_.POISON,tier:1},[x.ECON_GPS]:{type:x.ECON_GPS,name:"Void Miner",baseCost:40,costScaling:1.4,description:"Generates +1 Gold per second.",color:_.ECONOMY,tier:1},[x.TURRET_CANNON]:{type:x.TURRET_CANNON,name:"Blast Cannon",baseCost:100,costScaling:1.2,description:"Deals Fire AOE damage.",color:_.FIRE,tier:2,damage:30,damageType:"FIRE",range:200,cooldown:120,effect:"EXPLOSIVE"},[x.TURRET_ARCANE]:{type:x.TURRET_ARCANE,name:"Arcane Orb",baseCost:120,costScaling:1.3,description:"High Magic damage, medium range.",color:_.MAGIC,tier:2,damage:45,damageType:"MAGIC",range:300,cooldown:50},[x.TURRET_REPULSOR]:{type:x.TURRET_REPULSOR,name:"Repulsor Plate",baseCost:60,costScaling:1.25,description:"Low damage, but pushes enemies away forcibly.",color:_.PHYSICAL,tier:2,damage:5,damageType:"PHYSICAL",range:180,cooldown:90,knockback:15},[x.TURRET_ICE]:{type:x.TURRET_ICE,name:"Cryo Beam",baseCost:75,costScaling:1.2,description:"Ice damage that slows enemies.",color:_.ICE,tier:2,damage:5,damageType:"ICE",range:220,cooldown:30,effect:"FREEZE"},[x.TURRET_TOXIN]:{type:x.TURRET_TOXIN,name:"Bio-Hazard Mortar",baseCost:90,costScaling:1.25,description:"Heavy Poison damage.",color:_.POISON,tier:2,damage:8,damageType:"POISON",range:200,cooldown:60,effect:"POISON"},[x.TURRET_CHAOS_BOLT]:{type:x.TURRET_CHAOS_BOLT,name:"Chaos Bolt",baseCost:150,costScaling:1.4,description:"Deals 1.0x damage to ALL types. Ignores resistances.",color:_.CHAOS,tier:2,damage:25,damageType:"CHAOS",range:300,cooldown:55},[x.STAT_DAMAGE]:{type:x.STAT_DAMAGE,name:"Power Core",baseCost:75,costScaling:1.4,description:"Increases damage of ALL types by 2.5%.",color:_.FIRE,tier:2},[x.STAT_SPEED]:{type:x.STAT_SPEED,name:"Overclocker",baseCost:50,costScaling:1.3,description:"Increases fire rate by 10%.",color:_.ECONOMY,tier:2},[x.ECON_BOUNTY]:{type:x.ECON_BOUNTY,name:"Scavenger Protocol",baseCost:80,costScaling:1.5,description:"Increases gold from enemies by 15%.",color:_.ECONOMY,tier:2},[x.TURRET_ORBITAL]:{type:x.TURRET_ORBITAL,name:"Astral Ring",baseCost:200,costScaling:1.4,description:"Creates a wide orbiting sphere of pure magic energy. High DPS.",color:_.MAGIC,tier:3,damage:40,damageType:"MAGIC",range:0,cooldown:0,knockback:12},[x.TURRET_SNIPER]:{type:x.TURRET_SNIPER,name:"Railgun",baseCost:150,costScaling:1.25,description:"High Physical damage, extreme range.",color:_.PHYSICAL,tier:3,damage:150,damageType:"PHYSICAL",range:500,cooldown:180},[x.TURRET_BALLISTA]:{type:x.TURRET_BALLISTA,name:"Ballista",baseCost:180,costScaling:1.3,description:"Fires a large bolt that pierces through enemies.",color:_.PHYSICAL,tier:3,damage:80,damageType:"PHYSICAL",range:400,cooldown:100,pierce:3},[x.TURRET_CLUSTER_BOMB]:{type:x.TURRET_CLUSTER_BOMB,name:"Cluster Bomb",baseCost:220,costScaling:1.3,description:"Fire AOE that hits hard.",color:_.FIRE,tier:3,damage:60,damageType:"FIRE",range:250,cooldown:140,effect:"EXPLOSIVE"},[x.TURRET_PERMAFROST]:{type:x.TURRET_PERMAFROST,name:"Permafrost",baseCost:210,costScaling:1.3,description:"Freezes enemies instantly.",color:_.ICE,tier:3,damage:25,damageType:"ICE",range:280,cooldown:90,effect:"FREEZE"},[x.TURRET_CHAOS_BEAM]:{type:x.TURRET_CHAOS_BEAM,name:"Entropy Ray",baseCost:300,costScaling:1.5,description:"Piercing beam of Chaos damage. Effective against all.",color:_.CHAOS,tier:3,damage:40,damageType:"CHAOS",range:350,cooldown:70,pierce:2},[x.STAT_RANGE]:{type:x.STAT_RANGE,name:"Targeting Lens",baseCost:180,costScaling:1.5,description:"Increases range by 10%. Max 50%.",color:_.ICE,tier:3,maxStacks:5},[x.TURRET_FLAMETHROWER]:{type:x.TURRET_FLAMETHROWER,name:"Hellfire Stream",baseCost:800,costScaling:1.5,description:"LEGENDARY. Unleashes a continuous stream of fire. Short range.",color:_.FIRE,tier:4,damage:8,damageType:"FIRE",range:160,cooldown:3,pierce:999},[x.TURRET_CHAOS_RIFT]:{type:x.TURRET_CHAOS_RIFT,name:"Void Rift",baseCost:1200,costScaling:1.6,description:"LEGENDARY. Launches a rift at the strongest enemy on screen. Massive AOE.",color:_.CHAOS,tier:4,damage:800,damageType:"CHAOS",range:2500,cooldown:240,effect:"EXPLOSIVE"},[x.TURRET_OMNI]:{type:x.TURRET_OMNI,name:"Omni-Spikes",baseCost:900,costScaling:1.5,description:"LEGENDARY. Short range spikes in 8 directions. Upgrades increase damage.",color:_.PHYSICAL,tier:4,damage:15,damageType:"PHYSICAL",range:160,cooldown:20}},In={[L.NUKE]:{type:L.NUKE,category:"ACTIVE",name:"Protocol: OBLITERATE",cost:2500,description:"Detonates a localized void bomb. Wipes all non-boss enemies. Heavily damages bosses. SINGLE USE PER RUN.",cooldown:0,duration:0,maxCharges:1,hotkey:"1",color:_.FIRE},[L.INVULNERABILITY]:{type:L.INVULNERABILITY,category:"ACTIVE",name:"Protocol: AEGIS",cost:1500,description:"Deploys an impenetrable shield around the tower for 5 seconds.",cooldown:60,duration:5,maxCharges:1/0,hotkey:"2",color:_.ICE},[L.OVERCLOCK]:{type:L.OVERCLOCK,category:"ACTIVE",name:"Protocol: OVERCLOCK",cost:1200,description:"Doubles tower attack speed and damage for 10 seconds.",cooldown:45,duration:10,maxCharges:1/0,hotkey:"3",color:_.ECONOMY},[L.RANGE_BOOST]:{type:L.RANGE_BOOST,category:"ACTIVE",name:"Protocol: LONGSHOT",cost:2e3,description:"Doubles tower range for 15 seconds.",cooldown:50,duration:15,maxCharges:1/0,hotkey:"4",color:_.POISON},[L.PASSIVE_PHYSICAL]:{type:L.PASSIVE_PHYSICAL,category:"PASSIVE",name:"Kinetic Resonance",cost:500,costScaling:1.25,statBonus:.1,description:"+10% Physical Damage per level.",cooldown:0,duration:0,maxCharges:1/0,hotkey:"",color:_.PHYSICAL},[L.PASSIVE_MAGIC]:{type:L.PASSIVE_MAGIC,category:"PASSIVE",name:"Arcane Resonance",cost:600,costScaling:1.25,statBonus:.1,description:"+10% Magic Damage per level.",cooldown:0,duration:0,maxCharges:1/0,hotkey:"",color:_.MAGIC},[L.PASSIVE_FIRE]:{type:L.PASSIVE_FIRE,category:"PASSIVE",name:"Thermal Resonance",cost:600,costScaling:1.25,statBonus:.1,description:"+10% Fire Damage per level.",cooldown:0,duration:0,maxCharges:1/0,hotkey:"",color:_.FIRE},[L.PASSIVE_ICE]:{type:L.PASSIVE_ICE,category:"PASSIVE",name:"Cryo Resonance",cost:600,costScaling:1.25,statBonus:.1,description:"+10% Ice Damage per level.",cooldown:0,duration:0,maxCharges:1/0,hotkey:"",color:_.ICE},[L.PASSIVE_POISON]:{type:L.PASSIVE_POISON,category:"PASSIVE",name:"Toxin Resonance",cost:600,costScaling:1.25,statBonus:.1,description:"+10% Poison Damage per level.",cooldown:0,duration:0,maxCharges:1/0,hotkey:"",color:_.POISON},[L.PASSIVE_CHAOS]:{type:L.PASSIVE_CHAOS,category:"PASSIVE",name:"Entropy Resonance",cost:1e3,costScaling:1.3,statBonus:.1,description:"+10% Chaos Damage per level.",cooldown:0,duration:0,maxCharges:1/0,hotkey:"",color:_.CHAOS}},Xu="/api/scores",Zu="tower_survivors_leaderboard_v1.json",zf=async()=>{try{const e=await fetch(Xu,{method:"GET",headers:{Accept:"application/json"}});if(!e.ok)throw new Error(`Server returned ${e.status}`);const t=await e.json();return Array.isArray(t)?{scores:t,connected:!0}:{scores:[],connected:!0}}catch(e){return console.warn("Global leaderboard unreachable. Using local data.",e),{scores:Js(),connected:!1}}},Uf=async e=>{try{const t=await fetch(Xu,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Server returned ${t.status}`);const n=await t.json();return Array.isArray(n)?n:Js()}catch(t){return console.error("Failed to submit score to server. Saving locally.",t),Hf(e)}},Js=()=>{try{const e=localStorage.getItem(Zu);return e?JSON.parse(e):[]}catch(e){return console.error("Local storage access failed",e),[]}},Hf=e=>{const n=[...Js(),e];n.sort((s,l)=>l.score-s.score);const r=n.slice(0,10);return localStorage.setItem(Zu,JSON.stringify(r)),r};class Bf{constructor(){this.ctx=null,this.masterGain=null,this.isMuted=!1,this.lastShootTime=0}init(){if(this.ctx)return;const t=window.AudioContext||window.webkitAudioContext;this.ctx=new t,this.masterGain=this.ctx.createGain(),this.masterGain.gain.value=.2,this.masterGain.connect(this.ctx.destination)}toggleMute(){this.isMuted=!this.isMuted,this.masterGain&&(this.masterGain.gain.value=this.isMuted?0:.2)}playShoot(t=1){if(!this.ctx||!this.masterGain||this.isMuted)return;const n=this.ctx.currentTime;if(n-this.lastShootTime<.05)return;this.lastShootTime=n;const r=this.ctx.createOscillator(),s=this.ctx.createGain();r.type="triangle",r.frequency.setValueAtTime(600*t,n),r.frequency.exponentialRampToValueAtTime(100*t,n+.1),s.gain.setValueAtTime(.5,n),s.gain.exponentialRampToValueAtTime(.01,n+.1),r.connect(s),s.connect(this.masterGain),r.start(n),r.stop(n+.1)}playEnemyDeath(t=1){if(!this.ctx||!this.masterGain||this.isMuted)return;const n=this.ctx.currentTime,r=this.ctx.sampleRate*.3,s=this.ctx.createBuffer(1,r,this.ctx.sampleRate),l=s.getChannelData(0);for(let o=0;o<r;o++)l[o]=Math.random()*2-1;const a=this.ctx.createBufferSource();a.buffer=s;const c=this.ctx.createBiquadFilter();c.type="lowpass",c.frequency.setValueAtTime(1e3,n),c.frequency.exponentialRampToValueAtTime(100,n+.2);const u=this.ctx.createGain();u.gain.setValueAtTime(.5*t,n),u.gain.exponentialRampToValueAtTime(.01,n+.2),a.connect(c),c.connect(u),u.connect(this.masterGain),a.start(n)}playTowerDamage(){if(!this.ctx||!this.masterGain||this.isMuted)return;const t=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="sawtooth",n.frequency.setValueAtTime(100,t),n.frequency.exponentialRampToValueAtTime(50,t+.3),r.gain.setValueAtTime(.8,t),r.gain.exponentialRampToValueAtTime(.01,t+.3),n.connect(r),r.connect(this.masterGain),n.start(t),n.stop(t+.3)}playUpgrade(){if(!this.ctx||!this.masterGain||this.isMuted)return;const t=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createOscillator(),s=this.ctx.createGain();n.type="square",n.frequency.setValueAtTime(440,t),n.frequency.setValueAtTime(880,t+.1),r.type="square",r.frequency.setValueAtTime(554,t),r.frequency.setValueAtTime(1108,t+.1),s.gain.setValueAtTime(.3,t),s.gain.linearRampToValueAtTime(0,t+.4),n.connect(s),r.connect(s),s.connect(this.masterGain),n.start(t),n.stop(t+.4),r.start(t),r.stop(t+.4)}playWaveStart(){if(!this.ctx||!this.masterGain||this.isMuted)return;const t=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="sine",n.frequency.setValueAtTime(50,t),n.frequency.linearRampToValueAtTime(100,t+2),r.gain.setValueAtTime(0,t),r.gain.linearRampToValueAtTime(.5,t+1),r.gain.linearRampToValueAtTime(0,t+3),n.connect(r),r.connect(this.masterGain),n.start(t),n.stop(t+3)}playAbilityNuke(){if(!this.ctx||!this.masterGain||this.isMuted)return;const t=this.ctx.currentTime,n=this.ctx.sampleRate*2,r=this.ctx.createBuffer(1,n,this.ctx.sampleRate),s=r.getChannelData(0);for(let u=0;u<n;u++)s[u]=Math.random()*2-1;const l=this.ctx.createBufferSource();l.buffer=r;const a=this.ctx.createBiquadFilter();a.type="lowpass",a.frequency.setValueAtTime(500,t),a.frequency.linearRampToValueAtTime(50,t+1.5);const c=this.ctx.createGain();c.gain.setValueAtTime(1,t),c.gain.exponentialRampToValueAtTime(.01,t+2),l.connect(a),a.connect(c),c.connect(this.masterGain),l.start(t)}playAbilityShield(){if(!this.ctx||!this.masterGain||this.isMuted)return;const t=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="sine",n.frequency.setValueAtTime(200,t),n.frequency.linearRampToValueAtTime(600,t+.5),r.gain.setValueAtTime(0,t),r.gain.linearRampToValueAtTime(.5,t+.1),r.gain.linearRampToValueAtTime(0,t+.5),n.connect(r),r.connect(this.masterGain),n.start(t),n.stop(t+.5)}playAbilityOverclock(){if(!this.ctx||!this.masterGain||this.isMuted)return;const t=this.ctx.currentTime,n=this.ctx.createOscillator(),r=this.ctx.createGain();n.type="sawtooth",n.frequency.setValueAtTime(110,t),n.frequency.linearRampToValueAtTime(220,t+.3),r.gain.setValueAtTime(.3,t),r.gain.linearRampToValueAtTime(0,t+.3),n.connect(r),r.connect(this.masterGain),n.start(t),n.stop(t+.3)}}const Le=new Bf;class Df{constructor(t,n){this.lastTime=0,this.animationId=0,this.isRunning=!1,this.accumulator=0,this.fixedTimeStep=1/Je,this.speedMultiplier=1,this.keys={},this.mouseX=0,this.mouseY=0,this.isMouseDown=!1,this.waveTimer=0,this.spawnTimer=0,this.currentWaveTotal=0,this.ticks=0,this.gpsTimer=0,this.regenTimer=0,this.spawnQueue=[],this.shakeIntensity=0,this.handleKeyDown=r=>{this.keys[r.key]=!0,r.key==="1"&&this.triggerAbility(L.NUKE),r.key==="2"&&this.triggerAbility(L.INVULNERABILITY),r.key==="3"&&this.triggerAbility(L.OVERCLOCK),r.key==="4"&&this.triggerAbility(L.RANGE_BOOST)},this.handleKeyUp=r=>{this.keys[r.key]=!1},this.loop=r=>{if(!this.isRunning)return;let s=(r-this.lastTime)/1e3;if(this.lastTime=r,s>.25&&(s=.25),this.accumulator+=s*this.speedMultiplier,!this.state.isGameOver)for(;this.accumulator>=this.fixedTimeStep;)this.update(this.fixedTimeStep),this.accumulator-=this.fixedTimeStep;this.onStateUpdate(this.state),this.animationId=requestAnimationFrame(this.loop)},this.onStateUpdate=t,this.onWaveStart=n,this.state=this.getInitialState(),this.syncLeaderboard(),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}async syncLeaderboard(){const t=await zf(),n=t.scores;this.state.isServerConnected=t.connected,n.length>0&&(this.state.leaderboard=n,n[0].score>this.state.highScore&&(this.state.highScore=n[0].score)),this.onStateUpdate({...this.state})}getState(){return this.state}getInitialState(){const t=Qt/2,n=Xt/2,r=Js(),s=r.length>0?r[0].score:0,l={};return Object.values(In).forEach(a=>{l[a.type]={unlocked:!1,level:0,cooldown:0,maxCooldown:a.cooldown*60,activeTimer:0,charges:a.maxCharges}}),{gold:100,wave:0,score:0,highScore:s,leaderboard:r,isServerConnected:!1,isGameOver:!1,flavorText:"The Spire awakens...",gameSpeed:1,killCounts:{},cameraShake:{x:0,y:0},shopItems:[],shopTimer:0,rerollCost:If,abilities:l,tower:{id:"central-tower",type:ze.TOWER,x:t,y:n,radius:40,color:"#e2e8f0",hp:1e3,maxHp:1e3,speed:0,damage:0,modules:{[x.TURRET_ARROW]:2},moduleCooldowns:{},moduleTargeting:{[x.TURRET_ARROW]:tt.NEAREST},statMultipliers:{damage:1,speed:1,range:1,goldValue:1},damageTypeMultipliers:{PHYSICAL:1,MAGIC:1,FIRE:1,ICE:1,POISON:1,CHAOS:1},goldPerSecond:0,hpRegen:0,targetingMode:tt.NEAREST,isInvulnerable:!1,isOverclocked:!1,isRangeBoosted:!1,disruptionTimer:0},player:{id:"player",type:ze.PLAYER,x:t,y:n+60,radius:12,color:"#3b82f6",hp:100,maxHp:100,speed:0,damage:5},enemies:[],hoveredEnemy:null,projectiles:[],particles:[],floatingTexts:[]}}start(){this.isRunning||(this.isRunning=!0,this.lastTime=performance.now(),this.accumulator=0,this.state.shopItems.length===0&&this.rotateShop(),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp),this.loop(this.lastTime))}stop(){this.isRunning=!1,cancelAnimationFrame(this.animationId),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}reset(){this.stop();const t=this.state.leaderboard,n=this.state.highScore,r=this.state.isServerConnected;this.state=this.getInitialState(),this.speedMultiplier=1,this.state.leaderboard=t,this.state.highScore=n,this.state.isServerConnected=r,this.waveTimer=0,this.spawnQueue=[],this.currentWaveTotal=0,this.onStateUpdate({...this.state})}restart(){this.reset(),this.rotateShop(),this.start()}async saveHighScore(t){var l,a;const n={name:t.substring(0,15),score:this.state.score,wave:this.state.wave,date:new Date().toISOString().split("T")[0]},r=[...this.state.leaderboard,n];r.sort((c,u)=>u.score-c.score),this.state.leaderboard=r.slice(0,10),this.state.highScore=((l=this.state.leaderboard[0])==null?void 0:l.score)||0,this.onStateUpdate({...this.state});const s=await Uf(n);this.state.leaderboard=s,this.state.highScore=((a=s[0])==null?void 0:a.score)||0,this.onStateUpdate({...this.state})}toggleTargetingMode(){const t=Object.values(tt),r=(t.indexOf(this.state.tower.targetingMode)+1)%t.length;this.state.tower.targetingMode=t[r]}setModuleTargeting(t,n){this.state.tower.moduleTargeting[t]=n,this.onStateUpdate({...this.state})}toggleGameSpeed(){this.speedMultiplier=this.speedMultiplier===1?2:1,this.state.gameSpeed=this.speedMultiplier,this.onStateUpdate({...this.state})}setFlavorText(t){this.state.flavorText=t}updateMouse(t,n){this.mouseX=t,this.mouseY=n}handleClick(){}buyUpgrade(t){if(this.state.gold>=t.cost){if(this.state.gold-=t.cost,Le.playUpgrade(),t.type===x.HEAL_TOWER)this.state.tower.hp=Math.min(this.state.tower.hp+100,this.state.tower.maxHp),this.spawnFloatingText(this.state.tower.x,this.state.tower.y-50,"+HP","#4ade80");else if(t.type===x.STAT_DAMAGE)this.state.tower.statMultipliers.damage+=.025;else if(t.type===x.STAT_SPEED)this.state.tower.statMultipliers.speed+=.1;else if(t.type===x.STAT_RANGE)this.state.tower.statMultipliers.range+=.1;else if(t.type===x.ECON_GPS)this.state.tower.goldPerSecond+=1,this.state.tower.modules[t.type]=(this.state.tower.modules[t.type]||0)+1,this.spawnFloatingText(this.state.tower.x,this.state.tower.y,"+GPS","#fcd34d");else if(t.type===x.ECON_BOUNTY)this.state.tower.statMultipliers.goldValue+=.15,this.state.tower.modules[t.type]=(this.state.tower.modules[t.type]||0)+1,this.spawnFloatingText(this.state.tower.x,this.state.tower.y,"+BOUNTY","#a16207");else if(t.type===x.STAT_REGEN)this.state.tower.hpRegen+=.5,this.state.tower.modules[t.type]=(this.state.tower.modules[t.type]||0)+1,this.spawnFloatingText(this.state.tower.x,this.state.tower.y-20,"+REGEN","#10b981");else{const n=this.state.tower.modules[t.type]||0;this.state.tower.modules[t.type]=n+1,this.state.tower.moduleTargeting[t.type]||(this.state.tower.moduleTargeting[t.type]=tt.NEAREST)}[x.ECON_GPS,x.ECON_BOUNTY,x.STAT_REGEN].includes(t.type)||this.spawnFloatingText(this.state.tower.x,this.state.tower.y,"","#fbbf24"),this.state.shopItems=this.state.shopItems.filter(n=>n.id!==t.id)}}triggerReroll(){this.state.gold>=this.state.rerollCost&&(this.state.gold-=this.state.rerollCost,this.state.rerollCost+=Af,this.rotateShop(),Le.playShoot(2))}getUpgradeCount(t){return t.startsWith("TURRET")||t.startsWith("ECON")||t===x.STAT_REGEN||t===x.HEAL_TOWER?this.state.tower.modules[t]||0:t===x.STAT_DAMAGE?Math.round((this.state.tower.statMultipliers.damage-1)*40):t===x.STAT_SPEED?Math.round((this.state.tower.statMultipliers.speed-1)*10):t===x.STAT_RANGE?Math.round((this.state.tower.statMultipliers.range-1)*10):0}rotateShop(){const t=[],n=Object.values(re).filter(a=>a.tier===1),r=Object.values(re).filter(a=>a.tier===2),s=Object.values(re).filter(a=>a.tier===3),l=Object.values(re).filter(a=>a.tier===4);for(let a=0;a<Mf;a++){let c=null;if(this.state.wave>=10&&Math.random()<.025&&l.length>0){let h=l.filter(g=>!(g.type===x.TURRET_CHAOS_RIFT&&this.state.wave<20||g.type===x.TURRET_OMNI&&this.state.wave<15));h=h.filter(g=>g.maxStacks?this.getUpgradeCount(g.type)<g.maxStacks:!0),h.length>0&&(c=h[Math.floor(Math.random()*h.length)])}if(!c){const h=Math.random();let g=1;this.state.wave>=8?h<.2?g=3:h<.6?g=2:g=1:this.state.wave>=4&&h<.4?g=2:g=1;let p=[];g===3?p=s:g===2?p=r:p=n,p=p.filter(S=>S.maxStacks?this.getUpgradeCount(S.type)<S.maxStacks:!0),p.length===0&&(p=[...n,...r,...s].filter(y=>y.maxStacks?this.getUpgradeCount(y.type)<y.maxStacks:!0)),p.length>0&&(c=p[Math.floor(Math.random()*p.length)])}if(!c)continue;const u=this.getUpgradeCount(c.type),o=Math.floor(c.baseCost*Math.pow(c.costScaling,u));t.push({id:`shop-${Date.now()}-${a}`,type:c.type,name:c.name,description:c.description,cost:o,color:c.color,damageType:c.damageType,tier:c.tier})}this.state.shopItems=t,this.state.shopTimer=jf}unlockAbility(t){const n=In[t],r=this.state.abilities[t];let s=n.cost;if(n.category==="PASSIVE"&&n.costScaling&&(s=Math.floor(n.cost*Math.pow(n.costScaling,r.level))),this.state.gold>=s){if(n.category==="ACTIVE"&&r.unlocked)return;if(this.state.gold-=s,r.unlocked=!0,r.level++,Le.playUpgrade(),n.category==="PASSIVE")switch(this.spawnFloatingText(this.state.player.x,this.state.player.y-30,`${n.name} LVL ${this.state.abilities[t].level}`,n.color),t){case L.PASSIVE_PHYSICAL:this.state.tower.damageTypeMultipliers.PHYSICAL+=n.statBonus||0;break;case L.PASSIVE_MAGIC:this.state.tower.damageTypeMultipliers.MAGIC+=n.statBonus||0;break;case L.PASSIVE_FIRE:this.state.tower.damageTypeMultipliers.FIRE+=n.statBonus||0;break;case L.PASSIVE_ICE:this.state.tower.damageTypeMultipliers.ICE+=n.statBonus||0;break;case L.PASSIVE_POISON:this.state.tower.damageTypeMultipliers.POISON+=n.statBonus||0;break;case L.PASSIVE_CHAOS:this.state.tower.damageTypeMultipliers.CHAOS+=n.statBonus||0;break}else this.spawnFloatingText(this.state.player.x,this.state.player.y-30,`${n.name} ONLINE`,n.color)}this.onStateUpdate({...this.state})}triggerAbility(t){const n=this.state.abilities[t],r=In[t];if(r.category!=="PASSIVE"&&n.unlocked&&!(n.cooldown>0)&&!(n.charges<=0))switch(n.cooldown=n.maxCooldown,n.activeTimer=r.duration*60,r.maxCharges!==1/0&&n.charges--,t){case L.NUKE:Le.playAbilityNuke(),this.shakeIntensity=50,this.spawnShockwave(Qt/2,Xt/2,"#ef4444",1500),this.state.enemies.forEach(s=>{s.isBoss?this.dealDamage(s,2e3*this.state.tower.damageTypeMultipliers.MAGIC,"MAGIC"):this.dealDamage(s,99999,"MAGIC"),this.spawnParticleExplosion(s.x,s.y,s.color,5)});break;case L.INVULNERABILITY:Le.playAbilityShield(),this.spawnFloatingText(this.state.tower.x,this.state.tower.y-60,"SHIELD ACTIVE","#3b82f6");break;case L.OVERCLOCK:Le.playAbilityOverclock(),this.spawnFloatingText(this.state.tower.x,this.state.tower.y-60,"SYSTEMS OVERCLOCKED","#eab308");break;case L.RANGE_BOOST:Le.playAbilityOverclock(),this.spawnFloatingText(this.state.tower.x,this.state.tower.y-60,"SENSORS OPTIMIZED","#22c55e");break}}update(t){if(this.ticks++,this.gpsTimer++,this.gpsTimer>=Je&&(this.state.tower.goldPerSecond>0&&(this.state.gold+=this.state.tower.goldPerSecond),this.state.tower.hpRegen>0&&this.state.tower.hp<this.state.tower.maxHp&&(this.state.tower.hp=Math.min(this.state.tower.maxHp,this.state.tower.hp+this.state.tower.hpRegen)),this.state.tower.disruptionTimer>0&&this.state.tower.disruptionTimer--,this.gpsTimer=0),this.shakeIntensity>0){const n=(Math.random()-.5)*2*this.shakeIntensity,r=(Math.random()-.5)*2*this.shakeIntensity;this.state.cameraShake={x:n,y:r},this.shakeIntensity*=.9,this.shakeIntensity<.5&&(this.shakeIntensity=0,this.state.cameraShake={x:0,y:0})}else this.state.cameraShake={x:0,y:0};Object.keys(this.state.abilities).forEach(n=>{const r=n,s=this.state.abilities[r];s.cooldown>0&&s.cooldown--,s.activeTimer>0&&s.activeTimer--}),this.state.tower.isInvulnerable=this.state.abilities[L.INVULNERABILITY].activeTimer>0,this.state.tower.isOverclocked=this.state.abilities[L.OVERCLOCK].activeTimer>0,this.state.tower.isRangeBoosted=this.state.abilities[L.RANGE_BOOST].activeTimer>0,this.state.shopTimer>0&&(this.state.shopTimer--,this.state.shopTimer<=0&&this.rotateShop()),this.updatePlayer(),this.manageWaves(),this.updateTower(),this.updateEnemies(),this.updateHoveredEnemy(),this.updateProjectiles(),this.updateParticles(),this.state.score>this.state.highScore&&(this.state.highScore=this.state.score)}updatePlayer(){this.state.player.hp<this.state.player.maxHp&&(this.state.player.hp+=.05)}updateTower(){const t=this.state.tower,n=t.isOverclocked?2:1,r=t.isRangeBoosted?2:1,s=t.disruptionTimer>0?.8:1;Object.entries(t.modules).forEach(([l,a])=>{if(a<=0||l===x.ECON_GPS||l===x.ECON_BOUNTY||l===x.STAT_REGEN)return;if(l===x.TURRET_ORBITAL){const y=re[x.TURRET_ORBITAL],T=Math.floor(a/10),A=a%10,d=T+A,f=(t.statMultipliers.range-1)*.5,m=(t.radius+150)*(1+f),E=1.5*t.statMultipliers.speed*n*s,j=this.ticks/60,M=t.damageTypeMultipliers.MAGIC||1,w=(y.damage||40)*t.statMultipliers.damage*n*M,R=y.knockback||0;for(let N=0;N<d;N++){const I=j*E+N*(Math.PI*2/d),b=t.x+Math.cos(I)*m,G=t.y+Math.sin(I)*m,D=N<T,J=D?24:16,_e=D?w*10:w;for(const z of this.state.enemies){if(z.orbitalHitTimer>0)continue;if(Math.hypot(z.x-b,z.y-G)<z.radius+J&&(this.dealDamage(z,_e,"MAGIC",!0),this.spawnParticleExplosion(b,G,"#818cf8",D?6:3),z.orbitalHitTimer=8,R>0)){const O=Math.atan2(z.y-t.y,z.x-t.x);z.x+=Math.cos(O)*R,z.y+=Math.sin(O)*R}}}return}const c=re[l];if(!c)return;if(t.moduleCooldowns[l]||(t.moduleCooldowns[l]=0),t.moduleCooldowns[l]>0){t.moduleCooldowns[l]--;return}let u=(c.range||200)*t.statMultipliers.range;l===x.TURRET_FLAMETHROWER&&(u=c.range||160),u*=r;let o=(c.cooldown||60)/t.statMultipliers.speed;t.isOverclocked&&(o/=2),t.disruptionTimer>0&&(o/=.8);const h=c.damageType||"PHYSICAL",g=t.damageTypeMultipliers[h]||1,p=(c.damage||10)*t.statMultipliers.damage*n*g;if(l===x.TURRET_OMNI){const y=p*a,T=this.ticks/50;for(let A=0;A<8;A++){const d=A*(Math.PI/4)+T;this.shootProjectile(t,t.x+Math.cos(d)*u,t.y+Math.sin(d)*u,10,y,h,u/10,c.color,"NONE",0,0,0,!1)}t.moduleCooldowns[l]=o;return}let S=null;if(l===x.TURRET_CHAOS_RIFT){const y=this.state.enemies.filter(d=>d.isBoss),T=y.length>0?y:this.state.enemies;let A=-1;for(const d of T)d.hp>A&&(A=d.hp,S=d)}else{const y=t.moduleTargeting[l]||tt.NEAREST;S=this.findTarget(t.x,t.y,u,h,y)}if(S){let y=Math.floor(a/10);const T=a%10;y>10&&(y=10);let A=10,d=.5;l===x.TURRET_REPULSOR?A=6:l===x.TURRET_BALLISTA||l===x.TURRET_CHAOS_BEAM?A=18:l===x.TURRET_FLAMETHROWER?(A=8,d=.8):l===x.TURRET_MAGIC_MISSILE?A=8:l===x.TURRET_CHAOS_BOLT?(A=12,d=.3):l===x.TURRET_CHAOS_RIFT&&(A=6),t.isOverclocked&&(A*=1.5);let f=0;if(l===x.TURRET_CHAOS_RIFT){const E=Math.hypot(S.x-t.x,S.y-t.y);f=Math.ceil(E/A)+10}else f=u/A+5;const m=(E,j)=>{for(let M=0;M<E;M++){let w=(Math.random()-.5)*d;l===x.TURRET_CLUSTER_BOMB&&(w=(Math.random()-.5)*.4);const R=j?p*10:p;this.shootProjectile(t,S.x,S.y,A,R,h,f,c.color,c.effect,w,c.knockback,c.pierce,j)}};m(y,!0),m(T,!1),t.moduleCooldowns[l]=o}})}findTarget(t,n,r,s,l){let a=this.state.enemies.filter(c=>Math.hypot(c.x-t,c.y-n)<=r);return a.length===0?null:(a.sort((c,u)=>{if(s==="CHAOS"){if(c.isBoss&&!u.isBoss)return-1;if(!c.isBoss&&u.isBoss)return 1}if(s){const o=c.resistances[s]||1,h=u.resistances[s]||1,g=o>1.1,p=h>1.1;if(g&&!p)return-1;if(!g&&p)return 1}if(l===tt.STRONGEST)return u.hp-c.hp;if(l===tt.FASTEST)return u.speed-c.speed;{const o=Math.hypot(c.x-t,c.y-n),h=Math.hypot(u.x-t,u.y-n);return o-h}}),a[0])}updateHoveredEnemy(){let t=null,n=1/0;for(const r of this.state.enemies){const s=Math.hypot(r.x-this.mouseX,r.y-this.mouseY);s<r.radius+15&&s<n&&(n=s,t=r)}this.state.hoveredEnemy=t}updateEnemies(){const t=this.state.tower;this.state.player;const n=this.state.enemies.filter(s=>s.isBoss);this.state.enemies.forEach(s=>{s.buffs.damage=!1,s.buffs.speed=!1,s.buffs.defense=!1,n.forEach(l=>{if(s.id===l.id)return;Math.hypot(s.x-l.x,s.y-l.y)<To&&(s.buffs.damage=!0,s.buffs.speed=!0,s.buffs.defense=!0)})});const r=[];this.state.enemies.forEach(s=>{const l=Math.hypot(s.x-t.x,s.y-t.y);if(l>2200){s.remove=!0;return}if(s.enemyType===k.BROODMOTHER)if(s.abilityCooldown<=0){const a=3+Math.floor(Math.random()*3);for(let c=0;c<a;c++){const u=Math.random()*Math.PI*2,o=s.radius+20,h=s.x+Math.cos(u)*o,g=s.y+Math.sin(u)*o,p=Ct[k.SWARMER],S=Math.pow(1.25,this.state.wave);r.push({id:`swarmer-${Date.now()}-${Math.random()}`,enemyType:k.SWARMER,type:ze.ENEMY,isBoss:!1,isElite:!1,x:h,y:g,radius:p.radius,color:p.color,hp:20*S*p.hpMod,maxHp:20*S*p.hpMod,speed:p.speed*(1+this.state.wave*.01),damage:10+this.state.wave,value:Math.floor(5*(1+this.state.wave*.1)*p.valueMod),frozenTimer:0,poisonTimer:0,poisonStacks:0,orbitalHitTimer:0,shield:0,maxShield:0,shieldRegenTimer:0,abilityCooldown:0,isSpeedBursting:!1,buffs:{defense:!1,speed:!1,damage:!1},resistances:p.resistances,splitTier:0,maxSplitTier:0,orbitAngle:0,orbitRadius:0,powerRating:p.powerRating})}s.abilityCooldown=5*Je}else s.abilityCooldown--;if(s.enemyType===k.WORM){const a=350+Math.sin(this.ticks*.01)*150,c=l,u=Math.atan2(t.y-s.y,t.x-s.x),o=u+Math.PI/2;if(s.x+=Math.cos(o)*s.speed,s.y+=Math.sin(o)*s.speed,c>a+10?(s.x+=Math.cos(u)*s.speed*.5,s.y+=Math.sin(u)*s.speed*.5):c<a-10&&(s.x-=Math.cos(u)*s.speed*.5,s.y-=Math.sin(u)*s.speed*.5),s.abilityCooldown<=0){const h=Math.random()>.5?k.STALKER:k.ORBITER,g=2;for(let p=0;p<g;p++){const S=Math.random()*Math.PI*2,y=s.radius+30,T=s.x+Math.cos(S)*y,A=s.y+Math.sin(S)*y,d=Ct[h],f=Math.pow(1.15,this.state.wave);r.push({id:`wormspawn-${Date.now()}-${Math.random()}`,enemyType:h,type:ze.ENEMY,isBoss:!1,isElite:!1,x:T,y:A,radius:d.radius,color:d.color,hp:20*f*d.hpMod,maxHp:20*f*d.hpMod,speed:d.speed*(1+this.state.wave*.01),damage:10+this.state.wave,value:Math.floor(4.5*(1+this.state.wave*.1)*d.valueMod),frozenTimer:0,poisonTimer:0,poisonStacks:0,orbitalHitTimer:0,shield:(d.shieldMod||0)*(20*f*.5),maxShield:(d.shieldMod||0)*(20*f*.5),shieldRegenTimer:0,abilityCooldown:0,isSpeedBursting:!1,buffs:{defense:!1,speed:!1,damage:!1},resistances:d.resistances,splitTier:0,maxSplitTier:0,orbitAngle:0,orbitRadius:0,powerRating:d.powerRating})}s.abilityCooldown=4*Je}else s.abilityCooldown--}else if(s.enemyType===k.HEALER){const a=l,c=Math.atan2(t.y-s.y,t.x-s.x);if(a>Oa)s.x+=Math.cos(c)*s.speed,s.y+=Math.sin(c)*s.speed;else{const u=c+Math.PI/2;s.x+=Math.cos(u)*s.speed,s.y+=Math.sin(u)*s.speed,a<Oa-10&&(s.x-=Math.cos(c)*.5,s.y-=Math.sin(c)*.5)}if(s.abilityCooldown<=0){this.spawnShockwave(s.x,s.y,s.color,_a);const u=Pf+this.state.wave*2;let o=0;this.state.enemies.forEach(h=>{h.id!==s.id&&Math.hypot(h.x-s.x,h.y-s.y)<_a&&h.shield<h.maxHp&&(h.shield+=u,h.maxShield=Math.max(h.maxShield,h.shield),o++)}),o>0&&this.spawnFloatingText(s.x,s.y-20,"SHIELD","#60a5fa"),s.abilityCooldown=Lf}else s.abilityCooldown--}else if(s.enemyType===k.STALKER){const a=Math.sin(this.ticks*.1)*2;s.x+=Math.cos(a),s.y+=Math.sin(a);const c=Math.atan2(t.y-s.y,t.x-s.x);s.x+=Math.cos(c)*s.speed,s.y+=Math.sin(c)*s.speed}else if(s.enemyType===k.ORBITER){s.orbitRadius===0&&(s.orbitRadius=l,s.orbitAngle=Math.atan2(s.y-t.y,s.x-t.x)),s.orbitRadius>20&&(s.orbitRadius-=s.speed*.5);const a=Math.max(.005,s.speed/(s.orbitRadius||1)),c=Math.min(.02,a);s.orbitAngle+=c;const u=t.x+Math.cos(s.orbitAngle)*s.orbitRadius,o=t.y+Math.sin(s.orbitAngle)*s.orbitRadius,h=Math.atan2(o-s.y,u-s.x);s.x+=Math.cos(h)*s.speed,s.y+=Math.sin(h)*s.speed}else if(s.enemyType===k.DISRUPTOR){const a=Math.sin(this.ticks*.2)*1.5,u=Math.atan2(t.y-s.y,t.x-s.x)+a;let o=s.speed;s.frozenTimer>0&&(o*=.5,s.frozenTimer--),s.buffs.speed&&(o*=1.2),s.x+=Math.cos(u)*o,s.y+=Math.sin(u)*o}else{s.enemyType===k.RUNNER&&!s.isSpeedBursting&&l<Of&&(s.isSpeedBursting=!0,s.speed*=_f);const a=Math.atan2(t.y-s.y,t.x-s.x);let c=s.speed;s.frozenTimer>0&&(c*=.5,s.frozenTimer--),s.buffs.speed&&(c*=1.2),s.x+=Math.cos(a)*c,s.y+=Math.sin(a)*c}if(s.poisonTimer>0){if(this.ticks%30===0){const a=t.damageTypeMultipliers.POISON||1,c=s.poisonStacks*2*a;this.dealDamage(s,c,"POISON",!0)}s.poisonTimer--}if(s.maxShield>0&&s.shield<s.maxShield&&(s.shieldRegenTimer>0?s.shieldRegenTimer--:s.shield+=.5),l<t.radius+s.radius){if(!t.isInvulnerable){s.enemyType===k.DISRUPTOR&&(t.disruptionTimer=5*Je,this.spawnFloatingText(t.x,t.y-60,"SYSTEM ERROR","#22d3ee"),Le.playTowerDamage());let a=s.damage;s.buffs.damage&&(a*=1.2),t.hp-=a,this.spawnFloatingText(t.x,t.y-20,`-${Math.round(a)}`,"#ef4444"),Le.playTowerDamage(),this.shakeIntensity=5+a/10}s.remove=!0,t.hp<=0&&(this.state.isGameOver=!0)}}),this.state.enemies.push(...r),this.state.enemies=this.state.enemies.filter(s=>!s.remove)}updateProjectiles(){this.state.projectiles.forEach(t=>{if(t.life--,t.life<=0){t.remove=!0,t.effect==="EXPLOSIVE"&&this.explodeProjectile(t);return}t.x+=t.vx,t.y+=t.vy;for(const n of this.state.enemies){if(t.hitList&&t.hitList.includes(n.id))continue;const r=Math.hypot(n.x-t.x,n.y-t.y),s=t.radius+(t.isElite?2:0);if(r<n.radius+s){if(this.dealDamage(n,t.damage,t.damageType),t.effect==="FREEZE"&&(n.frozenTimer=120),t.effect==="POISON"&&(n.poisonTimer=300,n.poisonStacks++),t.knockback){const l=Math.atan2(n.y-this.state.tower.y,n.x-this.state.tower.x);n.x+=Math.cos(l)*t.knockback,n.y+=Math.sin(l)*t.knockback}if(t.pierce&&t.pierce>0)t.pierce--,t.hitList||(t.hitList=[]),t.hitList.push(n.id);else{t.remove=!0,t.effect==="EXPLOSIVE"?this.explodeProjectile(t):this.spawnParticleExplosion(t.x,t.y,t.color,t.isElite?6:3);break}}}}),this.state.projectiles=this.state.projectiles.filter(t=>!t.remove)}explodeProjectile(t){const n=t.effectRadius||100;this.spawnShockwave(t.x,t.y,t.color,n),this.state.enemies.forEach(r=>{Math.hypot(r.x-t.x,r.y-t.y)<n&&this.dealDamage(r,t.damage,t.damageType)})}dealDamage(t,n,r,s=!1){if(t.remove)return;let l=t.resistances[r]||1;r==="CHAOS"&&(l=Math.max(1,l));let a=n*l;if(t.buffs.defense&&(a*=.5),t.shield>0)if(t.shield>=a){t.shield-=a,a=0,t.shieldRegenTimer=180,this.spawnFloatingText(t.x,t.y-t.radius,"","#60a5fa");return}else a-=t.shield,t.shield=0,t.shieldRegenTimer=300;t.hp-=a,s||this.spawnFloatingText(t.x+(Math.random()*20-10),t.y-t.radius,Math.round(a).toString(),ur[r]),t.hp<=0&&this.killEnemy(t)}killEnemy(t){if(t.remove)return;t.remove=!0;const n=t.enemyType;if(this.state.killCounts[n]=(this.state.killCounts[n]||0)+1,t.enemyType!==k.FRACTAL||t.splitTier===0){this.state.score+=Math.floor(t.value*10);const r=this.state.tower.statMultipliers.goldValue,s=Math.ceil(t.value*r);this.state.gold+=s,this.spawnFloatingText(t.x,t.y,`+${s}g`,"#fcd34d")}if(this.spawnParticleExplosion(t.x,t.y,t.color,8),Le.playEnemyDeath(t.isBoss?2:1),t.isBoss&&(this.shakeIntensity=20,this.spawnShockwave(t.x,t.y,t.color,300)),t.enemyType===k.FRACTAL&&t.splitTier<t.maxSplitTier)for(let r=0;r<2;r++){Ct[k.FRACTAL];const s=t.splitTier+1,l={...t,id:`fractal-${Date.now()}-${Math.random()}`,x:t.x+(Math.random()*20-10),y:t.y+(Math.random()*20-10),hp:t.maxHp*.6,maxHp:t.maxHp*.6,radius:t.radius*.7,value:0,splitTier:s,remove:!1};this.state.enemies.push(l)}}updateParticles(){this.state.particles.forEach(t=>{if(t.life--,t.x+=t.vx,t.y+=t.vy,t.type===ze.SHOCKWAVE&&t.endRadius&&t.startRadius){const n=1-t.life/t.maxLife;t.radius=t.startRadius+(t.endRadius-t.startRadius)*n}}),this.state.particles=this.state.particles.filter(t=>t.life>0),this.state.floatingTexts.forEach(t=>{t.life--,t.y+=t.vy}),this.state.floatingTexts=this.state.floatingTexts.filter(t=>t.life>0)}spawnProjectile(t,n,r,s,l,a,c,u,o,h=0,g=0,p=0){}shootProjectile(t,n,r,s,l,a,c,u,o,h,g,p,S=!1){const y=Math.atan2(r-t.y,n-t.x)+h,T=Math.cos(y)*s,A=Math.sin(y)*s;this.state.projectiles.push({id:`proj-${this.ticks}-${Math.random()}`,type:ze.PROJECTILE,x:t.x,y:t.y,vx:T,vy:A,radius:4,color:u,damage:l,damageType:a,life:c,effect:o,effectRadius:o==="EXPLOSIVE"?120:0,knockback:g,pierce:p,isElite:S}),t.type===ze.TOWER&&this.ticks%5===0&&Le.playShoot(1+Math.random()*.2)}spawnParticleExplosion(t,n,r,s){for(let l=0;l<s;l++){const a=Math.random()*Math.PI*2,c=Math.random()*2+1;this.state.particles.push({id:`part-${Math.random()}`,type:ze.PARTICLE,x:t,y:n,vx:Math.cos(a)*c,vy:Math.sin(a)*c,life:30+Math.random()*20,maxLife:50,radius:Math.random()*3+1,color:r})}}spawnShockwave(t,n,r,s){this.state.particles.push({id:`shock-${Math.random()}`,type:ze.SHOCKWAVE,x:t,y:n,vx:0,vy:0,radius:10,startRadius:10,endRadius:s,life:20,maxLife:20,color:r,width:5})}spawnFloatingText(t,n,r,s){this.state.floatingTexts.push({id:`text-${Math.random()}`,type:ze.TEXT,text:r,x:t,y:n,vx:0,vy:-1,life:Je,color:s,radius:0})}manageWaves(){const t=this.state.enemies.some(n=>n.isBoss);if(this.spawnQueue.length>0)if(this.spawnTimer<=0){const n=this.spawnQueue.shift();n&&this.spawnEnemy(n),this.spawnTimer=Math.max(10,Je-this.state.wave*2)}else this.spawnTimer--;else if(t)if(this.spawnTimer<=0){const n=[k.GRUNT,k.RUNNER];this.state.wave>10&&n.push(k.STALKER);const r=1+Math.floor(Math.random()*2);for(let s=0;s<r;s++){const l=n[Math.floor(Math.random()*n.length)];this.spawnQueue.push(l)}this.spawnTimer=Je*2}else this.spawnTimer--;else this.state.enemies.length===0&&(this.waveTimer<=0?this.startNextWave():this.waveTimer--);!t&&this.state.enemies.length>0&&this.spawnQueue.length===0&&this.state.wave%Aa!==0&&this.state.enemies.length<=this.currentWaveTotal*.34&&this.startNextWave()}startNextWave(){this.state.wave++,this.onWaveStart(this.state.wave),Le.playWaveStart(),this.spawnFloatingText(Qt/2,Xt/2-200,` ${this.state.wave}`,"#fff"),this.spawnQueue=[];const t=this.state.wave,n=t>0&&t%Aa===0;let s=(8+t*2)*1.5;const a=[{name:"SWARM",minWave:0,weights:{[k.GRUNT]:5,[k.RUNNER]:3},powerMult:.9},{name:"BALANCED",minWave:0,weights:{[k.GRUNT]:3,[k.RUNNER]:2,[k.TANK]:1,[k.STALKER]:1},powerMult:1},{name:"AGILE",minWave:4,weights:{[k.RUNNER]:4,[k.STALKER]:3,[k.ORBITER]:2},powerMult:1},{name:"HEAVY",minWave:6,weights:{[k.TANK]:4,[k.HEALER]:2,[k.GRUNT]:2},powerMult:1.2},{name:"ELITE",minWave:12,weights:{[k.FRACTAL]:2,[k.TANK]:2,[k.HEALER]:1,[k.ORBITER]:1,[k.DISRUPTOR]:2},powerMult:1.3},{name:"CHAOS",minWave:15,weights:{[k.FRACTAL]:3,[k.ORBITER]:2,[k.STALKER]:2,[k.DISRUPTOR]:2},powerMult:1.1}].filter(o=>t>=o.minWave),c=a[Math.floor(Math.random()*a.length)];s*=c.powerMult;const u=[];for(Object.entries(c.weights).forEach(([o,h])=>{const g=o,p=Ct[g].minWave;if(t>=p)for(let S=0;S<h;S++)u.push(g)}),u.length===0&&u.push(k.GRUNT);s>0;){const o=u[Math.floor(Math.random()*u.length)],h=Ct[o].powerRating;if(h>s&&s<2)if(s>=1)this.spawnQueue.push(k.GRUNT),s-=1;else break;else this.spawnQueue.push(o),s-=h}if(n){let o=k.BOSS;if(t>=30){const h=Math.random();h<.33?o=k.BOSS:h<.66?o=k.BROODMOTHER:o=k.WORM,t===30&&(o=k.WORM)}else t>=20&&(t===20||Math.random()>.5)&&(o=k.BROODMOTHER);t===15?(this.spawnQueue.unshift(k.BOSS),this.spawnQueue.unshift(k.BOSS)):this.spawnQueue.unshift(o)}this.currentWaveTotal=this.spawnQueue.length,this.spawnTimer=Je,this.waveTimer=3*Je}spawnEnemy(t){const n=Math.random()*Math.PI*2,r=Math.max(Qt,Xt)/2+100,s=Qt/2+Math.cos(n)*r,l=Xt/2+Math.sin(n)*r,a=this.state.wave,c=Ct[t],u=t===k.BOSS||t===k.BROODMOTHER||t===k.WORM,o=!u&&Math.random()<.05+a*.005,h=Math.pow(1.15,a);this.state.enemies.push({id:`enemy-${Date.now()}-${Math.random()}`,enemyType:t,type:ze.ENEMY,isBoss:u,isElite:o,x:s,y:l,radius:c.radius*(o?1.2:1),color:o?"#fbbf24":c.color,hp:20*h*c.hpMod*(o?3:1),maxHp:20*h*c.hpMod*(o?3:1),speed:c.speed*(1+a*.01),damage:(10+a)*(o?2:1),value:Math.floor(4.5*(1+a*.1)*c.valueMod*(o?5:1)),frozenTimer:0,poisonTimer:0,poisonStacks:0,orbitalHitTimer:0,shield:(c.shieldMod||0)*(20*h*.5),maxShield:(c.shieldMod||0)*(20*h*.5),shieldRegenTimer:0,abilityCooldown:0,isSpeedBursting:!1,buffs:{defense:!1,speed:!1,damage:!1},resistances:c.resistances,splitTier:0,maxSplitTier:2,orbitAngle:0,orbitRadius:0,powerRating:c.powerRating})}}const Ff=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:{r:15,g:23,b:42}},Vf=e=>{const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/);return t?{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10),a:parseFloat(t[4]||"1")}:{r:124,g:58,b:237,a:.15}},$t=(e,t,n)=>e+(t-e)*n,Wf=({engine:e,width:t,height:n})=>{const r=W.useRef(null),s=W.useRef([]),l=W.useRef([]),a=W.useRef(!1),c=W.useRef({bg:{r:15,g:23,b:42},nebula:{r:124,g:58,b:237,a:.15}});return W.useEffect(()=>{if(!a.current){for(let u=0;u<200;u++)s.current.push({x:Math.random(),y:Math.random(),size:Math.random()*1.5+.5,baseAlpha:Math.random()*.6+.1,flickerSpeed:Math.random()*2+.5,phase:Math.random()*Math.PI*2});for(let u=0;u<5;u++)l.current.push({x:Math.random(),y:Math.random(),radius:.4+Math.random()*.4,vx:(Math.random()-.5)*.005,vy:(Math.random()-.5)*.005});a.current=!0}},[]),W.useEffect(()=>{const u=r.current;if(!u||!e)return;const o=u.getContext("2d");if(!o)return;const h=t/Qt,g=n/Xt,p=1/h;let S;const y=["rgba(124, 58, 237, 0.15)","rgba(34, 197, 94, 0.15)","rgba(239, 68, 68, 0.15)","rgba(34, 211, 238, 0.15)","rgba(216, 180, 254, 0.15)","rgba(255, 255, 255, 0.05)","rgba(245, 158, 11, 0.15)"],T=()=>{const A=e.getState();if(!A)return;const d=Date.now()/1e3,f=Math.floor((Math.max(1,A.wave)-1)/5)%Ps.length,m=Ps[f],E=Ff(m),j=y[f]||y[0],M=Vf(j),w=.02,R=c.current;R.bg.r=$t(R.bg.r,E.r,w),R.bg.g=$t(R.bg.g,E.g,w),R.bg.b=$t(R.bg.b,E.b,w),R.nebula.r=$t(R.nebula.r,M.r,w),R.nebula.g=$t(R.nebula.g,M.g,w),R.nebula.b=$t(R.nebula.b,M.b,w),R.nebula.a=$t(R.nebula.a,M.a,w);const N=`rgb(${Math.round(R.bg.r)}, ${Math.round(R.bg.g)}, ${Math.round(R.bg.b)})`,I=`rgba(${Math.round(R.nebula.r)}, ${Math.round(R.nebula.g)}, ${Math.round(R.nebula.b)}, ${R.nebula.a.toFixed(3)})`;o.fillStyle=N,o.fillRect(0,0,t,n),l.current.forEach(v=>{v.x+=v.vx*.1,v.y+=v.vy*.1,v.x<-.5&&(v.x+=1.5),v.x>1.5&&(v.x-=1.5),v.y<-.5&&(v.y+=1.5),v.y>1.5&&(v.y-=1.5);const X=v.x*t,B=v.y*n,ae=v.radius*Math.max(t,n),Y=o.createRadialGradient(X,B,0,X,B,ae);Y.addColorStop(0,I),Y.addColorStop(1,"transparent"),o.fillStyle=Y,o.beginPath(),o.arc(X,B,ae,0,Math.PI*2),o.fill()}),s.current.forEach(v=>{const X=Math.sin(d*v.flickerSpeed+v.phase),B=v.baseAlpha+X*.1;o.fillStyle=`rgba(255, 255, 255, ${Math.max(0,Math.min(1,B))})`,o.beginPath(),o.arc(v.x*t,v.y*n,v.size,0,Math.PI*2),o.fill()}),o.save(),o.scale(h,g),A.cameraShake&&(A.cameraShake.x!==0||A.cameraShake.y!==0)&&o.translate(A.cameraShake.x,A.cameraShake.y);const b=A.tower;if(o.save(),o.translate(b.x,b.y),o.fillStyle="#334155",o.beginPath(),o.arc(0,0,b.radius+5,0,Math.PI*2),o.fill(),o.fillStyle=b.hp<b.maxHp*.3?"#ef4444":b.color,o.beginPath(),o.arc(0,0,b.radius,0,Math.PI*2),o.fill(),b.disruptionTimer>0){o.save(),o.strokeStyle="#22d3ee",o.lineWidth=1;for(let v=0;v<5;v++){o.beginPath();const X=(Math.random()-.5)*b.radius*2,B=(Math.random()-.5)*b.radius*2;o.moveTo(B-10,X),o.lineTo(B+10,X),o.stroke()}o.restore()}const G=b.modules[x.ECON_GPS]||0,D=b.modules[x.ECON_BOUNTY]||0,J=b.modules[x.STAT_REGEN]||0;if(G>0||D>0||J>0){o.save();const v=d*.8;o.rotate(v),o.strokeStyle="rgba(255, 255, 255, 0.2)",o.lineWidth=3,o.beginPath(),o.arc(0,0,b.radius+8,0,Math.PI*2),o.stroke();const X=Math.min(16,G+D+J);for(let B=0;B<X;B++){const ae=Math.PI*2*B/X;B<G||B<G+D?o.fillStyle=_.ECONOMY:o.fillStyle=_.POISON,o.beginPath(),o.arc(Math.cos(ae)*(b.radius+8),Math.sin(ae)*(b.radius+8),2,0,Math.PI*2),o.fill()}o.restore()}const _e=b.modules[x.TURRET_ARROW]||0,z=b.modules[x.TURRET_REPULSOR]||0,F=b.modules[x.TURRET_FIREBALL]||0,O=b.modules[x.TURRET_ICICLE]||0,U=b.modules[x.TURRET_MAGIC_MISSILE]||0,H=b.modules[x.TURRET_POISON]||0,K=_e+z+F+O+U+H;if(K>0){const v=b.radius+16,X=Math.min(K,16);for(let B=0;B<X;B++){const ae=d*1.5+B*(Math.PI*2/X),Y=Math.cos(ae)*v,ce=Math.sin(ae)*v;B<z?o.fillStyle=_.PHYSICAL:B<z+F?o.fillStyle=_.FIRE:B<z+F+O?o.fillStyle=_.ICE:B<z+F+O+U?o.fillStyle=_.MAGIC:B<z+F+O+U+H?o.fillStyle=_.POISON:o.fillStyle=_.PHYSICAL,o.beginPath(),o.rect(Y-2,ce-2,4,4),o.fill()}}const q=(b.modules[x.TURRET_CANNON]||0)+(b.modules[x.TURRET_CLUSTER_BOMB]||0),Rt=(b.modules[x.TURRET_ICE]||0)+(b.modules[x.TURRET_PERMAFROST]||0),Xe=b.modules[x.TURRET_TOXIN]||0,Fn=b.modules[x.TURRET_ARCANE]||0,dt=b.modules[x.TURRET_FLAMETHROWER]||0,un=(b.modules[x.TURRET_CHAOS_BOLT]||0)+(b.modules[x.TURRET_CHAOS_BEAM]||0),yi=[{count:q,color:_.FIRE},{count:Rt,color:_.ICE},{count:Xe,color:_.POISON},{count:Fn,color:_.MAGIC},{count:un,color:_.CHAOS,isChaos:!0},{count:dt,color:_.FIRE,isLegendary:!0}].filter(v=>v.count>0),qs=yi.reduce((v,X)=>v+X.count,0);if(qs>0){const v=b.radius+28,X=Math.min(qs,16);let B=0,ae=-d;yi.forEach(Y=>{const ce=Math.ceil(Y.count/qs*X);for(let Re=0;Re<ce&&B<X;Re++){const ft=Math.cos(ae)*v,ht=Math.sin(ae)*v;o.shadowColor=Y.color,o.shadowBlur=6,o.fillStyle=Y.color,Y.isLegendary?(o.save(),o.translate(ft,ht),o.rotate(ae),o.fillRect(-6,-4,12,8),o.fillStyle=_.ECONOMY,o.fillRect(4,-2,4,4),o.restore()):Y.isChaos?(o.save(),o.translate(ft,ht),o.rotate(ae*2),o.beginPath(),o.moveTo(0,-6),o.lineTo(6,0),o.lineTo(0,6),o.lineTo(-6,0),o.fill(),o.restore()):(o.beginPath(),o.arc(ft,ht,5,0,Math.PI*2),o.fill()),o.shadowBlur=0,ae+=Math.PI*2/X,B++}})}const qu=b.modules[x.TURRET_SNIPER]||0,Or=b.modules[x.TURRET_BALLISTA]||0,el=b.modules[x.TURRET_CHAOS_RIFT]||0,wi=b.modules[x.TURRET_OMNI]||0,Si=qu+Or+el+wi;if(Si>0){const v=b.radius+40,X=Math.min(Si,8);for(let B=0;B<X;B++){const ae=d*.5+B*(Math.PI*2/X);if(o.save(),o.rotate(ae),o.translate(v,0),B<Or)o.fillStyle=_.PHYSICAL,o.beginPath(),o.moveTo(0,-6),o.lineTo(8,0),o.lineTo(0,6),o.lineTo(-4,0),o.fill();else if(B<Or+el)o.fillStyle="#4a044e",o.beginPath(),o.arc(0,0,6,0,Math.PI*2),o.fill(),o.strokeStyle=_.CHAOS,o.lineWidth=1,o.stroke();else if(B<Or+el+wi){o.fillStyle=_.PHYSICAL;for(let Y=0;Y<8;Y++){const ce=Y*(Math.PI/4)+d*2;o.save(),o.rotate(ce),o.beginPath(),o.moveTo(3,0),o.lineTo(6,0),o.strokeStyle=_.PHYSICAL,o.lineWidth=1.5,o.stroke(),o.restore()}o.beginPath(),o.arc(0,0,3,0,Math.PI*2),o.fill()}else o.fillStyle=_.PHYSICAL,o.beginPath(),o.moveTo(0,-3),o.lineTo(12,0),o.lineTo(0,3),o.fill();o.restore()}}const tl=b.modules[x.TURRET_ORBITAL]||0;if(tl>0){const v=b.radius+150,X=1.5*b.statMultipliers.speed;o.strokeStyle="rgba(236, 72, 153, 0.1)",o.lineWidth=1,o.beginPath(),o.arc(0,0,v,0,Math.PI*2),o.stroke();let B=Math.floor(tl/10);B>10&&(B=10);const ae=tl%10,Y=B+ae;for(let ce=0;ce<Y;ce++){const Re=d*X+ce*(Math.PI*2/Y),ft=Math.cos(Re)*v,ht=Math.sin(Re)*v,pe=ce<B,Pe=pe?1.5:1,Pr=pe?"#f472b6":"#fbcfe8";o.save(),o.beginPath(),o.strokeStyle=`rgba(236, 72, 153, ${pe?.8:.4})`,o.lineWidth=4*Pe,o.arc(0,0,v,Re-.5*Pe,Re),o.stroke(),o.restore(),o.save(),o.shadowColor=_.MAGIC,o.shadowBlur=pe?30:20,o.fillStyle=Pr,o.beginPath(),o.arc(ft,ht,8*Pe,0,Math.PI*2),o.fill(),o.fillStyle="#fff",o.beginPath(),o.arc(ft,ht,4*Pe,0,Math.PI*2),o.fill(),pe&&(o.strokeStyle="#fff",o.lineWidth=2,o.beginPath(),o.arc(ft,ht,12,0,Math.PI*2),o.stroke()),o.restore()}}if(b.statMultipliers.damage>1.5){o.save(),o.globalAlpha=.15,o.fillStyle=_.FIRE,o.beginPath();const v=Math.sin(d*5)*2;o.arc(0,0,b.radius+8+v,0,Math.PI*2),o.fill(),o.restore()}const _r=60*p,nl=6*p,Ei=b.radius+10+nl/2;o.fillStyle="#000",o.fillRect(-_r/2,Ei,_r,nl),o.fillStyle=b.hp<b.maxHp*.3?"#ef4444":"#4ade80",o.fillRect(-_r/2,Ei,_r*(b.hp/b.maxHp),nl),o.restore(),A.enemies.forEach(v=>{var ae;if(o.save(),o.translate(v.x,v.y),((ae=A.hoveredEnemy)==null?void 0:ae.id)===v.id&&(o.strokeStyle="#fff",o.lineWidth=2*p,o.beginPath(),o.arc(0,0,v.radius+5,0,Math.PI*2),o.stroke()),v.isElite){const Y=Math.sin(d*8),ce=6+Y*2,Re=.2+Y*.15;o.save(),o.fillStyle="#fbbf24",o.globalAlpha=Re,o.beginPath(),o.arc(0,0,v.radius+ce,0,Math.PI*2),o.fill(),o.globalAlpha=1,o.strokeStyle="#fbbf24",o.lineWidth=2*p,o.shadowColor="#fbbf24",o.shadowBlur=12,o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.stroke(),o.restore()}v.isBoss&&(o.save(),o.strokeStyle="rgba(239, 68, 68, 0.3)",o.lineWidth=1*p,o.beginPath(),o.arc(0,0,To,0,Math.PI*2),o.stroke(),o.globalAlpha=.1,o.fillStyle="#ef4444",o.beginPath(),o.arc(0,0,To,0,Math.PI*2),o.fill(),o.restore()),o.fillStyle=v.color;const B=Math.atan2(b.y-v.y,b.x-v.x);switch(v.enemyType){case k.GRUNT:o.fillRect(-v.radius,-v.radius,v.radius*2,v.radius*2);break;case k.RUNNER:case k.STALKER:case k.SWARMER:o.save(),o.rotate(B),o.beginPath(),o.moveTo(v.radius,0),o.lineTo(-v.radius,-v.radius*.8),o.lineTo(-v.radius*.5,0),o.lineTo(-v.radius,v.radius*.8),o.closePath(),o.fill(),o.restore();break;case k.TANK:o.beginPath();for(let pe=0;pe<6;pe++){const Pe=Math.PI/3*pe;o.lineTo(Math.cos(Pe)*v.radius,Math.sin(Pe)*v.radius)}o.closePath(),o.fill(),o.strokeStyle="rgba(0,0,0,0.5)",o.lineWidth=3*p,o.stroke();break;case k.HEALER:const Y=v.radius*.4,ce=v.radius;o.fillRect(-ce,-Y,ce*2,Y*2),o.fillRect(-Y,-ce,Y*2,ce*2);break;case k.FRACTAL:o.save(),o.rotate(d*2),o.fillStyle=v.color,o.fillRect(-v.radius*.8,-v.radius*.8,v.radius*1.6,v.radius*1.6),o.fillStyle="#d8b4fe",o.globalAlpha=.8,o.fillRect(-v.radius*.8+6,-v.radius*.8-6,v.radius*1.6,v.radius*1.6),o.restore();break;case k.ORBITER:o.beginPath(),o.arc(0,0,v.radius*.6,0,Math.PI*2),o.fill(),o.strokeStyle=v.color,o.lineWidth=3*p,o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.stroke();break;case k.DISRUPTOR:o.save(),o.save(),o.rotate(d*3),o.beginPath(),o.moveTo(0,-v.radius),o.lineTo(v.radius,v.radius*.8),o.lineTo(-v.radius,v.radius*.8),o.closePath(),o.strokeStyle=v.color,o.lineWidth=2*p,o.stroke(),o.restore(),o.save(),o.rotate(-d*3),o.beginPath(),o.moveTo(0,v.radius*.8),o.lineTo(v.radius*.6,-v.radius*.4),o.lineTo(-v.radius*.6,-v.radius*.4),o.closePath(),o.fillStyle="#fff",o.fill(),o.restore(),o.restore();break;case k.BOSS:o.save(),o.rotate(d*.5),o.beginPath();const Re=8,ft=v.radius,ht=v.radius*.5;for(let pe=0;pe<Re*2;pe++){const Pe=pe%2===0?ft:ht,Pr=Math.PI*pe/Re;o.lineTo(Math.cos(Pr)*Pe,Math.sin(Pr)*Pe)}o.closePath(),o.fill(),o.restore();break;case k.BROODMOTHER:o.save(),o.rotate(d*.2),o.beginPath();for(let pe=0;pe<6;pe++){const Pe=Math.PI/3*pe;o.lineTo(Math.cos(Pe)*v.radius,Math.sin(Pe)*v.radius)}o.closePath(),o.fill(),o.fillStyle="rgba(0,0,0,0.3)",o.beginPath(),o.arc(0,0,v.radius*.5,0,Math.PI*2),o.fill(),o.restore();break;case k.WORM:o.save(),o.rotate(B+Math.PI),o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.fill(),o.beginPath(),o.arc(-v.radius*.8,0,v.radius*.8,0,Math.PI*2),o.fillStyle="rgba(146, 64, 14, 0.8)",o.fill(),o.beginPath(),o.arc(-v.radius*1.5,0,v.radius*.6,0,Math.PI*2),o.fillStyle="rgba(146, 64, 14, 0.6)",o.fill(),o.beginPath(),o.arc(-v.radius*2,0,v.radius*.4,0,Math.PI*2),o.fillStyle="rgba(146, 64, 14, 0.4)",o.fill(),o.restore();break;default:o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.fill()}if(v.shield>0&&(o.strokeStyle="#60a5fa",o.lineWidth=2*p,o.beginPath(),o.arc(0,0,v.radius+2,0,Math.PI*2*(v.shield/v.maxShield)),o.stroke()),v.hp<v.maxHp){const Y=20*p,ce=3*p,Re=v.radius+5+ce/2;o.fillStyle="#000",o.fillRect(-Y/2,Re,Y,ce),o.fillStyle="#ef4444",o.fillRect(-Y/2,Re,Y*(v.hp/v.maxHp),ce)}o.restore()}),A.projectiles.forEach(v=>{o.save(),o.translate(v.x,v.y),o.fillStyle=v.color,v.isElite?(o.shadowColor=v.color,o.shadowBlur=15,o.strokeStyle="#fff",o.lineWidth=2,o.beginPath(),o.arc(0,0,v.radius*1.5,0,Math.PI*2),o.fill(),o.stroke()):(o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.fill()),o.restore()}),A.particles.forEach(v=>{o.save(),o.translate(v.x,v.y),v.type===ze.SHOCKWAVE?(o.strokeStyle=v.color,o.lineWidth=(v.width||2)*p,o.globalAlpha=v.life/v.maxLife,o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.stroke()):(o.fillStyle=v.color,o.globalAlpha=v.life/v.maxLife,o.beginPath(),o.arc(0,0,v.radius,0,Math.PI*2),o.fill()),o.restore()}),A.floatingTexts.forEach(v=>{o.save(),o.translate(v.x,v.y),o.fillStyle=v.color;const X=Math.max(12,14*p);o.font=`bold ${X}px monospace`,o.globalAlpha=v.life/60,o.textAlign="center",o.fillText(v.text,0,0),o.restore()}),o.restore(),S=requestAnimationFrame(T)};return T(),()=>{cancelAnimationFrame(S)}},[e,t,n]),i.jsx("canvas",{ref:r,width:t,height:n,className:"block bg-slate-900"})},Rn=(e,t,n="w-6 h-6")=>{const r={color:t},s=`${n} fill-current drop-shadow-md`;switch(e){case x.TURRET_ARROW:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"})});case x.TURRET_SNIPER:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-2h2v2zm0-4H9V8h2v4zm6 2h-2v-2h2v2zm0-4h-2V8h2v4z"}),i.jsx("circle",{cx:"12",cy:"12",r:"3"})]});case x.TURRET_CANNON:case x.TURRET_CLUSTER_BOMB:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"})});case x.TURRET_ICE:case x.TURRET_ICICLE:case x.TURRET_PERMAFROST:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M20 11h-4.17l2.08-2.08c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L13 11V6.83l2.08-2.08c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L12 5.09 10.33 3.34c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L11 6.83V11H6.83l-2.08-2.08c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L5.09 12 3.34 13.67c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L6.83 13H11v4.17l-2.08 2.08c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 18.91l1.67 1.75c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13 17.17V13h4.17l2.08 2.08c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L18.91 12 20.66 10.33z"})});case x.TURRET_POISON:case x.TURRET_TOXIN:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M12 2c-3.31 0-6 2.69-6 6 0 2.15 1.13 4.02 2.83 5.08L12 22l3.17-8.92C16.87 12.02 18 10.15 18 8c0-3.31-2.69-6-6-6zm0 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})});case x.TURRET_ARCANE:case x.TURRET_MAGIC_MISSILE:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23L16.23 18z"})});case x.TURRET_FIREBALL:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M16 6l4-4M19 8l4-2M18 10l5 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),i.jsx("circle",{cx:"12",cy:"12",r:"6"})]});case x.TURRET_ORBITAL:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",opacity:".3"}),i.jsx("circle",{cx:"12",cy:"12",r:"5"}),i.jsx("path",{d:"M4.93 4.93L7.76 7.76M16.24 16.24L19.07 19.07M2 12H6M18 12H22M12 2V6M12 18V22"})]});case x.TURRET_REPULSOR:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14H9v-6h2v6zm4 0h-2v-6h2v6zm-2-8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),i.jsx("path",{d:"M4 12c0 4.41 3.59 8 8 8s8-3.59 8-8",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"4 4"})]});case x.TURRET_BALLISTA:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M22 2l-2.5 1.4L17 2l-1.4 2.5L13.1 2H2v11.1l2.5 1.4L2 17l1.4 2.5L5.9 22h11.1l-1.4-2.5L18.1 22l2.5-1.4L22 18.1V7l-2.5-1.4zM9 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm9.6-5.6l-3.2 1.6-1.6-3.2 1.6-3.2 3.2 1.6z"})});case x.TURRET_FLAMETHROWER:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"}),i.jsx("path",{d:"M16 6l4-4M19 8l4-2M18 10l5 1",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]});case x.TURRET_CHAOS_BOLT:case x.TURRET_CHAOS_BEAM:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M12 2L9 9l-7 3 7 3 3 7 3-7 7-3-7-3z"}),i.jsx("circle",{cx:"12",cy:"12",r:"2"})]});case x.TURRET_CHAOS_RIFT:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.41 3.59-8 8-8s8 3.59 8 8-3.59 8-8 8-8-3.59-8-8zm8-6c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6z",opacity:".5"}),i.jsx("path",{d:"M12 8l2.5 4-2.5 4-2.5-4z"})]});case x.TURRET_OMNI:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("circle",{cx:"12",cy:"12",r:"4"}),i.jsx("path",{d:"M12 2v4M12 18v4M22 12h-4M6 12H2M19.07 4.93l-2.83 2.83M7.76 16.24l-2.83 2.83M19.07 19.07l-2.83-2.83M7.76 7.76L4.93 4.93",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]});case x.STAT_DAMAGE:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M7 18h2v-2h-2v2zm0-4h2v-2h-2v2zm4 4h2v-2h-2v2zm0-4h2v-2h-2v2zm-4-4h2V8h-2v2zm4 0h2V8h-2v2zm-2-2h2V6h-2v2zm-2-2h2V4h-2v2zm6 2h2V6h-2v2zm0-4h2V2h-2v2z"}),i.jsx("path",{d:"M21 11c0-4.97-4.03-9-9-9s-9 4.03-9 9c0 4.63 3.54 8.43 8 8.94V22h2v-2.06c4.46-.51 8-4.31 8-8.94z",opacity:".3"})]});case x.STAT_SPEED:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M7 2v11h3v9l7-12h-4l4-8z"})});case x.STAT_RANGE:return i.jsxs("svg",{viewBox:"0 0 24 24",className:s,style:r,children:[i.jsx("path",{d:"M12 4C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),i.jsx("circle",{cx:"12",cy:"11.5",r:"2.5"})]});case x.STAT_REGEN:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 9H9v2H7v-2H5v-2h2V8h2v2h2v2zm4 4h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V6h2v2z"})});case x.HEAL_TOWER:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-6 13h-2v-3h-3v-2h3V8h2v3h3v2h-3v3z"})});case x.ECON_GPS:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M10 2v2.26l2 1.33V4h10v15h-2.7c-1.09.76-2.3 1.26-3.59 1.26-1.12 0-2.19-.38-3.08-.98l-1.63 1.63V22h-2v-3.59l-1.29-1.29c-.92.52-1.99.88-3.12.88C2.39 18 0 15.61 0 12.8 0 10 2.39 7.61 5.59 7.61c1.13 0 2.2.36 3.12.88L10 7.2V2zm-2.91 9.29l-1.64 1.64c-.28-.09-.58-.13-.89-.13-1.48 0-2.69 1.21-2.69 2.69s1.21 2.69 2.69 2.69 2.69-1.21 2.69-2.69c0-.3-.05-.59-.14-.87l1.64-1.64c.87.96 2.12 1.57 3.52 1.57 2.37 0 4.29-1.92 4.29-4.29S14.68 6.27 12.31 6.27c-1.4 0-2.66.61-3.53 1.58l-1.69-1.13V5H4v13h2v-5.36l1.09 1.65z"})});case x.ECON_BOUNTY:return i.jsx("svg",{viewBox:"0 0 24 24",className:s,style:r,children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.15-1.46-3.27-3.4h1.97c.1 1.05.82 1.83 2.62 1.83 1.52 0 2.49-.74 2.49-2.03 0-1.06-.62-1.65-3.33-2.26-3.33-.79-4.91-2.15-4.91-4.56 0-1.91 1.43-3.24 3.13-3.59V2h2.67v1.95c1.6.36 2.91 1.42 2.97 3.35h-1.93c-.1-.92-.71-1.65-2.3-1.65-1.46 0-2.31.72-2.31 1.89 0 1.04.68 1.6 3.35 2.18 3.32.73 4.9 2.1 4.9 4.65-.01 2.05-1.47 3.4-3.18 3.76z"})});default:return i.jsx("div",{style:{backgroundColor:t},className:"w-4 h-4 rounded-full"})}},Pa=(e,t)=>{const n={color:t},r="w-6 h-6 fill-current drop-shadow-md";switch(e){case L.NUKE:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M12 2c5.52 0 10 4.48 10 10s-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2zm0 2c-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm-1 3h2v5h-2V7zm0 6h2v2h-2v-2z"})});case L.INVULNERABILITY:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 2.18l7 3.12v4.7c0 4.67-3.13 8.96-7 10.16-3.87-1.2-7-5.49-7-10.16v-4.7l7-3.12z"})});case L.OVERCLOCK:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M11 9.47V2h2v7.47c1.67.68 2.82 2.3 2.82 4.03 0 2.48-2.02 4.5-4.5 4.5s-4.5-2.02-4.5-4.5c0-1.73 1.15-3.35 2.82-4.03zM7 13.5c0 2.33 2.17 4.19 4.5 4.19s4.5-1.86 4.5-4.19S13.83 9.31 11.5 9.31 7 11.17 7 13.5zM20.37 5.62l-1.4 1.41C20.25 8.27 21 9.8 21 11.5c0 2.45-1.02 4.66-2.66 6.22l1.41 1.41C21.75 17.26 23 14.53 23 11.5c0-2.11-.92-4-2.63-5.88zM4.98 7.04l-1.4-1.42C1.91 7.51 1 9.4 1 11.5c0 3.03 1.25 5.76 3.25 7.63l1.41-1.41C4.02 16.16 3 13.95 3 11.5c0-1.7.75-3.23 2.03-4.47z"})});case L.RANGE_BOOST:return i.jsxs("svg",{viewBox:"0 0 24 24",className:r,style:n,children:[i.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5-5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),i.jsx("path",{d:"M21 4H18v2h3V4zm-3 14v2h3v-2h-3zM3 4H0v2h3V4zm0 14H0v2h3v-2z"})]});case L.PASSIVE_PHYSICAL:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})});case L.PASSIVE_MAGIC:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M12 2l-2.4 7.2h-7.6l6 4.8-2.4 7.2 6-4.8 6 4.8-2.4-7.2 6-4.8h-7.6z"})});case L.PASSIVE_FIRE:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M19.48 12.35c-1.57-4.08-7.16-4.3-5.81-10.23-1.07 1.33-3.4 4.17-2.67 7.24-2.93-2.61-2.9-7.53-2.9-7.53C7.4 5.38 3 9.77 3 14.81c0 5.07 4.02 9.19 9 9.19s9-4.12 9-9.19c0-1.01-.17-1.97-.52-2.46zM12 21c-2.7 0-4.9-2.3-4.9-5.14 0-1.07.3-2.06.81-2.91.59 1.94 2.82 2.3 2.82 5.05h.54c0-2.46 2.45-3.33 2.53-6.22 1.82 1.9 2.1 5.92-1.8 9.22z"})});case L.PASSIVE_ICE:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M20 11h-4.17l2.08-2.08c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L13 11V6.83l2.08-2.08c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L12 5.09 10.33 3.34c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L11 6.83V11H6.83l-2.08-2.08c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L5.09 12 3.34 13.67c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L6.83 13H11v4.17l-2.08 2.08c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 18.91l1.67 1.75c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13 17.17V13h4.17l2.08 2.08c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L18.91 12 20.66 10.33z"})});case L.PASSIVE_POISON:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M12 2c-3.31 0-6 2.69-6 6 0 2.15 1.13 4.02 2.83 5.08L12 22l3.17-8.92C16.87 12.02 18 10.15 18 8c0-3.31-2.69-6-6-6zm0 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"})});case L.PASSIVE_CHAOS:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:n,children:i.jsx("path",{d:"M12 2L9 9l-7 3 7 3 3 7 3-7 7-3-7-3z"})});default:return i.jsx("div",{style:{backgroundColor:t},className:"w-4 h-4 rounded-full"})}},vi=(e,t,n="w-6 h-6")=>{const r=`${n} fill-current`,s={color:t};switch(e){case k.GRUNT:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:s,children:i.jsx("rect",{x:"4",y:"4",width:"16",height:"16"})});case k.TANK:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:s,children:i.jsx("path",{d:"M12 2l8.66 5v10L12 22l-8.66-5V7z"})});case k.RUNNER:case k.STALKER:case k.SWARMER:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:s,children:i.jsx("path",{d:"M22 12L2 2v20z"})});case k.HEALER:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:s,children:i.jsx("path",{d:"M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"})});case k.FRACTAL:return i.jsxs("svg",{viewBox:"0 0 24 24",className:r,style:s,children:[i.jsx("rect",{x:"4",y:"8",width:"12",height:"12",opacity:"1.0"}),i.jsx("rect",{x:"8",y:"4",width:"12",height:"12",fill:"#d8b4fe",fillOpacity:"0.8"})]});case k.ORBITER:return i.jsxs("svg",{viewBox:"0 0 24 24",className:r,style:s,children:[i.jsx("circle",{cx:"12",cy:"12",r:"4",fill:"currentColor"}),i.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:"currentColor",strokeWidth:"2"})]});case k.DISRUPTOR:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:s,children:i.jsx("path",{d:"M12 2L2 22h20L12 2zm0 4l6 12H6l6-12z"})});case k.BOSS:return i.jsx("svg",{viewBox:"0 0 24 24",className:r,style:s,children:i.jsx("path",{d:"M12 2L15 8L22 9L17 14L19 21L12 18L5 21L7 14L2 9L9 8Z"})});case k.BROODMOTHER:return i.jsxs("svg",{viewBox:"0 0 24 24",className:r,style:s,children:[i.jsx("path",{d:"M12 2l8.66 5v10L12 22l-8.66-5V7z",opacity:"0.8"}),i.jsx("circle",{cx:"12",cy:"12",r:"6"})]});case k.WORM:return i.jsxs("svg",{viewBox:"0 0 24 24",className:r,style:s,children:[i.jsx("circle",{cx:"12",cy:"12",r:"6"}),i.jsx("circle",{cx:"6",cy:"12",r:"4",opacity:"0.6"}),i.jsx("circle",{cx:"18",cy:"12",r:"4",opacity:"0.6"})]});default:return i.jsx("div",{style:{backgroundColor:t},className:"w-4 h-4 rounded-full"})}},La=({gameState:e,onBuyItem:t,onReroll:n,onToggleTargeting:r,onOpenCodex:s,onOpenTechShop:l,onRestart:a,onMainMenu:c,onToggleSpeed:u,idPrefix:o="hud"})=>{const[h,g]=W.useState(null),[p,S]=W.useState(!1),y=e.gold>=e.rerollCost;W.useEffect(()=>{h&&(e.shopItems.some(I=>I.id===h.id)||g(null))},[e.shopItems,h]);const T=()=>{S(!0)},A=()=>{S(!1),a()},d=()=>{S(!1),c()},f=()=>{S(!1)},m=N=>{switch(N){case 1:return"border-slate-500";case 2:return"border-cyan-500";case 3:return"border-purple-500";case 4:return"border-yellow-400 shadow-[0_0_12px_rgba(250,204,21,0.6)] animate-pulse";default:return"border-slate-600"}},E=N=>{switch(N){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"LGD";default:return""}},j=N=>{switch(N){case 1:return"text-slate-400";case 2:return"text-cyan-400";case 3:return"text-purple-400";case 4:return"text-yellow-400 font-black tracking-wider";default:return"text-slate-400"}},M=Object.values(In).filter(N=>N.category==="ACTIVE"),R=e.tower.hp/e.tower.maxHp<.3?"text-red-500":"text-green-400";return i.jsxs("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between p-2 md:p-4 z-20 overflow-hidden",children:[p&&i.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm pointer-events-auto animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900 border-2 border-slate-600 rounded-lg p-6 w-[90%] max-w-sm shadow-2xl flex flex-col gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-wider mb-2",children:"Abort Mission?"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Current run progress will be lost."})]}),i.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[i.jsx("button",{onClick:A,className:"w-full py-3 bg-red-600 hover:bg-red-500 text-white font-bold uppercase rounded tracking-wide shadow-lg transition-colors",children:"Restart Run"}),i.jsx("button",{onClick:d,className:"w-full py-3 bg-slate-700 hover:bg-slate-600 text-white font-bold uppercase rounded tracking-wide border border-slate-500 transition-colors",children:"Main Menu"})]}),i.jsx("button",{onClick:f,className:"mt-2 text-slate-500 hover:text-white text-xs font-bold uppercase tracking-widest transition-colors",children:"Resume Game"})]})}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start h-full pb-20 md:pb-24 pointer-events-none",children:[i.jsxs("div",{id:`${o}-resources-mobile`,className:"w-full grid grid-cols-[1fr_auto] gap-2 items-center md:hidden pointer-events-auto bg-slate-900/80 backdrop-blur-md p-2 rounded-lg border border-slate-700/50 mb-2 shadow-lg",children:[i.jsxs("div",{id:`${o}-stats-mobile`,className:"flex items-center gap-3 pl-1",children:[i.jsx("div",{className:"text-yellow-500 font-bold text-base drop-shadow-sm flex flex-col leading-none",children:i.jsxs("span",{children:[e.gold,"g"]})}),i.jsx("div",{className:"h-6 w-px bg-slate-700"}),i.jsxs("div",{className:"text-white font-mono text-sm flex flex-col leading-none",children:[i.jsx("span",{className:"text-[10px] text-slate-400",children:"SCORE"}),i.jsx("span",{children:e.score})]})]}),i.jsxs("div",{className:"flex gap-1.5",children:[i.jsxs("button",{id:`${o}-btn-speed-mobile`,onClick:u,className:`w-9 h-9 flex items-center justify-center rounded border active:scale-95 transition-all text-xs font-bold font-mono ${e.gameSpeed===2?"bg-yellow-500 text-black border-yellow-600":"bg-slate-700/60 text-slate-300 border-slate-500"}`,children:[e.gameSpeed,"x"]}),i.jsx("button",{id:`${o}-btn-tech-mobile`,onClick:l,className:"bg-cyan-900/40 w-9 h-9 flex items-center justify-center rounded border border-cyan-700 active:bg-cyan-800 text-cyan-300",children:i.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"})})}),i.jsx("button",{id:`${o}-btn-codex-mobile`,onClick:s,className:"bg-slate-700/60 w-9 h-9 flex items-center justify-center rounded border border-slate-500 active:bg-slate-600 text-white",children:i.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})})}),i.jsx("button",{onClick:T,className:"bg-red-900/40 w-9 h-9 flex items-center justify-center rounded border border-red-800 active:bg-red-800 text-red-400",children:i.jsx("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})})]})]}),i.jsxs("div",{className:"w-64 pointer-events-auto hidden md:flex flex-col gap-4 animate-fade-in-left",children:[i.jsxs("div",{className:"bg-slate-900/60 backdrop-blur-md border border-slate-600/50 p-4 rounded-lg shadow-xl",children:[i.jsxs("div",{id:`${o}-resources-desktop`,className:"flex justify-between items-center border-b border-slate-700/50 pb-2 mb-2",children:[i.jsxs("span",{className:"text-yellow-500 font-bold text-2xl drop-shadow-sm",children:[e.gold," ",i.jsx("span",{className:"text-sm text-yellow-600/80",children:"GOLD"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-slate-400 uppercase",children:"Score"}),i.jsx("div",{className:"text-base font-mono text-white",children:e.score})]})]}),i.jsx("div",{className:"flex gap-2 mb-2",children:i.jsx("button",{id:`${o}-btn-codex-desktop`,onClick:s,className:"w-full bg-slate-700/60 hover:bg-slate-600/80 text-sm font-bold text-white py-2 rounded border border-slate-500/50 transition-colors flex items-center justify-center gap-1",children:"CODEX & MODULES"})}),i.jsxs("button",{id:`${o}-btn-tech-desktop`,onClick:l,className:"w-full bg-gradient-to-r from-cyan-900/60 to-blue-900/60 hover:from-cyan-800/80 hover:to-blue-800/80 text-sm font-bold text-cyan-200 py-2.5 rounded border border-cyan-700/50 transition-all shadow-[0_0_10px_rgba(34,211,238,0.2)] hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] uppercase tracking-wider flex items-center justify-center gap-2",children:[i.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-pulse"}),"Tech Tree"]}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("button",{id:`${o}-btn-speed-desktop`,onClick:u,className:`flex-1 py-1.5 rounded text-xs font-bold font-mono transition-all border ${e.gameSpeed===2?"bg-yellow-500 text-black border-yellow-600 shadow-[0_0_10px_rgba(234,179,8,0.4)]":"bg-slate-900/40 text-slate-400 border-slate-700 hover:bg-slate-800"}`,children:[e.gameSpeed,"x SPEED"]}),i.jsx("button",{onClick:T,className:"flex-1 bg-red-900/20 hover:bg-red-900/40 text-xs text-red-400 py-1.5 rounded border border-red-900/30 transition-colors",children:"ABORT"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md border border-slate-700/30 p-3 rounded-lg flex flex-col shadow-lg",children:[i.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 border-b border-slate-700/50 pb-1",children:"System Output"}),i.jsxs("div",{className:"grid grid-cols-3 gap-1.5 text-xs",children:[i.jsxs("div",{id:`${o}-panel-integrity`,className:"col-span-3 bg-slate-900/40 rounded p-2 flex justify-between items-center px-3 mb-1 border border-slate-700/30",children:[i.jsx("div",{className:"text-slate-400 text-xs font-bold tracking-wide",children:"INTEGRITY"}),i.jsxs("div",{className:`font-mono font-black text-lg ${R} flex items-baseline`,children:[Math.ceil(e.tower.hp),i.jsx("span",{className:"text-slate-600 mx-1 text-sm font-bold",children:"/"}),i.jsx("span",{className:"text-slate-500 text-sm font-bold",children:e.tower.maxHp})]})]}),i.jsxs("div",{className:"text-center bg-slate-900/40 rounded p-1.5",children:[i.jsxs("div",{className:"text-red-400 font-bold",children:[e.tower.statMultipliers.damage.toFixed(1),"x"]}),i.jsx("div",{className:"text-slate-500 text-[10px]",children:"DMG"})]}),i.jsxs("div",{className:"text-center bg-slate-900/40 rounded p-1.5",children:[i.jsxs("div",{className:"text-yellow-400 font-bold",children:[e.tower.statMultipliers.speed.toFixed(1),"x"]}),i.jsx("div",{className:"text-slate-500 text-[10px]",children:"SPD"})]}),i.jsxs("div",{className:"text-center bg-slate-900/40 rounded p-1.5",children:[i.jsxs("div",{className:"text-blue-400 font-bold",children:[e.tower.statMultipliers.range.toFixed(1),"x"]}),i.jsx("div",{className:"text-slate-500 text-[10px]",children:"RNG"})]}),i.jsxs("div",{className:"text-center bg-slate-900/40 rounded p-1.5 col-span-1.5",children:[i.jsxs("div",{className:"text-amber-300 font-bold",children:["+",e.tower.goldPerSecond,"/s"]}),i.jsx("div",{className:"text-slate-500 text-[10px]",children:"GPS"})]}),i.jsxs("div",{className:"text-center bg-slate-900/40 rounded p-1.5 col-span-1.5",children:[i.jsxs("div",{className:"text-amber-500 font-bold",children:[Math.round(e.tower.statMultipliers.goldValue*100),"%"]}),i.jsx("div",{className:"text-slate-500 text-[10px]",children:"BOUNTY"})]})]})]})]}),i.jsxs("div",{className:"w-64 pointer-events-auto hidden md:flex flex-col gap-4 animate-fade-in-right",children:[i.jsxs("a",{href:"https://buymeacoffee.com/swordandbored",target:"_blank",rel:"noopener noreferrer",className:"bg-yellow-500/10 hover:bg-yellow-500/20 backdrop-blur-md border border-yellow-500/30 p-2.5 rounded-lg shadow-lg flex items-center justify-between group transition-all duration-300 hover:scale-105",children:[i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs uppercase font-bold text-yellow-500 group-hover:text-yellow-400",children:"Enjoying the game?"}),i.jsx("span",{className:"text-xs text-yellow-200/60 group-hover:text-yellow-200 font-mono",children:"Buy me a coffee "})]}),i.jsx("div",{className:"text-xl animate-bounce",children:""})]}),i.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-md p-3 rounded border border-slate-700/50 text-sm shadow-lg",children:[i.jsx("strong",{className:"text-yellow-500 block mb-2 border-b border-slate-700/50 pb-1 uppercase text-xs tracking-wider",children:"High Command Records"}),e.leaderboard&&e.leaderboard.length>0?i.jsx("ul",{className:"space-y-1.5",children:e.leaderboard.slice(0,5).map((N,I)=>i.jsxs("li",{className:"flex justify-between items-center bg-slate-800/40 p-1.5 px-2 rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`font-mono font-bold ${I===0?"text-yellow-400":"text-slate-500"}`,children:["#",I+1]}),i.jsx("span",{className:"text-slate-200 font-bold truncate max-w-[80px]",children:N.name})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-yellow-500 font-mono",children:N.score}),i.jsxs("div",{className:"text-[10px] text-slate-500",children:["Wave ",N.wave]})]})]},I))}):i.jsx("div",{className:"text-center text-slate-500 italic py-2 text-xs",children:"No records found."})]})]})]}),h&&i.jsxs("div",{className:"absolute top-16 md:bottom-[160px] md:top-auto left-1/2 -translate-x-1/2 z-50 pointer-events-none w-52 bg-slate-900/95 backdrop-blur-md border border-slate-500 rounded-lg shadow-2xl text-center overflow-hidden animate-fade-in-up",children:[i.jsx("div",{className:"h-1.5 w-full",style:{backgroundColor:h.color}}),i.jsxs("div",{className:"p-3",children:[i.jsx("h5",{className:"font-bold text-white text-xs mb-1",style:{color:h.color},children:h.name}),i.jsx("p",{className:"text-[11px] text-gray-300 leading-relaxed mb-3",children:h.description}),re[h.type]&&i.jsxs("div",{className:"grid grid-cols-2 gap-y-1.5 gap-x-2 text-[10px] border-t border-slate-700/50 pt-2 text-left bg-black/20 p-2 rounded",children:[re[h.type].damage&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-500",children:"DMG"}),i.jsx("span",{className:"font-mono font-bold text-white text-right",children:re[h.type].damage})]}),re[h.type].damageType&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-500",children:"TYPE"}),i.jsx("span",{className:"font-mono font-bold text-right",style:{color:ur[re[h.type].damageType]||"#fff"},children:re[h.type].damageType.substring(0,3)})]}),re[h.type].range&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-500",children:"RNG"}),i.jsx("span",{className:"font-mono font-bold text-slate-200 text-right",children:re[h.type].range})]}),re[h.type].cooldown&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-500",children:"CD"}),i.jsxs("span",{className:"font-mono font-bold text-slate-200 text-right",children:[(re[h.type].cooldown/60).toFixed(1),"s"]})]}),re[h.type].pierce&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-500",children:"PIERCE"}),i.jsx("span",{className:"font-mono font-bold text-slate-200 text-right",children:re[h.type].pierce})]})]})]})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full pointer-events-none flex justify-center pb-1 md:pb-2 items-end",children:i.jsxs("div",{className:"relative max-w-4xl w-full flex justify-center",children:[i.jsxs("div",{id:`${o}-shop-container`,className:"bg-slate-900/60 backdrop-blur-md border-t border-x border-slate-600/50 rounded-t-2xl p-2 md:p-3 pointer-events-auto shadow-2xl w-full z-10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2 px-1 md:px-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-white font-bold uppercase tracking-[0.2em] text-[10px] md:text-sm",children:"Void Market"}),i.jsxs("span",{className:"text-[10px] md:text-xs text-slate-400 font-mono border border-slate-700/50 px-1.5 py-0.5 rounded bg-black/30",children:["REFRESH: ",(e.shopTimer/60).toFixed(0),"s"]}),i.jsxs("button",{onClick:n,disabled:!y,className:`
                                ml-2 md:ml-4 flex items-center gap-2 px-2.5 py-1 rounded text-[10px] font-bold uppercase tracking-wider border transition-all active:scale-95
                                ${y?"bg-slate-700/60 hover:bg-slate-600/80 text-white border-slate-500 hover:border-yellow-500":"bg-slate-800/40 text-slate-500 border-slate-700 cursor-not-allowed"}
                            `,children:[i.jsx("span",{children:" Reroll"}),i.jsxs("span",{className:`px-1.5 rounded ${y?"bg-black/40 text-yellow-500":"bg-black/20 text-slate-600"}`,children:[e.rerollCost,"g"]})]})]}),i.jsx("div",{className:"text-[9px] md:text-[10px] text-slate-500 uppercase tracking-widest hidden sm:block",children:"Secure Transmission"})]}),i.jsx("div",{className:"flex gap-2 justify-start md:justify-center w-full overflow-x-auto pb-1 px-1 scrollbar-none snap-x touch-pan-x",children:e.shopItems.length===0?i.jsx("div",{className:"text-slate-500 italic p-4 w-full text-center text-sm",children:"Inventory Depleted"}):e.shopItems.map(N=>{const I=e.gold>=N.cost,b=m(N.tier),G=j(N.tier);return i.jsxs("button",{onClick:()=>t(N),onMouseEnter:()=>g(N),onMouseLeave:()=>g(null),disabled:!I,className:`
                                        snap-center relative group flex flex-col items-center p-1.5 rounded-lg border-2 transition-all duration-300 w-16 h-24 md:w-20 md:h-28 shrink-0 active:scale-95
                                        ${I?`bg-gradient-to-b from-slate-800/80 to-slate-900/80 hover:-translate-y-1 hover:shadow-[0_0_15px_rgba(255,255,255,0.1)] ${b}`:"border-slate-800/50 bg-slate-900/30 opacity-50 cursor-not-allowed grayscale"}
                                    `,style:I?{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)"}:{},children:[i.jsx("div",{className:"absolute top-0.5 left-1 font-mono text-[9px] font-bold opacity-60",children:i.jsx("span",{className:G,children:E(N.tier)})}),i.jsx("div",{className:"w-8 h-8 md:w-10 md:h-10 mb-1 rounded-full flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 bg-black/40 border border-white/10 mt-1.5",style:{boxShadow:`0 0 10px ${N.color}20`},children:Rn(N.type,N.color)}),i.jsxs("div",{className:"flex flex-col flex-grow w-full items-center justify-between",children:[i.jsx("span",{className:`text-[9px] md:text-[10px] font-bold text-center leading-tight px-0.5 line-clamp-2 ${I?"text-gray-200 group-hover:text-white":"text-gray-500"}`,children:N.name}),i.jsxs("div",{className:`font-mono font-bold text-[10px] mt-0.5 px-1.5 py-0.5 rounded border ${I?"text-yellow-500 bg-black/50 border-white/10":"text-gray-500 bg-transparent border-transparent"}`,children:[N.cost,"g"]})]})]},N.id)})})]}),i.jsx("div",{className:"absolute right-[-70px] bottom-4 hidden lg:flex flex-col gap-3 pointer-events-auto z-20",children:M.map(N=>{const I=e.abilities[N.type];if(!I.unlocked)return null;const b=I.cooldown>0,G=N.maxCharges!==1/0&&I.charges<=0,D=b?I.cooldown/I.maxCooldown*100:0,J=I.activeTimer>0;return i.jsxs("div",{className:"relative group",onClick:()=>{window.dispatchEvent(new KeyboardEvent("keydown",{key:N.hotkey}))},children:[i.jsxs("div",{className:`
                                w-14 h-14 rounded-xl border-2 flex items-center justify-center relative overflow-hidden transition-all backdrop-blur-sm shadow-xl
                                ${G?"bg-slate-900/80 border-slate-700 opacity-50 grayscale":J?"bg-white/90 border-white scale-110 shadow-[0_0_20px_white]":b?"bg-slate-800/80 border-slate-600":"bg-slate-800/80 border-slate-400 hover:border-white hover:bg-slate-700/80 active:scale-95"}
                            `,children:[b&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-black/60",style:{height:`${D}%`}}),i.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:N.color}}),i.jsx("div",{className:"absolute top-1 right-1.5 text-xs font-bold text-white drop-shadow-md",children:N.hotkey}),N.maxCharges!==1/0&&i.jsx("div",{className:"absolute bottom-1 right-1.5 text-xs font-mono font-bold text-white drop-shadow-md bg-black/50 px-1 rounded",children:I.charges})]}),i.jsxs("div",{className:"absolute right-full mr-2 top-1/2 -translate-y-1/2 w-32 bg-black/90 backdrop-blur-md text-white text-xs p-2 rounded hidden group-hover:block text-center border border-slate-600 z-50 pointer-events-none",children:[i.jsx("strong",{className:"block mb-1",style:{color:N.color},children:N.name}),G?i.jsx("span",{className:"text-red-500",children:"DEPLETED"}):b?i.jsx("span",{className:"text-slate-400",children:"RECHARGING"}):i.jsx("span",{className:"text-green-400",children:"READY"})]})]},N.type)})}),i.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 flex gap-3 pointer-events-auto z-30 lg:hidden",children:M.map(N=>{const I=e.abilities[N.type];if(!I.unlocked)return null;const b=I.cooldown>0,G=N.maxCharges!==1/0&&I.charges<=0,D=b?I.cooldown/I.maxCooldown*100:0,J=I.activeTimer>0;return i.jsx("div",{className:"relative group touch-manipulation",onClick:()=>{window.dispatchEvent(new KeyboardEvent("keydown",{key:N.hotkey}))},children:i.jsxs("div",{className:`
                                w-14 h-14 md:w-16 md:h-16 rounded-xl border-2 flex items-center justify-center relative overflow-hidden transition-all backdrop-blur-sm shadow-xl
                                ${G?"bg-slate-900/80 border-slate-700 opacity-50 grayscale":J?"bg-white/90 border-white scale-110 shadow-[0_0_20px_white]":b?"bg-slate-800/80 border-slate-600":"bg-slate-800/80 border-slate-400 hover:border-white hover:bg-slate-700/80 active:scale-95"}
                            `,children:[b&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-black/60",style:{height:`${D}%`}}),i.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:N.color}}),i.jsx("div",{className:"absolute top-1 right-1.5 text-xs font-bold text-white drop-shadow-md",children:N.hotkey}),N.maxCharges!==1/0&&i.jsx("div",{className:"absolute bottom-1 right-1.5 text-xs font-mono font-bold text-white drop-shadow-md bg-black/50 px-1 rounded",children:I.charges})]})},N.type)})})]})})]})},Gf=({gameState:e,onRestart:t,onSaveScore:n,onMainMenu:r})=>{const[s,l]=W.useState(""),[a,c]=W.useState(!1);W.useState(!1);const u=y=>{y.preventDefault(),s.trim().length!==0&&(n(s),c(!0))},o=()=>{const y=localStorage.getItem("tower_survivors_leaderboard_v1.json");if(!y){alert("No records found to export.");return}const T=new Blob([y],{type:"application/json"}),A=URL.createObjectURL(T),d=document.createElement("a");d.href=A,d.download="tower_survivors_leaderboard.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(A)},h=y=>{switch(y){case 1:return{label:"TIER I",color:"text-slate-400",border:"border-slate-600",bg:"bg-slate-800"};case 2:return{label:"TIER II",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20"};case 3:return{label:"TIER III",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20"};case 4:return{label:"LEGENDARY",color:"text-yellow-400",border:"border-yellow-400",bg:"bg-yellow-900/20"};default:return{label:"UNKNOWN",color:"text-slate-400",border:"border-slate-600",bg:"bg-slate-800"}}},g=Object.entries(e.tower.modules).filter(([y,T])=>T>0).map(([y,T])=>({type:y,count:T,def:re[y]})),p=Object.entries(e.killCounts).filter(([y,T])=>T>0).sort((y,T)=>T[1]-y[1]),S=y=>{const T=g.filter(d=>d.def&&d.def.tier===y);if(T.length===0)return null;const A=h(y);return i.jsxs("div",{className:"mb-4 last:mb-0",children:[i.jsx("h4",{className:`text-xs font-bold uppercase tracking-wider mb-2 flex items-center gap-2 ${A.color} opacity-90 pl-2 border-l-2 ${A.border.replace("border","border-l")}`,children:A.label}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:T.map(({type:d,count:f,def:m})=>i.jsxs("div",{className:"flex items-center gap-2 bg-slate-800/60 p-2 rounded border border-slate-700/50",children:[i.jsx("div",{className:"w-8 h-8 rounded bg-slate-900 flex items-center justify-center shrink-0 border border-slate-700",children:Rn(d,m.color,"w-5 h-5")}),i.jsxs("div",{className:"overflow-hidden",children:[i.jsx("div",{className:"text-xs text-slate-400 leading-none mb-0.5 truncate",children:m.name}),i.jsxs("div",{className:"text-base font-bold text-white leading-none",children:["x",f]})]})]},d))})]},y)};return i.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900/95 border-2 border-danger-red rounded-lg w-full max-w-4xl max-h-[90vh] flex flex-col shadow-[0_0_60px_rgba(239,68,68,0.4)] overflow-hidden",children:[i.jsxs("div",{className:"p-6 md:p-8 text-center border-b border-red-900/50 bg-gradient-to-b from-red-900/20 to-transparent shrink-0",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-black text-danger-red mb-2 uppercase tracking-[0.2em] drop-shadow-lg",children:"Critical Failure"}),i.jsxs("p",{className:"text-gray-400 font-mono tracking-wide text-sm",children:["Signal Lost at Wave ",i.jsx("span",{className:"text-white font-bold",children:e.wave})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:'"The Infinite Spire remains... you do not."'})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 scrollbar-thin scrollbar-thumb-red-900 scrollbar-track-slate-900",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"flex flex-col gap-6",children:[i.jsxs("div",{className:"bg-black/40 border border-slate-700 p-4 rounded text-center",children:[i.jsx("div",{className:"text-sm text-slate-500 uppercase tracking-widest mb-1",children:"Final Score"}),i.jsx("div",{className:"text-5xl font-mono text-gold-accent font-bold drop-shadow-md",children:e.score.toLocaleString()})]}),a?i.jsxs("div",{className:"p-4 bg-green-900/20 border border-green-500/30 rounded flex justify-between items-center",children:[i.jsx("p",{className:"text-green-400 text-xs font-bold uppercase tracking-wide",children:"Record Archived"}),i.jsx("button",{onClick:o,className:"text-xs text-slate-400 hover:text-white underline decoration-slate-600 underline-offset-2",children:"Download Backup (.json)"})]}):i.jsxs("div",{className:"bg-slate-800/40 p-5 rounded border border-slate-700",children:[i.jsx("p",{className:"text-sm text-slate-300 mb-3 font-bold uppercase tracking-wide",children:"Record your legacy"}),i.jsxs("form",{onSubmit:u,className:"flex gap-2",children:[i.jsx("input",{type:"text",maxLength:15,placeholder:"ENTER NAME",value:s,onChange:y=>l(y.target.value),className:"flex-1 bg-slate-900 border border-slate-600 rounded px-3 py-2 text-center text-white font-bold uppercase tracking-widest focus:outline-none focus:border-gold-accent placeholder-slate-700 text-base",autoFocus:!0}),i.jsx("button",{type:"submit",disabled:s.length===0,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed text-white text-xs font-bold uppercase tracking-wider rounded transition-colors",children:"Save"})]})]})]}),i.jsxs("div",{className:"bg-slate-800/20 border border-slate-700/50 rounded overflow-hidden flex flex-col",children:[i.jsx("div",{className:"bg-slate-800/80 px-4 py-2 text-xs font-bold text-slate-300 uppercase tracking-widest border-b border-slate-700",children:"Casualty Report"}),i.jsx("div",{className:"p-2 overflow-y-auto max-h-[200px] scrollbar-thin scrollbar-thumb-slate-700",children:p.length>0?i.jsx("div",{className:"space-y-1",children:p.map(([y,T])=>{const A=Ct[y];return i.jsxs("div",{className:"flex justify-between items-center bg-slate-900/40 px-3 py-1.5 rounded border border-slate-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 flex items-center justify-center rounded bg-slate-900",style:{color:A==null?void 0:A.color},children:vi(y,(A==null?void 0:A.color)||"#fff","w-4 h-4")}),i.jsx("span",{className:"text-sm text-slate-300 font-bold",children:y})]}),i.jsx("span",{className:"text-base font-mono text-white",children:T})]},y)})}):i.jsx("div",{className:"text-center text-slate-500 text-sm py-4 italic",children:"No hostiles neutralized."})})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[i.jsx("div",{className:"h-px bg-slate-700 flex-grow"}),i.jsx("h3",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"System Configuration"}),i.jsx("div",{className:"h-px bg-slate-700 flex-grow"})]}),i.jsx("div",{className:"bg-black/20 rounded-lg p-4 border border-slate-800",children:g.length>0?i.jsx("div",{children:[1,2,3,4].map(y=>S(y))}):i.jsx("div",{className:"text-center text-slate-500 text-sm py-4 italic",children:"No modules installed."})})]})]}),i.jsxs("div",{className:"p-6 md:p-8 border-t border-slate-700 bg-slate-900 shrink-0 flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full",children:[i.jsx("button",{onClick:t,className:"flex-1 py-4 bg-danger-red hover:bg-red-600 text-white font-bold rounded uppercase tracking-widest transition-all hover:scale-[1.02] shadow-lg shadow-red-900/20 text-sm",children:"Reboot System"}),i.jsx("button",{onClick:r,className:"flex-1 py-4 bg-slate-800 hover:bg-slate-700 text-slate-200 font-bold rounded uppercase tracking-widest transition-all hover:scale-[1.02] border border-slate-600 text-sm",children:"Main Menu"})]}),i.jsx("div",{className:"text-center text-xs text-slate-600 font-mono uppercase tracking-widest",children:Qu})]})]})})},$f=({onClose:e,gameState:t,onSetTargeting:n,activeTab:r,onTabChange:s})=>{const[l,a]=W.useState("TOWER"),c=w=>{switch(w){case 1:return{label:"TIER I",color:"text-slate-400",border:"border-slate-600",bg:"bg-slate-800"};case 2:return{label:"TIER II",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20"};case 3:return{label:"TIER III",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20"};case 4:return{label:"LEGENDARY",color:"text-yellow-400",border:"border-yellow-400",bg:"bg-yellow-900/20"};default:return{label:"",color:"text-slate-400",border:"border-slate-600",bg:"bg-slate-800"}}},u=w=>{switch(w){case"PHYSICAL":return x.TURRET_ARROW;case"FIRE":return x.TURRET_FIREBALL;case"ICE":return x.TURRET_ICICLE;case"POISON":return x.TURRET_POISON;case"MAGIC":return x.TURRET_MAGIC_MISSILE;case"CHAOS":return x.TURRET_CHAOS_BOLT;default:return x.TURRET_ARROW}},o=Object.values(re),h=w=>w.sort((R,N)=>R.tier-N.tier||R.baseCost-N.baseCost),g=h(o.filter(w=>w.type.startsWith("TURRET"))),p=h(o.filter(w=>w.type.startsWith("STAT")||w.type===x.HEAL_TOWER)),S=h(o.filter(w=>w.type.startsWith("ECON"))),y=Object.values(k),T=[k.BOSS,k.BROODMOTHER,k.WORM],A=y.filter(w=>!T.includes(w)).sort((w,R)=>w.localeCompare(R)),d=y.filter(w=>T.includes(w)).sort((w,R)=>w.localeCompare(R)),f=w=>{const R=Ct[w];return i.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/50 rounded p-3 md:p-4 flex flex-col gap-3 relative overflow-hidden h-full",children:[i.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-10 bg-gradient-to-bl from-white to-transparent rounded-bl-full pointer-events-none",style:{backgroundColor:R.color}}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg shadow-lg flex items-center justify-center bg-slate-900 border border-slate-700 shrink-0",children:vi(w,R.color)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-white text-base md:text-lg",children:w}),i.jsxs("p",{className:"text-xs text-slate-400 italic",children:["Speed: ",R.speed," | Radius: ",R.radius]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mt-auto",children:[i.jsxs("div",{className:"bg-slate-900/60 p-2 rounded",children:[i.jsx("div",{className:"text-slate-500 font-mono uppercase text-[10px] mb-1",children:"Resistant To"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[Object.entries(R.resistances).map(([N,I])=>I<.9?i.jsxs("div",{className:"p-1 rounded bg-slate-800 border border-slate-600 flex items-center justify-center relative group/icon",title:`${N} Resistance: ${Math.round((1-I)*100)}%`,children:[Rn(u(N),ur[N],"w-4 h-4"),i.jsxs("span",{className:"hidden group-hover/icon:block absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-1.5 py-0.5 bg-black text-white text-[11px] rounded whitespace-nowrap z-50 pointer-events-none border border-slate-700 shadow-xl",children:[N," (",Math.round((1-I)*100),"%)"]})]},N):null),Object.values(R.resistances).every(N=>N>=.9)&&i.jsx("span",{className:"text-slate-600 text-[10px]",children:"-"})]})]}),i.jsxs("div",{className:"bg-slate-900/60 p-2 rounded border border-slate-700/50",children:[i.jsx("div",{className:"text-slate-500 font-mono uppercase text-[10px] mb-1",children:"Weak To"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[Object.entries(R.resistances).map(([N,I])=>I>1.1?i.jsxs("div",{className:"p-1 rounded bg-slate-800 border border-slate-600 flex items-center justify-center relative group/icon",title:`${N} Weakness: ${Math.round((I-1)*100)}%`,children:[Rn(u(N),ur[N],"w-4 h-4"),i.jsxs("span",{className:"hidden group-hover/icon:block absolute bottom-full left-1/2 -translate-x-1/2 mb-1 px-1.5 py-0.5 bg-black text-white text-[11px] rounded whitespace-nowrap z-50 pointer-events-none border border-slate-700 shadow-xl",children:[N," (+",Math.round((I-1)*100),"%)"]})]},N):null),Object.values(R.resistances).every(N=>N<=1.1)&&i.jsx("span",{className:"text-slate-600 text-[10px]",children:"-"})]})]})]})]},w)},m=w=>{const R=c(w.tier);return i.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/50 rounded p-4 flex flex-col gap-3 hover:border-slate-500 transition-colors relative overflow-hidden group h-full animate-fade-in",children:[i.jsxs("div",{className:"flex gap-4 items-start relative z-10",children:[i.jsx("div",{className:"w-12 h-12 shrink-0 rounded-lg bg-slate-900/80 flex items-center justify-center shadow-inner border border-slate-700 group-hover:scale-105 transition-transform duration-300",children:Rn(w.type,w.color,"w-8 h-8")}),i.jsxs("div",{className:"flex flex-col flex-grow",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("h4",{className:"font-bold text-white text-sm md:text-base",style:{color:w.color},children:w.name}),i.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${R.color} ${R.border} bg-black/40`,children:R.label})]}),i.jsx("p",{className:"text-xs md:text-sm text-slate-400 mt-1 leading-snug",children:w.description}),(w.damage||w.range)&&i.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs mt-2 bg-black/20 p-2 rounded text-slate-300",children:[w.damage&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"DMG"}),i.jsx("span",{className:"font-mono text-white",children:w.damage})]}),w.damageType&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"TYPE"}),i.jsx("span",{className:"font-bold",style:{color:ur[w.damageType]},children:w.damageType.substring(0,3)})]}),w.range&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"RNG"}),i.jsx("span",{className:"font-mono",children:w.range})]}),w.cooldown&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-500",children:"CD"}),i.jsxs("span",{className:"font-mono",children:[(w.cooldown/60).toFixed(1),"s"]})]})]})]})]}),i.jsxs("div",{className:"mt-auto pt-2 border-t border-slate-700/30 flex justify-between items-center text-xs font-mono relative z-10",children:[i.jsx("span",{className:"text-slate-500",children:"Base Cost"}),i.jsxs("span",{className:"text-gold-accent font-bold",children:[w.baseCost,"g"]})]}),i.jsx("div",{className:`absolute -right-4 -bottom-4 w-24 h-24 rounded-full opacity-5 pointer-events-none ${R.bg.replace("/20","/100")}`})]},w.type)},E=(w,R)=>{const N=R.filter(b=>b.tier===w);if(N.length===0)return null;const I=c(w);return i.jsxs("div",{className:"mb-4 last:mb-0",children:[i.jsx("h4",{className:`text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 ${I.color} opacity-80 pl-2 border-l-2 ${I.border.replace("border","border-l")}`,children:I.label}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:N.map(m)})]},`tier-${w}`)},j=w=>{if(w.length===0)return i.jsx("div",{className:"text-slate-500 text-sm italic p-4",children:"No upgrades found in this category."});const R=Array.from(new Set(w.map(N=>N.tier))).sort((N,I)=>N-I);return i.jsx("div",{className:"space-y-6",children:R.map(N=>E(N,w))})},M=()=>{if(!t)return i.jsx("div",{className:"text-center text-slate-500 p-8",children:"No Game State Available"});const w=Object.entries(t.tower.modules).filter(([b,G])=>{var D;return G>0&&((D=re[b])==null?void 0:D.type.startsWith("TURRET"))}).map(([b,G])=>({type:b,count:G,def:re[b]}));if(w.length===0)return i.jsx("div",{className:"text-center text-slate-500 p-8 italic text-lg",children:"No active weapon modules installed."});const R=b=>{if(!n)return;const G=t.tower.moduleTargeting[b]||tt.NEAREST,D=Object.values(tt),J=(D.indexOf(G)+1)%D.length;n(b,D[J])},N=(b,G,D,J)=>{var F;const _e=t.tower.moduleTargeting[b]||tt.NEAREST,z=c(D.tier);return i.jsxs("div",{className:"bg-slate-800/40 border border-slate-700/50 rounded p-4 flex flex-col sm:flex-row items-center gap-4 hover:border-slate-500 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-16 h-16 rounded-lg bg-slate-900 border border-slate-700 flex items-center justify-center shadow-lg",children:Rn(b,D.color,"w-10 h-10")}),i.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-slate-700 border border-slate-500 text-white font-bold px-2 py-0.5 rounded text-xs shadow",children:["x",G]})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h4",{className:"font-bold text-white text-base md:text-lg",style:{color:D.color},children:D.name}),i.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded border w-fit ${z.color} ${z.border} bg-black/40 mt-1`,children:z.label})]})]}),i.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-x-4 gap-y-1 text-xs md:text-sm text-slate-400 bg-black/20 p-2 rounded w-full sm:w-auto",children:[i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsx("span",{children:"Type:"})," ",i.jsx("span",{className:"text-white font-mono",children:(F=D.damageType)==null?void 0:F.substring(0,3)})]}),i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsx("span",{children:"Base Dmg:"})," ",i.jsx("span",{className:"text-white font-mono",children:D.damage})]}),i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsx("span",{children:"Range:"})," ",i.jsx("span",{className:"text-white font-mono",children:D.range||"N/A"})]}),i.jsxs("div",{className:"flex justify-between gap-4",children:[i.jsx("span",{children:"Cooldown:"})," ",i.jsxs("span",{className:"text-white font-mono",children:[(D.cooldown||60)/60,"s"]})]})]}),i.jsxs("div",{className:"flex flex-col gap-1 w-full sm:w-auto shrink-0",children:[i.jsx("span",{className:"text-[10px] uppercase text-slate-500 font-bold tracking-wider text-center sm:text-left",children:"Target Priority"}),i.jsxs("button",{id:`module-targeting-btn-${J}`,onClick:()=>R(b),className:"bg-slate-700 hover:bg-slate-600 text-cyan-300 border border-slate-500 px-4 py-2 rounded font-bold text-sm uppercase tracking-wide transition-colors flex justify-between items-center gap-2 min-w-[140px]",children:[i.jsx("span",{children:_e}),i.jsx("span",{className:"text-slate-400 text-xs",children:""})]})]})]},b)},I=[1,2,3,4];return i.jsx("div",{className:"grid grid-cols-1 gap-6",children:I.map(b=>{const G=w.filter(J=>J.def.tier===b).sort((J,_e)=>_e.count-J.count);if(G.length===0)return null;const D=c(b);return i.jsxs("div",{children:[i.jsx("h4",{className:`text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 ${D.color} opacity-80 pl-2 border-l-2 ${D.border.replace("border","border-l")}`,children:D.label}),i.jsx("div",{className:"grid grid-cols-1 gap-4",children:G.map((J,_e)=>N(J.type,J.count,J.def,_e))})]},b)})})};return i.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 md:p-8",children:i.jsxs("div",{className:"bg-slate-900/85 backdrop-blur-xl border border-slate-600 rounded-lg w-full max-w-5xl h-[85vh] md:h-[80vh] flex flex-col shadow-2xl overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center p-4 md:p-6 border-b border-slate-700/50 bg-slate-900/40 gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-4 md:gap-6 w-full md:w-auto",children:[i.jsx("h2",{className:"text-xl md:text-2xl font-bold text-gold-accent tracking-widest uppercase",children:"Void Codex"}),i.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[i.jsx("button",{id:"codex-tab-enemies",onClick:()=>s("ENEMIES"),className:`flex-1 md:flex-none px-4 py-2 rounded text-sm font-bold uppercase tracking-wide transition-all ${r==="ENEMIES"?"bg-slate-700/80 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:"Enemies"}),i.jsx("button",{id:"codex-tab-upgrades",onClick:()=>s("UPGRADES"),className:`flex-1 md:flex-none px-4 py-2 rounded text-sm font-bold uppercase tracking-wide transition-all ${r==="UPGRADES"?"bg-slate-700/80 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:"Upgrades"}),t&&i.jsx("button",{id:"codex-tab-modules",onClick:()=>s("MODULES"),className:`flex-1 md:flex-none px-4 py-2 rounded text-sm font-bold uppercase tracking-wide transition-all ${r==="MODULES"?"bg-slate-700/80 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:"Modules"})]})]}),i.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white hover:bg-red-500/20 px-4 py-2 rounded transition-colors text-sm font-bold w-full md:w-auto border border-slate-700 md:border-transparent",children:" CLOSE"})]}),i.jsxs("div",{id:"codex-content",className:"flex-1 overflow-y-auto p-4 md:p-6 scrollbar-thin scrollbar-thumb-slate-600 relative",children:[r==="ENEMIES"&&i.jsxs("div",{className:"space-y-8 animate-fade-in",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 text-slate-400 opacity-80 pl-2 border-l-2 border-slate-600",children:"Standard Threats"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:A.map(f)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-bold uppercase tracking-wider mb-3 flex items-center gap-2 text-red-500 opacity-80 pl-2 border-l-2 border-red-500",children:"Apex Threats"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:d.map(f)})]})]}),r==="UPGRADES"&&i.jsxs("div",{className:"pb-10 min-h-full flex flex-col",children:[i.jsx("div",{className:"sticky top-0 z-30 bg-slate-900/95 backdrop-blur-sm border-b border-slate-700/50 mb-6 pt-0 -mt-2 md:-mt-4 md:pt-4",children:i.jsxs("div",{className:"flex gap-6 px-2",children:[i.jsx("button",{onClick:()=>a("TOWER"),className:`pb-3 text-xs md:text-sm font-bold uppercase tracking-widest transition-all border-b-2 ${l==="TOWER"?"text-gold-accent border-gold-accent":"text-slate-500 border-transparent hover:text-slate-300 hover:border-slate-700"}`,children:"Tower Modules"}),i.jsx("button",{onClick:()=>a("SYSTEM"),className:`pb-3 text-xs md:text-sm font-bold uppercase tracking-widest transition-all border-b-2 ${l==="SYSTEM"?"text-gold-accent border-gold-accent":"text-slate-500 border-transparent hover:text-slate-300 hover:border-slate-700"}`,children:"System"}),i.jsx("button",{onClick:()=>a("ECONOMY"),className:`pb-3 text-xs md:text-sm font-bold uppercase tracking-widest transition-all border-b-2 ${l==="ECONOMY"?"text-gold-accent border-gold-accent":"text-slate-500 border-transparent hover:text-slate-300 hover:border-slate-700"}`,children:"Economy"})]})}),i.jsxs("div",{className:"flex-grow",children:[l==="TOWER"&&j(g),l==="SYSTEM"&&j(p),l==="ECONOMY"&&j(S)]}),i.jsx("div",{className:"mt-8 pt-8 border-t border-slate-700/50 text-center",children:i.jsx("p",{className:"text-xs text-slate-500 italic",children:"* Costs shown are Base Costs. Prices increase exponentially for each upgrade of the same type you own."})})]}),r==="MODULES"&&i.jsxs("div",{className:"animate-fade-in",children:[i.jsxs("div",{className:"mb-6 border-b border-slate-700/50 pb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Active Weapons Array"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Manage targeting priority for each weapon type independently."})]}),M()]})]})]})})},Yf=({gameState:e,onStart:t,onOpenTutorial:n,onOpenCodex:r,onOpenLeaderboard:s,onOpenChangelog:l})=>{var a,c;return i.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col items-center justify-center bg-void-dark/80 backdrop-blur-sm animate-fade-in p-4",children:[i.jsxs("a",{href:"https://buymeacoffee.com/swordandbored",target:"_blank",rel:"noopener noreferrer",className:"absolute top-4 right-4 md:top-6 md:right-6 flex items-center gap-2 bg-yellow-500/10 hover:bg-yellow-500/20 border border-yellow-500/30 px-3 py-2 rounded-lg transition-all hover:scale-105 group",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[11px] uppercase font-bold text-yellow-500 group-hover:text-yellow-400 leading-none",children:"Enjoying the game?"}),i.jsx("span",{className:"text-[10px] text-yellow-200/60 group-hover:text-yellow-200 font-mono",children:"Buy me a coffee"})]})]}),i.jsxs("div",{className:"mb-8 md:mb-12 text-center relative group",children:[i.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg blur opacity-25 group-hover:opacity-75 transition duration-1000 group-hover:duration-200"}),i.jsxs("h1",{className:"relative text-4xl sm:text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-100 via-purple-100 to-blue-100 tracking-tighter filter drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]",children:["TOWER",i.jsx("br",{}),"SURVIVORS"]}),i.jsx("p",{className:"relative text-gold-accent font-mono tracking-[0.3em] md:tracking-[0.5em] text-sm md:text-lg mt-2 md:mt-4 uppercase",children:"The Infinite Spire"})]}),i.jsxs("div",{className:"flex flex-col gap-3 md:gap-4 items-center w-full max-w-sm md:max-w-md px-4 md:px-8",children:[i.jsx("button",{onClick:t,className:"w-full py-3 md:py-4 bg-slate-100 text-void-dark font-black text-lg md:text-xl tracking-widest uppercase rounded shadow-[0_0_20px_rgba(255,255,255,0.3)] hover:scale-105 hover:bg-white hover:shadow-[0_0_40px_rgba(255,255,255,0.6)] transition-all duration-300",children:"Initialize Defense"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[i.jsx("button",{onClick:n,className:"py-3 bg-slate-800 text-slate-300 font-bold text-xs md:text-base tracking-widest uppercase rounded border border-slate-600 hover:bg-slate-700 hover:text-white hover:border-slate-400 transition-all duration-300",children:"Tutorial"}),i.jsx("button",{onClick:r,className:"py-3 bg-slate-800 text-slate-300 font-bold text-xs md:text-base tracking-widest uppercase rounded border border-slate-600 hover:bg-slate-700 hover:text-white hover:border-slate-400 transition-all duration-300",children:"Codex"}),i.jsx("button",{onClick:s,className:"py-3 bg-slate-800 text-slate-300 font-bold text-xs md:text-base tracking-widest uppercase rounded border border-slate-600 hover:bg-slate-700 hover:text-white hover:border-slate-400 transition-all duration-300",children:"Ranking"}),i.jsx("button",{onClick:l,className:"py-3 bg-slate-800 text-slate-300 font-bold text-xs md:text-base tracking-widest uppercase rounded border border-slate-600 hover:bg-slate-700 hover:text-white hover:border-slate-400 transition-all duration-300",children:"Change Log"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 md:gap-4 w-full text-center mt-2",children:[i.jsxs("div",{className:"bg-void-panel/80 border border-slate-700 p-3 md:p-4 rounded backdrop-blur",children:[i.jsx("p",{className:"text-xs md:text-sm text-slate-500 uppercase tracking-wide mb-1",children:"High Score"}),i.jsx("p",{className:"text-xl md:text-2xl font-mono text-gold-accent",children:(e==null?void 0:e.highScore)||0})]}),i.jsxs("div",{className:"bg-void-panel/80 border border-slate-700 p-3 md:p-4 rounded backdrop-blur",children:[i.jsx("p",{className:"text-xs md:text-sm text-slate-500 uppercase tracking-wide mb-1",children:"Last Wave"}),i.jsx("p",{className:"text-xl md:text-2xl font-mono text-blue-400",children:((c=(a=e==null?void 0:e.leaderboard)==null?void 0:a[0])==null?void 0:c.wave)||0})]})]}),i.jsx("div",{className:"mt-4 md:mt-8 text-center space-y-2",children:i.jsx("p",{className:"text-xs md:text-sm text-slate-500 font-mono",children:"Stack upgrades. Survive the void."})})]}),i.jsx("div",{className:"absolute bottom-4 flex flex-col items-center gap-2",children:i.jsxs("div",{className:"flex items-center gap-2 text-xs font-mono uppercase",children:[e!=null&&e.isServerConnected?i.jsxs("div",{className:"flex items-center gap-1.5 text-green-400",children:[i.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.6)]"}),i.jsx("span",{children:"System Online"})]}):i.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[i.jsx("span",{className:"w-2 h-2 bg-red-500/50 rounded-full"}),i.jsx("span",{children:"Offline Mode (Local)"})]}),i.jsx("span",{className:"text-slate-700",children:"|"}),i.jsx("span",{className:"text-slate-600",children:Qu})]})})]})},Kf=({gameState:e,onUnlock:t,onClose:n})=>{const r=Object.values(In).filter(o=>o.category==="ACTIVE"),s=Object.values(In).filter(o=>o.category==="PASSIVE"),l=o=>{switch(o){case L.PASSIVE_PHYSICAL:return"PHYSICAL";case L.PASSIVE_MAGIC:return"MAGIC";case L.PASSIVE_FIRE:return"FIRE";case L.PASSIVE_ICE:return"ICE";case L.PASSIVE_POISON:return"POISON";case L.PASSIVE_CHAOS:return"CHAOS";default:return""}},a=o=>{let h="";switch(o){case L.PASSIVE_PHYSICAL:h="PHYSICAL";break;case L.PASSIVE_MAGIC:h="MAGIC";break;case L.PASSIVE_FIRE:h="FIRE";break;case L.PASSIVE_ICE:h="ICE";break;case L.PASSIVE_POISON:h="POISON";break;case L.PASSIVE_CHAOS:h="CHAOS";break;default:return 0}let g=0;return Object.entries(e.tower.modules).forEach(([p,S])=>{const y=re[p];y&&y.type.startsWith("TURRET")&&y.damageType===h&&(g+=S)}),g},c=o=>{const h=e.abilities[o.type],g=e.gold>=o.cost,p=h.unlocked;return i.jsx("div",{className:`relative border-2 rounded-xl p-4 transition-all duration-300 group ${p?"border-cyan-500/50 bg-cyan-900/10":"border-slate-700/50 bg-slate-900/40"}`,children:i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-9 h-9 rounded flex items-center justify-center font-bold text-base bg-black/50 border border-slate-600 shadow-lg text-white font-mono shrink-0",children:o.hotkey}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 text-white opacity-80",children:Pa(o.type,o.color)}),i.jsx("h3",{className:"text-xl font-bold text-white uppercase tracking-wider",children:o.name})]})]}),i.jsx("p",{className:"text-slate-300 text-sm leading-relaxed mb-4 flex-grow",children:o.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono text-slate-400 mb-4",children:[i.jsxs("div",{className:"bg-black/30 p-2 rounded border border-slate-800/50 text-center",children:[i.jsx("span",{className:"text-slate-500 block text-[10px] uppercase",children:"Cooldown"}),i.jsx("span",{className:"text-white",children:o.cooldown>0?`${o.cooldown}s`:"Once per run"})]}),i.jsxs("div",{className:"bg-black/30 p-2 rounded border border-slate-800/50 text-center",children:[i.jsx("span",{className:"text-slate-500 block text-[10px] uppercase",children:"Duration"}),i.jsx("span",{className:"text-white",children:o.duration>0?`${o.duration}s`:"Instant"})]})]}),i.jsx("div",{className:"mt-auto",children:p?i.jsxs("button",{disabled:!0,className:"w-full py-2 bg-slate-800/40 text-cyan-400 font-bold uppercase tracking-widest border border-cyan-500/30 rounded cursor-default flex items-center justify-center gap-2 text-sm",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"})," System Online"]}):i.jsxs("button",{onClick:()=>t(o.type),disabled:!g,className:`w-full py-3 font-bold uppercase tracking-widest rounded shadow-lg transition-all flex items-center justify-center gap-3 text-sm
                                ${g?"bg-gradient-to-r from-slate-700/80 to-slate-800/80 hover:from-cyan-600 hover:to-blue-600 text-white border border-slate-500 hover:border-cyan-400 hover:scale-[1.02]":"bg-slate-800/60 text-slate-500 border border-slate-700/50 cursor-not-allowed"}
                            `,children:[i.jsx("span",{children:"Unlock"}),i.jsxs("span",{className:`px-2 py-0.5 rounded text-xs ${g?"bg-black/40 text-gold-accent":"bg-black/20"}`,children:[o.cost,"g"]})]})})]})},o.type)},u=o=>{const h=e.abilities[o.type],g=Math.floor(o.cost*Math.pow(o.costScaling||1.2,h.level)),p=e.gold>=g,S=(h.level*(o.statBonus||0)*100).toFixed(0),y=((h.level+1)*(o.statBonus||0)*100).toFixed(0),T=a(o.type);return i.jsxs("div",{className:"bg-slate-900/40 border border-slate-700/50 rounded p-4 flex flex-col justify-between hover:border-slate-500 transition-colors group",children:[i.jsx("div",{className:"flex justify-between items-start mb-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full border shadow-sm flex items-center justify-center bg-slate-900/80 group-hover:scale-110 transition-transform",style:{borderColor:o.color},children:Pa(o.type,o.color)}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white text-base",style:{color:o.color},children:o.name}),i.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-black/40 border border-white/10",style:{color:o.color},children:l(o.type)}),i.jsxs("span",{className:"text-xs text-slate-400 font-mono",children:["Lvl ",h.level]})]}),i.jsxs("div",{className:"text-xs text-slate-500 font-mono mt-1",children:["Modules: ",i.jsx("span",{className:"text-white font-bold text-sm ml-1",children:T})]})]})]})]})}),i.jsxs("div",{className:"text-center my-3 bg-black/20 rounded p-2",children:[i.jsxs("div",{className:"text-2xl font-mono font-bold text-white",children:["+",S,"%"]}),i.jsx("div",{className:"text-[10px] text-slate-500 uppercase",children:"Current Damage Bonus"})]}),i.jsxs("button",{onClick:()=>t(o.type),disabled:!p,className:`w-full py-2 mt-2 font-bold uppercase tracking-widest rounded flex flex-col items-center justify-center text-xs border transition-all
                      ${p?"bg-slate-800 hover:bg-slate-700 text-white border-slate-600 hover:border-white":"bg-slate-900/50 text-slate-600 border-slate-800 cursor-not-allowed"}
                  `,children:[i.jsxs("span",{children:["UPGRADE TO +",y,"%"]}),i.jsxs("span",{className:`mt-0.5 ${p?"text-gold-accent":"text-slate-700"}`,children:[g,"g"]})]})]},o.type)};return i.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 md:p-8",children:i.jsxs("div",{className:"bg-slate-900/85 backdrop-blur-xl border border-slate-600 rounded-lg w-full max-w-5xl h-[90vh] md:h-[85vh] flex flex-col shadow-[0_0_50px_rgba(0,0,0,0.8)] overflow-hidden",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center p-4 md:p-6 border-b border-slate-700/50 bg-slate-900/40 gap-4 shrink-0",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 tracking-widest uppercase",children:"Tech Tree"}),i.jsx("p",{className:"text-slate-400 text-xs md:text-sm mt-1 font-mono",children:"Unlock protocols and amplify elemental resonance."})]}),i.jsxs("div",{className:"flex items-center justify-between w-full md:w-auto gap-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Resources"}),i.jsxs("div",{className:"text-xl md:text-2xl font-bold text-gold-accent font-mono",children:[e.gold," Gold"]})]}),i.jsx("button",{onClick:n,className:"bg-slate-800/80 hover:bg-slate-700 text-white px-4 py-2 rounded border border-slate-600 transition-colors uppercase font-bold text-sm tracking-wide",children:"Return"})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 scrollbar-thin scrollbar-thumb-slate-700",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-cyan-400 font-bold uppercase tracking-widest text-sm mb-4 border-b border-slate-700/50 pb-2 flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-cyan-400 rounded-full shadow-[0_0_5px_#22d3ee]"}),"Active Protocols"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(c)})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-purple-400 font-bold uppercase tracking-widest text-sm mb-4 border-b border-slate-700/50 pb-2 flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full shadow-[0_0_5px_#c084fc]"}),"Elemental Resonances (Infinite Scaling)"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map(u)})]})]})]})})},Qf=({onClose:e,onSetCodexOpen:t,onSetCodexTab:n,onSetTechShopOpen:r})=>{const[s,l]=W.useState(0),[a,c]=W.useState(null),u=W.useRef(null),o=8,h=[{title:"Defense Protocol Initialized",description:"Welcome to the Spire. Your objective is to defend the central tower against infinite waves of void entities.",placement:"center",action:()=>{t(!1),r(!1)}},{title:"Resource Management",description:"Track your current Gold and Score here. You earn Gold by destroying enemies.",targetIds:["mobile-hud-stats-mobile","desktop-hud-resources-desktop"],placement:"bottom"},{title:"System Integrity",description:"Monitor your Tower's HP and vital statistics in the System Output panel. Critical damage will be indicated here.",targetIds:["desktop-hud-panel-integrity"],placement:"bottom"},{title:"Time Dilation",description:"Toggle between 1x and 2x speed to accelerate time during slow waves. Use with caution.",targetIds:["mobile-hud-btn-speed-mobile","desktop-hud-btn-speed-desktop"],placement:"bottom"},{title:"The Void Market",description:"Purchase upgrade modules here. Modules stack infinitely to increase your power. Warning: The shop rotates every 20 seconds.",targetIds:["mobile-hud-shop-container","desktop-hud-shop-container"],placement:"top"},{title:"Tech Tree Access",description:"Open the Tech Tree to unlock powerful active abilities and permanent passive scaling stats.",targetIds:["mobile-hud-btn-tech-mobile","desktop-hud-btn-tech-desktop"],placement:"top"},{title:"Codex Access",description:"The Codex is your central database for enemy intelligence, upgrade details, and weapon configuration.",targetIds:["mobile-hud-btn-codex-mobile","desktop-hud-btn-codex-desktop"],placement:"top",action:()=>{t(!1),r(!1)}},{title:"Enemy Database",description:"View detailed stats, resistances, and weaknesses for all known void entities. Knowing your enemy is key to survival.",targetIds:["codex-tab-enemies"],placement:"bottom",action:()=>{t(!0),n("ENEMIES")}},{title:"Upgrade Database",description:"Browse all potential upgrades, including their stats and tier rarity. Plan your build strategy here.",targetIds:["codex-tab-upgrades"],placement:"bottom",action:()=>{t(!0),n("UPGRADES")}},{title:"Active Modules",description:"View your currently installed weapon modules here. This overview shows your exact loadout.",targetIds:["codex-tab-modules"],placement:"bottom",action:()=>{t(!0),n("MODULES")}},{title:"Targeting Logic",description:"CRITICAL: You can customize targeting priorities for each weapon type. Switch high-damage weapons to 'Strongest' or rapid-fire to 'Nearest' to maximize efficiency.",targetIds:["module-targeting-btn-0"],placement:"top",action:()=>{t(!0),n("MODULES")}},{title:"Elite Hostiles",description:"High-threat Elite enemies are identified by a pulsing golden aura. They are tougher and deal more damage, but yield triple rewards.",placement:"center",action:()=>t(!1),content:i.jsx("div",{className:"flex justify-center py-4",children:i.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center bg-slate-900 rounded-xl border border-yellow-500/50 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:[i.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-xl animate-pulse"}),i.jsx("div",{className:"relative z-10 p-2 transform scale-150",children:vi(k.GRUNT,"#fbbf24","w-10 h-10")}),i.jsx("div",{className:"absolute -bottom-3 px-3 py-0.5 bg-yellow-500 text-slate-900 font-bold text-[10px] uppercase tracking-wider rounded-full border-2 border-slate-900 shadow-sm",children:"Elite"})]})})},{title:"Good Luck",description:"The void adapts. Stay vigilant.",placement:"center"}],g=h[s];W.useEffect(()=>{g.action&&g.action()},[s]),W.useEffect(()=>{const d=()=>{if(!g.targetIds){c(null),u.current=requestAnimationFrame(d);return}let f=null;for(const m of g.targetIds){const E=document.getElementById(m);if(E){const j=E.getBoundingClientRect();if(j.width>0&&j.height>0){f=E;break}}}if(f){const m=f.getBoundingClientRect();c(m)}else c(null);u.current=requestAnimationFrame(d)};return u.current=requestAnimationFrame(d),()=>{u.current&&cancelAnimationFrame(u.current)}},[s,g]);const p=()=>{s<h.length-1?l(s+1):e()},S=()=>{s>0&&l(s-1)},y=()=>{const d="absolute bg-black/60 backdrop-blur-[2px] transition-all duration-75 pointer-events-auto";if(!a)return i.jsx("div",{className:`inset-0 ${d} z-30`});const{top:f,bottom:m,left:E,right:j}=a,M=Math.max(0,f-o),w=Math.min(window.innerHeight,m+o),R=Math.max(0,E-o),N=Math.min(window.innerWidth,j+o);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:d,style:{top:0,left:0,right:0,height:M,zIndex:30}}),i.jsx("div",{className:d,style:{top:w,left:0,right:0,bottom:0,zIndex:30}}),i.jsx("div",{className:d,style:{top:M,left:0,width:R,height:w-M,zIndex:30}}),i.jsx("div",{className:d,style:{top:M,left:N,right:0,height:w-M,zIndex:30}})]})},T=()=>{if(!a)return null;const d={top:a.top-o,left:a.left-o,width:a.width+o*2,height:a.height+o*2};return i.jsx("div",{className:"absolute border-4 border-gold-accent rounded-lg shadow-[0_0_30px_rgba(251,191,36,0.5)] z-40 transition-all duration-75 ease-out animate-pulse-slow pointer-events-none",style:d})},A=()=>{if(!a||g.placement==="center")return{top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"400px",width:"90%"};const d=20,f=320,m=f/2,E=20;let j=a.left+a.width/2;j=Math.max(d+m,Math.min(window.innerWidth-d-m,j));let M=0,w="translateX(-50%)";return g.placement==="top"?(M=a.top-o-E,w="translate(-50%, -100%)",M<120&&(M=a.bottom+o+E,w="translate(-50%, 0)")):(M=a.bottom+o+E,w="translate(-50%, 0)",M>window.innerHeight-150&&(M=a.top-o-E,w="translate(-50%, -100%)")),{top:M,left:j,transform:w,maxWidth:`${f}px`,width:"90%"}};return i.jsxs("div",{className:"fixed inset-0 z-[100] bg-transparent",children:[y(),T(),i.jsxs("div",{className:"absolute bg-slate-900/95 border border-slate-500 text-white p-5 rounded-lg shadow-2xl transition-all duration-75 z-50 flex flex-col gap-4",style:A(),children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-gold-accent font-bold uppercase tracking-widest text-base",children:g.title}),i.jsxs("span",{className:"text-xs text-slate-500 font-mono bg-black/40 px-2 py-0.5 rounded",children:[s+1," / ",h.length]})]}),i.jsx("p",{className:"text-sm md:text-base text-slate-300 leading-relaxed",children:g.description}),g.content&&i.jsx("div",{className:"mt-2",children:g.content})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2 border-t border-slate-700/50 pt-3",children:[i.jsx("button",{onClick:e,className:"text-xs uppercase font-bold text-slate-500 hover:text-white transition-colors",children:"Skip"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:S,disabled:s===0,className:"px-4 py-2 rounded bg-slate-800 hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-bold border border-slate-600 transition-colors",children:"Prev"}),i.jsx("button",{onClick:p,className:"px-5 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-sm font-bold shadow-lg transition-colors",children:s===h.length-1?"Finish":"Next"})]})]})]})]})},Xf=({leaderboard:e,onClose:t})=>i.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl border border-slate-600 rounded-lg w-full max-w-2xl h-[80vh] flex flex-col shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden animate-fade-in-up",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 md:p-6 border-b border-slate-700/50 bg-slate-900/40",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl md:text-2xl font-black text-gold-accent tracking-widest uppercase",children:"Leaderboard"}),i.jsx("p",{className:"text-sm text-slate-400 font-mono",children:"Global Defense Rankings"})]}),i.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white px-4 py-2 rounded border border-slate-700 hover:border-slate-500 hover:bg-slate-800 transition-colors text-xs font-bold uppercase tracking-wider",children:"Close"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-0 scrollbar-thin scrollbar-thumb-slate-700",children:e.length===0?i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 italic gap-2 text-base",children:i.jsx("p",{children:"No records found."})}):i.jsxs("table",{className:"w-full text-left text-sm md:text-base",children:[i.jsx("thead",{className:"text-xs md:text-sm text-slate-500 uppercase font-mono bg-slate-900 sticky top-0 z-10 shadow-sm",children:i.jsxs("tr",{children:[i.jsx("th",{className:"p-3 md:p-4 font-normal tracking-wider",children:"Rank"}),i.jsx("th",{className:"p-3 md:p-4 font-normal tracking-wider",children:"Name"}),i.jsx("th",{className:"p-3 md:p-4 text-right font-normal tracking-wider",children:"Wave"}),i.jsx("th",{className:"p-3 md:p-4 text-right font-normal tracking-wider",children:"Score"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-800/50 bg-slate-900/20",children:e.map((n,r)=>{const s=r<3;let l="text-slate-500";return r===0&&(l="text-yellow-400"),r===1&&(l="text-slate-300"),r===2&&(l="text-amber-600"),i.jsxs("tr",{className:`hover:bg-slate-800/40 transition-colors ${s?"bg-white/5":""}`,children:[i.jsxs("td",{className:`p-3 md:p-4 font-mono font-bold ${l}`,children:["#",r+1]}),i.jsxs("td",{className:"p-3 md:p-4 font-bold text-slate-200",children:[n.name,r===0&&i.jsx("span",{className:"ml-2 text-xs bg-yellow-500/20 text-yellow-400 px-1.5 py-0.5 rounded border border-yellow-500/30",children:"CHAMPION"})]}),i.jsx("td",{className:"p-3 md:p-4 text-right text-blue-400 font-mono font-bold",children:n.wave}),i.jsx("td",{className:"p-3 md:p-4 text-right text-gold-accent font-mono font-bold text-lg",children:n.score.toLocaleString()})]},r)})})]})}),i.jsx("div",{className:"p-3 border-t border-slate-700/50 bg-slate-900/60 text-center",children:i.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-widest",children:"Records are synchronized globally."})})]})}),Zf=({onClose:e})=>i.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-xl border border-slate-600 rounded-lg w-full max-w-2xl h-[80vh] flex flex-col shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden animate-fade-in-up",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 md:p-6 border-b border-slate-700/50 bg-slate-900/40",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl md:text-2xl font-black text-slate-200 tracking-widest uppercase",children:"Change Log"}),i.jsx("p",{className:"text-sm text-slate-400 font-mono",children:"System Update History"})]}),i.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white px-4 py-2 rounded border border-slate-700 hover:border-slate-500 hover:bg-slate-800 transition-colors text-xs font-bold uppercase tracking-wider",children:"Close"})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-slate-700 text-slate-300 leading-relaxed",children:i.jsxs("div",{className:"mb-8",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"v0.2 (Demo)"}),i.jsx("div",{className:"text-xs text-slate-500 font-mono mb-4 uppercase",children:"Latest Release"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-cyan-400 font-bold uppercase text-xs tracking-wider mb-2 border-b border-slate-700/50 pb-1 w-fit",children:"Balance & Gameplay Adjustments"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[i.jsx("li",{children:"Legendary module drop rate rebalanced to make them less common and better aligned with intended progression."}),i.jsx("li",{children:"Damage percentage upgrade tiers adjusted for smoother scaling and reduced overpowered builds."}),i.jsx("li",{children:"Astral Ring module fully reworked; its effect now functions correctly and scales as intended."}),i.jsx("li",{children:"Added a new tower targeting option: Fastest in Range."}),i.jsx("li",{children:"Fixed a potentially game-breaking bug involving healer enemies."})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-cyan-400 font-bold uppercase text-xs tracking-wider mb-2 border-b border-slate-700/50 pb-1 w-fit",children:"Audio"}),i.jsx("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:i.jsx("li",{children:"Slightly adjusted several sound effects for clarity and overall polish."})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-cyan-400 font-bold uppercase text-xs tracking-wider mb-2 border-b border-slate-700/50 pb-1 w-fit",children:"UI Improvements"}),i.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",children:[i.jsx("li",{children:"Health numbers now display alongside the health bar for better readability."}),i.jsx("li",{children:"Increased various text sizes to improve visibility."}),i.jsx("li",{children:"Additional small UI polish across menus and in-game HUD."})]})]})]})]})})]})}),Jf=async e=>{const t=["The void hungers...","Shadows lengthen around the spire.","They are coming.","A chill wind blows from the abyss.","The ground trembles.","Darkness gathers.","Protect the core at all costs.","Relentless.","Entropy increases.","The swarm approaches.","Geometric shapes screech in the distance.","No escape.","The Infinite Spire endures.","Another wave breaks against the walls.","Signal lost...","The silence is deafening.","They adapt.","Power levels fluctuating."],n=t[Math.floor(Math.random()*t.length)];return Promise.resolve(n)};function qf(){const e=W.useRef(null),[t,n]=W.useState(null),[r,s]=W.useState(!1),[l,a]=W.useState("ENEMIES"),[c,u]=W.useState(!1),[o,h]=W.useState(!1),[g,p]=W.useState(!1),[S,y]=W.useState(!1),[T,A]=W.useState(!1),[d,f]=W.useState({width:1280,height:720});W.useEffect(()=>{const z=()=>{const F=Qt/Xt,O=window.innerWidth,U=window.innerHeight,H=O/U;let K,q;const Rt=O*.98,Xe=U*.98;H>F?(q=Xe,K=q*F):(K=Rt,q=K/F),f({width:K,height:q})};return z(),window.addEventListener("resize",z),e.current||(e.current=new Df(F=>{n({...F})},E),n(e.current.getState())),()=>{var F;window.removeEventListener("resize",z),(F=e.current)==null||F.stop()}},[]),W.useEffect(()=>{if(!e.current)return;T&&(r||c||o||g||S?e.current.stop():e.current.start())},[r,c,o,g,S,T]);const m=()=>{var z;Le.init(),A(!0),(z=e.current)==null||z.start()},E=async z=>{try{const F=await Jf(z);e.current&&e.current.setFlavorText(F)}catch(F){console.error("Failed to generate flavor text",F)}},j=()=>{var z;(z=e.current)==null||z.restart()},M=()=>{var z;(z=e.current)==null||z.reset(),A(!1)},w=z=>{var F;(F=e.current)==null||F.buyUpgrade(z)},R=()=>{var z;(z=e.current)==null||z.triggerReroll()},N=z=>{var F;(F=e.current)==null||F.unlockAbility(z)},I=()=>{var z;(z=e.current)==null||z.toggleTargetingMode()},b=(z,F)=>{var O;(O=e.current)==null||O.setModuleTargeting(z,F)},G=z=>{var F;(F=e.current)==null||F.saveHighScore(z)},D=()=>{var z;(z=e.current)==null||z.toggleGameSpeed()};if(!t)return i.jsx("div",{className:"bg-void-dark h-screen w-screen flex items-center justify-center text-white",children:"Loading Spire..."});const J=t?Math.floor((Math.max(1,t.wave)-1)/5)%Ps.length:0,_e=Ps[J];return i.jsxs("div",{className:"relative w-screen h-screen overflow-hidden flex items-center justify-center font-sans transition-colors duration-[2000ms] ease-in-out touch-none select-none",style:{backgroundColor:_e},children:[T&&i.jsxs("div",{className:"absolute top-24 md:top-8 left-0 w-full text-center pointer-events-none z-10 animate-float",children:[i.jsxs("h1",{className:"text-xl md:text-3xl font-bold text-slate-200 tracking-[0.5em] uppercase opacity-90 drop-shadow-lg mix-blend-overlay",children:["Wave ",t.wave]}),i.jsx("p",{className:"text-gold-accent font-mono text-xs md:text-sm mt-1 md:mt-2 inline-block bg-black/40 px-4 py-1 rounded border border-gold-accent/20 shadow-lg backdrop-blur-sm",children:t.flavorText})]}),i.jsxs("div",{className:`relative md:shadow-2xl md:rounded-lg overflow-hidden border border-slate-800/50 transition-all duration-1000 ${!T&&!o?"scale-105 blur-sm opacity-50":"scale-100 blur-0 opacity-100"}`,style:{width:d.width,height:d.height},children:[i.jsx(Wf,{engine:e.current,width:d.width,height:d.height}),(T||o)&&i.jsx("div",{className:"hidden md:block absolute inset-0 z-20 pointer-events-none",children:i.jsx(La,{gameState:t,onBuyItem:w,onReroll:R,onToggleTargeting:I,onOpenCodex:()=>s(!0),onOpenTechShop:()=>u(!0),onRestart:j,onMainMenu:M,onToggleSpeed:D,idPrefix:"desktop-hud"})})]}),(T||o)&&i.jsx("div",{className:"md:hidden absolute inset-0 z-20 pointer-events-none",children:i.jsx(La,{gameState:t,onBuyItem:w,onReroll:R,onToggleTargeting:I,onOpenCodex:()=>s(!0),onOpenTechShop:()=>u(!0),onRestart:j,onMainMenu:M,onToggleSpeed:D,idPrefix:"mobile-hud"})}),!T&&!o&&i.jsx(Yf,{gameState:t,onStart:m,onOpenTutorial:()=>h(!0),onOpenCodex:()=>s(!0),onOpenLeaderboard:()=>p(!0),onOpenChangelog:()=>y(!0)}),r&&i.jsx($f,{onClose:()=>s(!1),gameState:t,onSetTargeting:b,activeTab:l,onTabChange:a}),c&&i.jsx(Kf,{gameState:t,onUnlock:N,onClose:()=>u(!1)}),o&&i.jsx(Qf,{onClose:()=>{h(!1),s(!1),u(!1)},onSetCodexOpen:s,onSetCodexTab:a,onSetTechShopOpen:u}),g&&i.jsx(Xf,{leaderboard:t.leaderboard,onClose:()=>p(!1)}),S&&i.jsx(Zf,{onClose:()=>y(!1)}),t.isGameOver&&T&&i.jsx(Gf,{gameState:t,onRestart:j,onSaveScore:G,onMainMenu:M})]})}const Ju=document.getElementById("root");if(!Ju)throw new Error("Could not find root element to mount to");const eh=jl.createRoot(Ju);eh.render(i.jsx(gd.StrictMode,{children:i.jsx(qf,{})}));
